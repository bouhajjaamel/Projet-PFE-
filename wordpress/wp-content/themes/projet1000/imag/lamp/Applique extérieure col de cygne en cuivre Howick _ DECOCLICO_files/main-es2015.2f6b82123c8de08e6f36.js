(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+924":function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("9AQC");function i(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function s(t,e){var n=t,r=n.length;if(r<=150)return n;e>r&&(e=r);var i=Math.max(e-60,0);i<5&&(i=0);var s=Math.min(i+140,r);return s>r-5&&(s=r),s===r&&(i=Math.max(s-140,0)),n=n.slice(i,s),i>0&&(n="'{snip} "+n),s<r&&(n+=" {snip}"),n}function o(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(s){n.push("[value cannot be serialized]")}}return n.join(e)}function a(t,e){return!!Object(r.k)(t)&&(Object(r.j)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}},"+A1k":function(t,e,n){"use strict";function r(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(t,e){return t.require(e)}n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i})},"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a});var r=n("30Go"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],c=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService(c);a.resolve(u)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},1:function(t,e,n){t.exports=n("zUnb")},"1qfx":function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return l});var r=n("SOwp"),i=n("+A1k"),s=n("8LbN"),o=n("6PXS"),a=n("9AQC"),c=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],u={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},l=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:c,this._describeOperations=!("describeOperations"in t)||t.describeOperations,this._useMongoose=!!t.useMongoose}return e.prototype.setupOnce=function(e,n){var r,o=this._useMongoose?"mongoose":"mongodb";try{r=Object(i.a)(t,o).Collection}catch(a){return void s.a.error("Mongo Integration was unable to require `"+o+"` package.")}this._instrumentOperations(r,this._operations,n)},e.prototype._instrumentOperations=function(t,e,n){var r=this;e.forEach(function(e){return r._patchOperation(t,e,n)})},e.prototype._patchOperation=function(t,e,n){if(e in t.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);Object(o.c)(t.prototype,e,function(t){return function(){for(var s,o,c,u,l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var d=l[l.length-1],f=n().getScope(),p=null===(s=f)||void 0===s?void 0:s.getSpan();if("function"!=typeof d||"mapReduce"===e&&2===l.length){var g=null===(o=p)||void 0===o?void 0:o.startChild(i(this,e,l)),m=t.call.apply(t,Object(r.f)([this],l));return Object(a.m)(m)?m.then(function(t){var e;return null===(e=g)||void 0===e||e.finish(),t}):(null===(c=g)||void 0===c||c.finish(),m)}var y=null===(u=p)||void 0===u?void 0:u.startChild(i(this,e,l.slice(0,-1)));return t.call.apply(t,Object(r.f)([this],l.slice(0,-1),[function(t,e){var n;null===(n=y)||void 0===n||n.finish(),d(t,e)}]))}})}},e.prototype._getSpanContextFromOperationArguments=function(t,e,n){var i={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},s={op:"db",description:e,data:i},o=u[e],a=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!o||!a)return s;try{if("mapReduce"===e){var c=Object(r.d)(n,2),l=c[0],h=c[1];i[o[0]]="string"==typeof l?l:l.name||"<anonymous>",i[o[1]]="string"==typeof h?h:h.name||"<anonymous>"}else for(var d=0;d<o.length;d++)i[o[d]]=JSON.stringify(n[d])}catch(f){}return s},e.id="Mongo",e}()}).call(this,n("3UD+")(t))},2:function(t,e){},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"3W10":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],i="M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z";e.definition={prefix:"fas",iconName:"undo",icon:[512,512,r,"f0e2",i]},e.faUndo=e.definition,e.prefix="fas",e.iconName="undo",e.width=512,e.height=512,e.ligatures=r,e.unicode="f0e2",e.svgPathData=i},"4+EV":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],i="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z";e.definition={prefix:"fas",iconName:"times",icon:[352,512,r,"f00d",i]},e.faTimes=e.definition,e.prefix="fas",e.iconName="times",e.width=352,e.height=512,e.ligatures=r,e.unicode="f00d",e.svgPathData=i},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"5ggQ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],i="M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z";e.definition={prefix:"fas",iconName:"thumbs-up",icon:[512,512,r,"f164",i]},e.faThumbsUp=e.definition,e.prefix="fas",e.iconName="thumbs-up",e.width=512,e.height=512,e.ligatures=r,e.unicode="f164",e.svgPathData=i},"6PXS":function(t,e,n){"use strict";n.d(e,"c",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"e",function(){return d}),n.d(e,"d",function(){return g}),n.d(e,"b",function(){return m}),n.d(e,"a",function(){return y});var r=n("SOwp"),i=n("vFt6"),s=n("9AQC"),o=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t)return!0;return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}(),a=n("pRiV"),c=n("+924");function u(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(s){}t[e]=i}}function l(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function h(t){if(Object(s.d)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(Object(s.f)(t)){var o=t,a={};a.type=o.type;try{a.target=Object(s.c)(o.target)?Object(i.a)(o.target):Object.prototype.toString.call(o.target)}catch(c){a.target="<unknown>"}try{a.currentTarget=Object(s.c)(o.currentTarget)?Object(i.a)(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch(c){a.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&Object(s.g)(t,CustomEvent)&&(a.detail=o.detail),o)Object.prototype.hasOwnProperty.call(o,r)&&(a[r]=o);return a}return t}function d(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r,i=g(t,e);return r=JSON.stringify(i),~-encodeURI(r).split(/%..|./).length>n?d(t,e-1,n):i}function f(t,e){return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Object(s.l)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+Object(a.a)(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t}function p(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new o),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=f(t);return Object(s.i)(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var i=f(e,t);if(Object(s.i)(i))return i;var a=h(e),c=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(c[u]=p(u,a[u],n-1,r));return r.unmemoize(e),c}function g(t,e){try{return JSON.parse(JSON.stringify(t,function(t,n){return p(t,n,e)}))}catch(n){return"**non-serializable**"}}function m(t,e){void 0===e&&(e=40);var n=Object.keys(h(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Object(c.d)(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:Object(c.d)(i,e)}return""}function y(t){var e,n;if(Object(s.h)(t)){var i=t,o={};try{for(var a=Object(r.g)(Object.keys(i)),c=a.next();!c.done;c=a.next()){var u=c.value;void 0!==i[u]&&(o[u]=y(i[u]))}}catch(l){e={error:l}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}return Array.isArray(t)?t.map(y):t}},"7/K8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],i="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z";e.definition={prefix:"fas",iconName:"minus",icon:[448,512,r,"f068",i]},e.faMinus=e.definition,e.prefix="fas",e.iconName="minus",e.width=448,e.height=512,e.ligatures=r,e.unicode="f068",e.svgPathData=i},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8LbN":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("9/Zf"),i=Object(r.e)(),s="Sentry Logger ",o=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(r.c)(function(){i.console.log(s+"[Log]: "+t.join(" "))})},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(r.c)(function(){i.console.warn(s+"[Warn]: "+t.join(" "))})},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(r.c)(function(){i.console.error(s+"[Error]: "+t.join(" "))})},t}();i.__SENTRY__=i.__SENTRY__||{};var a=i.__SENTRY__.logger||(i.__SENTRY__.logger=new o)},"9/Zf":function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"j",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h}),n.d(e,"f",function(){return d}),n.d(e,"g",function(){return f}),n.d(e,"i",function(){return p});var r=n("+A1k"),i=(n("+924"),{});function s(){return Object(r.b)()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function o(){var t=s(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function a(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return e?{host:e[4],path:e[5],protocol:e[2],relative:e[5]+(e[6]||"")+(e[8]||"")}:{}}function c(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function u(t){var e=s();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach(function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)});var i=t();return Object.keys(r).forEach(function(t){n[t]=r[t]}),i}function l(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function h(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(n){t.exception.values[0].mechanism[n]=e[n]})}catch(n){}}function d(){try{return document.location.href}catch(t){return""}}function f(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}function p(t){return t.split(/[\?#]/,1)[0]}},"9AQC":function(t,e,n){"use strict";function r(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return g(t,Error)}}function i(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function s(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function a(t){return"[object String]"===Object.prototype.toString.call(t)}function c(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"undefined"!=typeof Event&&g(t,Event)}function h(t){return"undefined"!=typeof Element&&g(t,Element)}function d(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function f(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function p(t){return u(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function g(t,e){try{return t instanceof e}catch(n){return!1}}n.d(e,"d",function(){return r}),n.d(e,"e",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"k",function(){return a}),n.d(e,"i",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"c",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"m",function(){return f}),n.d(e,"l",function(){return p}),n.d(e,"g",function(){return g})},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},CLvp:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var r=n("+A1k"),i=n("8LbN"),s=n("6PXS"),o=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(e,n){var o;try{o=Object(r.a)(t,"pg").Client}catch(a){return void i.a.error("Postgres Integration was unable to require `pg` package.")}Object(s.c)(o.prototype,"query",function(t){return function(e,r,i){var s,o,a=null===(o=null===(s=n().getScope())||void 0===s?void 0:s.getSpan())||void 0===o?void 0:o.startChild({description:"string"==typeof e?e:e.text,op:"db"});return"function"==typeof i?t.call(this,e,r,function(t,e){var n;null===(n=a)||void 0===n||n.finish(),i(t,e)}):"function"==typeof r?t.call(this,e,function(t,e){var n;null===(n=a)||void 0===n||n.finish(),r(t,e)}):t.call(this,e,r).then(function(t){var e;return null===(e=a)||void 0===e||e.finish(),t})}})},e.id="Postgres",e}()}).call(this,n("3UD+")(t))},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IBKf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],i="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm170.2 218.2C315.8 367.4 282.9 352 248 352s-67.8 15.4-90.2 42.2c-13.5 16.3-38.1-4.2-24.6-20.5C161.7 339.6 203.6 320 248 320s86.3 19.6 114.7 53.8c13.6 16.2-11 36.7-24.5 20.4z";e.definition={prefix:"fas",iconName:"frown",icon:[496,512,r,"f119",i]},e.faFrown=e.definition,e.prefix="fas",e.iconName="frown",e.width=496,e.height=512,e.ligatures=r,e.unicode="f119",e.svgPathData=i},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.10","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},"Qrf/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],i="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z";e.definition={prefix:"fas",iconName:"paper-plane",icon:[512,512,r,"f1d8",i]},e.faPaperPlane=e.definition,e.prefix="fas",e.iconName="paper-plane",e.width=512,e.height=512,e.ligatures=r,e.unicode="f1d8",e.svgPathData=i},RaoF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],i="M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z";e.definition={prefix:"fas",iconName:"thumbs-down",icon:[512,512,r,"f165",i]},e.faThumbsDown=e.definition,e.prefix="fas",e.iconName="thumbs-down",e.width=512,e.height=512,e.ligatures=r,e.unicode="f165",e.svgPathData=i},SOwp:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"e",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},"ar8/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],i="M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z";e.definition={prefix:"fas",iconName:"paperclip",icon:[448,512,r,"f0c6",i]},e.faPaperclip=e.definition,e.prefix="fas",e.iconName="paperclip",e.width=448,e.height=512,e.ligatures=r,e.unicode="f0c6",e.svgPathData=i},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bQuC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],i="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z";e.definition={prefix:"fas",iconName:"smile",icon:[496,512,r,"f118",i]},e.faSmile=e.definition,e.prefix="fas",e.iconName="smile",e.width=496,e.height=512,e.ligatures=r,e.unicode="f118",e.svgPathData=i},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return On}),n.d(e,"b",function(){return hf}),n.d(e,"c",function(){return of}),n.d(e,"d",function(){return rf}),n.d(e,"e",function(){return sf}),n.d(e,"f",function(){return ip}),n.d(e,"g",function(){return Gf}),n.d(e,"h",function(){return Sh}),n.d(e,"i",function(){return Of}),n.d(e,"j",function(){return $l}),n.d(e,"k",function(){return pf}),n.d(e,"l",function(){return tf}),n.d(e,"m",function(){return Ql}),n.d(e,"n",function(){return fi}),n.d(e,"o",function(){return wd}),n.d(e,"p",function(){return vo}),n.d(e,"q",function(){return Jn}),n.d(e,"r",function(){return j}),n.d(e,"s",function(){return ka}),n.d(e,"t",function(){return wn}),n.d(e,"u",function(){return Do}),n.d(e,"v",function(){return ef}),n.d(e,"w",function(){return mh}),n.d(e,"x",function(){return vh}),n.d(e,"y",function(){return ff}),n.d(e,"z",function(){return Dh}),n.d(e,"A",function(){return Kf}),n.d(e,"B",function(){return Mh}),n.d(e,"C",function(){return Hf}),n.d(e,"D",function(){return Cf}),n.d(e,"E",function(){return Zn}),n.d(e,"F",function(){return lf}),n.d(e,"G",function(){return uf}),n.d(e,"H",function(){return th}),n.d(e,"I",function(){return Zl}),n.d(e,"J",function(){return Oi}),n.d(e,"K",function(){return nh}),n.d(e,"L",function(){return ti}),n.d(e,"M",function(){return er}),n.d(e,"N",function(){return Zf}),n.d(e,"O",function(){return Ih}),n.d(e,"P",function(){return jf}),n.d(e,"Q",function(){return Cn}),n.d(e,"R",function(){return ih}),n.d(e,"S",function(){return rh}),n.d(e,"T",function(){return Rh}),n.d(e,"U",function(){return F}),n.d(e,"V",function(){return qf}),n.d(e,"W",function(){return Bf}),n.d(e,"X",function(){return g}),n.d(e,"Y",function(){return Vf}),n.d(e,"Z",function(){return np}),n.d(e,"ab",function(){return Nf}),n.d(e,"bb",function(){return df}),n.d(e,"cb",function(){return _o}),n.d(e,"db",function(){return ju}),n.d(e,"eb",function(){return Jr}),n.d(e,"fb",function(){return Dr}),n.d(e,"gb",function(){return Or}),n.d(e,"hb",function(){return Er}),n.d(e,"ib",function(){return kr}),n.d(e,"jb",function(){return Tr}),n.d(e,"kb",function(){return Cr}),n.d(e,"lb",function(){return xr}),n.d(e,"mb",function(){return ku}),n.d(e,"nb",function(){return ep}),n.d(e,"ob",function(){return Iu}),n.d(e,"pb",function(){return Pu}),n.d(e,"qb",function(){return Sr}),n.d(e,"rb",function(){return H}),n.d(e,"sb",function(){return Go}),n.d(e,"tb",function(){return Ha}),n.d(e,"ub",function(){return Ba}),n.d(e,"vb",function(){return za}),n.d(e,"wb",function(){return xu}),n.d(e,"xb",function(){return xt}),n.d(e,"yb",function(){return d}),n.d(e,"zb",function(){return wr}),n.d(e,"Ab",function(){return Lo}),n.d(e,"Bb",function(){return wt}),n.d(e,"Cb",function(){return ql}),n.d(e,"Db",function(){return ys}),n.d(e,"Eb",function(){return na}),n.d(e,"Fb",function(){return Cc}),n.d(e,"Gb",function(){return Oc}),n.d(e,"Hb",function(){return Nd}),n.d(e,"Ib",function(){return tt}),n.d(e,"Jb",function(){return ct}),n.d(e,"Kb",function(){return S}),n.d(e,"Lb",function(){return E}),n.d(e,"Mb",function(){return st}),n.d(e,"Nb",function(){return ut}),n.d(e,"Ob",function(){return Pa}),n.d(e,"Pb",function(){return Ra}),n.d(e,"Qb",function(){return Ua}),n.d(e,"Rb",function(){return Fa}),n.d(e,"Sb",function(){return La}),n.d(e,"Tb",function(){return Na}),n.d(e,"Ub",function(){return Da}),n.d(e,"Vb",function(){return Va}),n.d(e,"Wb",function(){return hn}),n.d(e,"Xb",function(){return Ou}),n.d(e,"Yb",function(){return Gn}),n.d(e,"Zb",function(){return dn}),n.d(e,"ac",function(){return Bd}),n.d(e,"bc",function(){return qa}),n.d(e,"cc",function(){return Rd}),n.d(e,"dc",function(){return ke}),n.d(e,"ec",function(){return Te}),n.d(e,"fc",function(){return Xa}),n.d(e,"gc",function(){return fd}),n.d(e,"hc",function(){return pd}),n.d(e,"ic",function(){return Ja}),n.d(e,"jc",function(){return Qa}),n.d(e,"kc",function(){return ja}),n.d(e,"lc",function(){return Za}),n.d(e,"mc",function(){return Qh}),n.d(e,"nc",function(){return Jh}),n.d(e,"oc",function(){return Zh}),n.d(e,"pc",function(){return td}),n.d(e,"qc",function(){return ed}),n.d(e,"rc",function(){return Md}),n.d(e,"sc",function(){return Oa}),n.d(e,"tc",function(){return _i}),n.d(e,"uc",function(){return Xt}),n.d(e,"vc",function(){return ei}),n.d(e,"wc",function(){return ri}),n.d(e,"xc",function(){return et}),n.d(e,"yc",function(){return ot}),n.d(e,"zc",function(){return wa}),n.d(e,"Ac",function(){return Vd}),n.d(e,"Bc",function(){return Fc}),n.d(e,"Cc",function(){return Uc}),n.d(e,"Dc",function(){return Vc}),n.d(e,"Ec",function(){return Bc}),n.d(e,"Fc",function(){return Dd});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("EQ5u"),c=n("x+ZX");function u(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return d(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function w(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${_(t)} found${n}`)}function O(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return T(t,k)||T(t,P)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function x(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(A))?t[I]:null}const k=l({"\u0275prov":l}),I=l({"\u0275inj":l}),P=l({ngInjectableDef:l}),A=l({ngInjectorDef:l});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let M;function D(t){const e=M;return M=t,e}function N(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void w(d(t),"Injector")}function R(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global,H=U||z||V||B,q={},W=[],Y=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),G=l({"\u0275pipe":l}),X=l({"\u0275mod":l}),K=l({"\u0275loc":l}),Q=l({"\u0275fac":l}),J=l({__NG_ELEMENT_ID__:l});let Z=0;function tt(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||W,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||W,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Z++,n.inputs=at(t.inputs,e),n.outputs=at(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(nt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(rt):null,n})}function et(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(nt),r.pipeDefs=()=>n.map(rt)}function nt(t){return lt(t)||ht(t)}function rt(t){return function(t){return t[G]||null}(t)}const it={};function st(t){const e={type:t.type,bootstrap:t.bootstrap||W,declarations:t.declarations||W,imports:t.imports||W,exports:t.exports||W,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{it[t.id]=t.type}),e}function ot(t,e){return R(()=>{const n=dt(t,!0);n.declarations=e.declarations||W,n.imports=e.imports||W,n.exports=e.exports||W})}function at(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ct=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function lt(t){return t[Y]||null}function ht(t){return t[$]||null}function dt(t,e){const n=t[X]||null;if(!n&&!0===e)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return n}function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return Ot}function Ot(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),St}function St(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new _t(c&&c.currentValue,e,o===q),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}let Tt;function xt(t){Tt=t}function kt(){return void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0}function It(t){return!!t.listen}wt.ngInherit=!0;const Pt={createRenderer:(t,e)=>kt()};function At(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return At(e[t])}function Mt(t,e){return At(e[t.index])}function Dt(t,e){return t.data[e]}function Nt(t,e){return t[e]}function Rt(t,e){const n=e[t];return ft(n)?n:n[0]}function Lt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function Ut(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function zt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ht={lFrame:be(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return Ht.bindingsEnabled}function Wt(){Ht.bindingsEnabled=!0}function Yt(){Ht.bindingsEnabled=!1}function $t(){return Ht.lFrame.lView}function Gt(){return Ht.lFrame.tView}function Xt(t){Ht.lFrame.contextLView=t}function Kt(){let t=Qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qt(){return Ht.lFrame.currentTNode}function Jt(){const t=Ht.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Zt(t,e){const n=Ht.lFrame;n.currentTNode=t,n.isParent=e}function te(){return Ht.lFrame.isParent}function ee(){Ht.lFrame.isParent=!1}function ne(){return Ht.isInCheckNoChangesMode}function re(t){Ht.isInCheckNoChangesMode=t}function ie(){const t=Ht.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function se(){return Ht.lFrame.bindingIndex}function oe(t){return Ht.lFrame.bindingIndex=t}function ae(){return Ht.lFrame.bindingIndex++}function ce(t){const e=Ht.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ue(t){Ht.lFrame.inI18n=t}function le(t,e){const n=Ht.lFrame;n.bindingIndex=n.bindingRootIndex=t,he(e)}function he(t){Ht.lFrame.currentDirectiveIndex=t}function de(t){const e=Ht.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function fe(){return Ht.lFrame.currentQueryIndex}function pe(t){Ht.lFrame.currentQueryIndex=t}function ge(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function me(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=ge(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ht.lFrame=ve();return r.currentTNode=e,r.lView=t,!0}function ye(t){const e=ve(),n=t[1];Ht.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ve(){const t=Ht.lFrame,e=null===t?null:t.child;return null===e?be(t):e}function be(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function _e(){const t=Ht.lFrame;return Ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const we=_e;function Oe(){const t=_e();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Se(){return Ht.lFrame.selectedIndex}function Ee(t){Ht.lFrame.selectedIndex=t}function Ce(){const t=Ht.lFrame;return Dt(t.tView,t.selectedIndex)}function Te(){Ht.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function xe(){Ht.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function ke(){Ht.lFrame.currentNamespace=null}function Ie(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Pe(t,e,n){Me(t,e,3,n)}function Ae(t,e,n,r){(3&t[2])===n&&Me(t,e,n,r)}function je(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Me(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(De(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function De(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Ne{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Re(t,e,n){const r=It(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];Fe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Le(t){return 3===t||4===t||6===t}function Fe(t){return 64===t.charCodeAt(0)}function Ue(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ve(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ve(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Be(t){return-1!==t}function ze(t){return 32767&t}function He(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let qe=!0;function We(t){const e=qe;return qe=t,e}let Ye=0;function $e(t,e){const n=Xe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ge(r.data,t),Ge(e,null),Ge(r.blueprint,null));const i=Ke(t,e),s=t.injectorIndex;if(Be(i)){const t=ze(i),n=He(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Ge(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Xe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ke(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Ye++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Je(t,e,n){if(n&j.Optional)return t;w(e,"NodeInjector")}function Ze(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&j.Optional):N(e,r,n&j.Optional)}finally{D(s)}}return Je(r,e,n)}function tn(t,e,n,r=j.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:nn:e}(n);if("function"==typeof s){if(!me(e,t,r))return r&j.Host?Je(i,n,r):Ze(e,n,r,i);try{const t=s();if(null!=t||r&j.Optional)return t;w(n)}finally{we()}}else if("number"==typeof s){let i=null,o=Xe(t,e),a=-1,c=r&j.Host?e[16][6]:null;for((-1===o||r&j.SkipSelf)&&(a=-1===o?Ke(t,e):e[o+8],-1!==a&&cn(r,!1)?(i=e[1],o=ze(a),e=He(a,e)):o=-1);-1!==o;){const t=e[1];if(an(s,o,t.data)){const t=rn(o,e,n,i,r,c);if(t!==en)return t}a=e[o+8],-1!==a&&cn(r,e[1].data[o+8]===c)&&an(s,o,e)?(i=t,o=ze(a),e=He(a,e)):o=-1}}}return Ze(e,n,r,i)}const en={};function nn(){return new un(Kt(),$t())}function rn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=sn(a,o,n,null==r?mt(a)&&qe:r!=o&&0!=(3&a.type),i&j.Host&&s===a);return null!==c?on(e,o,c,a):en}function sn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&vt(t)&&t.type===n)return c}return null}function on(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ne){const o=i;o.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=We(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?D(o.injectImpl):null;me(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Ot(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&D(c),We(a),o.resolving=!1,we()}}return i}function an(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function cn(t,e){return!(t&j.Self||t&j.Host&&e)}class un{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return tn(this._tNode,this._lView,t,void 0,e)}}function ln(t){const e=t;if(y(t))return()=>{const t=ln(m(e));return t?t():null};let n=bt(e);if(null===n){const t=x(e);n=t&&t.factory}return n||null}function hn(t){return R(()=>{const e=t.prototype.constructor,n=e[Q]||ln(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||ln(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function dn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Le(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const fn="__annotations__",pn="__parameters__",gn="__prop__metadata__";function mn(t,e,n,r,i){return R(()=>{const s=yn(e);function o(...t){if(this instanceof o)return s.call(this,...t),this;const e=new o(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(fn)?n[fn]:Object.defineProperty(n,fn,{value:[]})[fn]).push(e),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function yn(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function vn(t,e,n){return R(()=>{const r=yn(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(pn)?t[pn]:Object.defineProperty(t,pn,{value:[]})[pn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function bn(t,e,n,r){return R(()=>{const i=yn(e);function s(...t){if(this instanceof s)return i.apply(this,t),this;const e=new s(...t);return function(n,i){const s=n.constructor,o=s.hasOwnProperty(gn)?s[gn]:Object.defineProperty(s,gn,{value:{}})[gn];o[i]=o.hasOwnProperty(i)&&o[i]||[],o[i].unshift(e),r&&r(n,i,...t)}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}const _n=function(){return vn("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>dn(t)}))}();class wn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const On=new wn("AnalyzeForEntryComponents");var Sn=function(t){return t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef",t[t.Invalid=3]="Invalid",t}({});function En(){const t=H.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const Cn=Function;function Tn(t){return"function"==typeof t}function xn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),xn(r,e)):e!==t&&e.push(r)}return e}function kn(t,e){t.forEach(t=>Array.isArray(t)?kn(t,e):e(t))}function In(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Pn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function An(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function jn(t,e,n){let r=Dn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Mn(t,e){const n=Dn(t,e);if(n>=0)return t[1|n]}function Dn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Nn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,Rn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ln=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Fn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Un{constructor(t){this._reflect=t||H.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=An(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Nn.test(n)||Fn.test(n)||Rn.test(n)&&!Ln.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&Vn(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(pn)&&t[pn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||i?this._zipTypesAndAnnotations(s,i):An(t.length)}parameters(t){if(!Tn(t))return[];const e=Bn(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Vn(t.decorators):t.hasOwnProperty(fn)?t[fn]:null}annotations(t){if(!Tn(t))return[];const e=Bn(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Vn(e[t])}),n}return t.hasOwnProperty(gn)?t[gn]:null}propMetadata(t){if(!Tn(t))return{};const e=Bn(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Tn(t)&&this._ownPropMetadata(t,Bn(t))||{}}hasLifecycleHook(t,e){return t instanceof Cn&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${d(t)}`}resourceUri(t){return`./${d(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function Vn(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Bn(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const zn={},Hn=/\n/gm,qn=l({provide:String,useValue:l});let Wn;function Yn(t){const e=Wn;return Wn=t,e}function $n(t,e=j.Default){if(void 0===Wn)throw new Error("inject() must be called from an injection context");return null===Wn?N(t,void 0,e):Wn.get(t,e&j.Optional?null:void 0,e)}function Gn(t,e=j.Default){return(M||$n)(m(t),e)}function Xn(t){throw new Error("invalid")}function Kn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(Gn(t,n))}else e.push(Gn(r))}return e}function Qn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Jn=Qn(vn("Inject",t=>({token:t})),-1),Zn=Qn(vn("Optional"),8),tr=Qn(vn("Self"),2),er=Qn(vn("SkipSelf"),4),nr=Qn(vn("Host"),1);let rr,ir,sr=null;function or(){return sr=sr||new Un}function ar(t){return cr(or().parameters(t))}function cr(t){const e=En();return t.map(t=>function(t,e){const n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)&&e.length>0)for(let i=0;i<e.length;i++){const s=e[i];if(void 0===s)continue;const o=Object.getPrototypeOf(s);if(s instanceof Zn||"Optional"===o.ngMetadataName)n.optional=!0;else if(s instanceof er||"SkipSelf"===o.ngMetadataName)n.skipSelf=!0;else if(s instanceof tr||"Self"===o.ngMetadataName)n.self=!0;else if(s instanceof nr||"Host"===o.ngMetadataName)n.host=!0;else if(s instanceof Jn)n.token=s.token;else if(s instanceof _n){if(void 0===s.attributeName)throw new Error("Attribute name must be defined.");n.token=s.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else!0===s.__ChangeDetectorRef__?(n.token=s,n.resolved=t.R3ResolvedDependencyType.ChangeDetectorRef):r(s)}else void 0===e||Array.isArray(e)&&0===e.length?(n.token=void 0,n.resolved=Sn.Invalid):r(e);return n}(e,t))}function ur(){if(void 0===rr&&(rr=null,H.trustedTypes))try{rr=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return rr}function lr(t){var e;return(null===(e=ur())||void 0===e?void 0:e.createHTML(t))||t}function hr(){if(void 0===ir&&(ir=null,H.trustedTypes))try{ir=H.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return ir}function dr(t){var e;return(null===(e=hr())||void 0===e?void 0:e.createHTML(t))||t}function fr(t){var e;return(null===(e=hr())||void 0===e?void 0:e.createScript(t))||t}function pr(t){var e;return(null===(e=hr())||void 0===e?void 0:e.createScriptURL(t))||t}class gr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class mr extends gr{getTypeName(){return"HTML"}}class yr extends gr{getTypeName(){return"Style"}}class vr extends gr{getTypeName(){return"Script"}}class br extends gr{getTypeName(){return"URL"}}class _r extends gr{getTypeName(){return"ResourceURL"}}function wr(t){return t instanceof gr?t.changingThisBreaksApplicationSecurity:t}function Or(t,e){const n=Sr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Sr(t){return t instanceof gr&&t.getTypeName()||null}function Er(t){return new mr(t)}function Cr(t){return new yr(t)}function Tr(t){return new vr(t)}function xr(t){return new br(t)}function kr(t){return new _r(t)}function Ir(t){const e=new Ar(t);return function(){try{return!!(new window.DOMParser).parseFromString(lr(""),"text/html")}catch(t){return!1}}()?new Pr(e):e}class Pr{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(lr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Ar{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=lr(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=lr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const jr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Mr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Dr(t){return(t=String(t)).match(jr)||t.match(Mr)?t:"unsafe:"+t}function Nr(t){return(t=String(t)).split(",").map(t=>Dr(t.trim())).join(", ")}function Rr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Lr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Fr=Rr("area,br,col,hr,img,wbr"),Ur=Rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vr=Rr("rp,rt"),Br=Lr(Vr,Ur),zr=Lr(Fr,Lr(Ur,Rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lr(Vr,Rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Br),Hr=Rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qr=Rr("srcset"),Wr=Lr(Hr,qr,Rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yr=Rr("script,style,template");class $r{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!zr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Yr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Wr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;Hr[i]&&(s=Dr(s)),qr[i]&&(s=Nr(s)),this.buf.push(" ",e,'="',Kr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();zr.hasOwnProperty(e)&&!Fr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Kr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Gr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xr=/([^\#-~ |!])/g;function Kr(t){return t.replace(/&/g,"&amp;").replace(Gr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Xr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qr;function Jr(t,e){let n=null;try{Qr=Qr||Ir(t);let r=e?String(e):"";n=Qr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Qr.getInertBodyElement(r)}while(r!==s);return lr((new $r).sanitizeChildren(Zr(n)||n))}finally{if(n){const t=Zr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Zr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ti=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ei(t){const e=ui();return e?dr(e.sanitize(ti.HTML,t)||""):Or(t,"HTML")?dr(wr(t)):Jr(kt(),b(t))}function ni(t){const e=ui();return e?e.sanitize(ti.STYLE,t)||"":Or(t,"Style")?wr(t):b(t)}function ri(t){const e=ui();return e?e.sanitize(ti.URL,t)||"":Or(t,"URL")?wr(t):Dr(b(t))}function ii(t){const e=ui();if(e)return pr(e.sanitize(ti.RESOURCE_URL,t)||"");if(Or(t,"ResourceURL"))return pr(wr(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function si(t){const e=ui();if(e)return fr(e.sanitize(ti.SCRIPT,t)||"");if(Or(t,"Script"))return fr(wr(t));throw new Error("unsafe value used in a script context")}function oi(t){return lr(t[0])}function ai(t){return function(t){var e;return(null===(e=ur())||void 0===e?void 0:e.createScriptURL(t))||t}(t[0])}function ci(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ii:ri}(e,n)(t)}function ui(){const t=$t();return t&&t[12]}function li(t){return t.ngDebugContext}function hi(t){return t.ngOriginalError}function di(t,...e){t.error(...e)}class fi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||di}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?li(t)?li(t):this._findContext(hi(t)):null}_findOriginalError(t){let e=hi(t);for(;e&&hi(e);)e=hi(e);return e}}const pi=/^>|^->|<!--|-->|--!>|<!-$/g,gi=/(<|>)/;function mi(t,e){t.__ngContext__=e}const yi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function vi(t){return{name:"window",target:t.ownerDocument.defaultView}}function bi(t){return{name:"document",target:t.ownerDocument}}function _i(t){return{name:"body",target:t.ownerDocument.body}}function wi(t){return t instanceof Function?t():t}var Oi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Si;function Ei(t,e){return Si(t,e)}function Ci(t){const e=t[3];return pt(e)?e[3]:e}function Ti(t){return ki(t[13])}function xi(t){return ki(t[4])}function ki(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Ii(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:ft(r)&&(o=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?Bi(e,n,a):Vi(e,n,a,i||null,!0):1===t&&null!==n?Vi(e,n,a,i||null,!0):2===t?Zi(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==At(n)&&Ii(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];es(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Pi(t,e){return It(t)?t.createText(e):t.createTextNode(e)}function Ai(t,e,n){It(t)?t.setValue(e,n):e.textContent=n}function ji(t,e){return t.createComment(function(t){return t.replace(pi,t=>t.replace(gi,"\u200b$1\u200b"))}(e))}function Mi(t,e,n){return It(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Di(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,zt(i,-1)),n.splice(r,1)}function Ni(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Di(s,r),e>0&&(t[n-1][4]=r[4]);const o=Pn(t,10+e);es(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ri(t,e){if(!(256&e[2])){const n=e[11];It(n)&&n.destroyNode&&es(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Li(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&Li(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&Li(e[1],e),n=e&&e[4]}e=n}}(e)}}function Li(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ne)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):At(e[t]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&It(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Di(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Fi(t,e,n){return Ui(t,e.parent,n)}function Ui(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Mt(r,n)}function Vi(t,e,n,r,i){It(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Bi(t,e,n){It(t)?t.appendChild(e,n):e.appendChild(n)}function zi(t,e,n,r,i){null!==r?Vi(t,e,n,r,i):Bi(t,e,n)}function Hi(t,e){return It(t)?t.parentNode(e):e.parentNode}function qi(t,e,n){return $i(t,e,n)}function Wi(t,e,n){return 40&t.type?Mt(t,n):null}let Yi,$i=Wi;function Gi(t,e){$i=t,Yi=e}function Xi(t,e,n,r){const i=Fi(t,r,e),s=e[11],o=qi(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)zi(s,i,n[a],o,!1);else zi(s,i,n,o,!1);void 0!==Yi&&Yi(s,r,e,n,i)}function Ki(t,e){if(null!==e){const n=e.type;if(3&n)return Mt(e,t);if(4&n)return Ji(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Ki(t,n);{const n=t[e.index];return pt(n)?Ji(-1,n):At(n)}}if(32&n)return Ei(e,t)()||At(t[e.index]);{const n=Qi(t,e);return null!==n?Array.isArray(n)?n[0]:Ki(Ci(t[16]),n):Ki(t,e.next)}}return null}function Qi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ji(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Ki(t,r)}return e[7]}function Zi(t,e,n){const r=Hi(t,e);r&&function(t,e,n,r){It(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ts(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&mi(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)ts(t,e,n.child,r,i,s,!1),Ii(e,t,i,a,s);else if(32&c){const o=Ei(n,r);let c;for(;c=o();)Ii(e,t,i,c,s);Ii(e,t,i,a,s)}else 16&c?ns(t,e,r,n,i,s):Ii(e,t,i,a,s);n=o?n.projectionNext:n.next}}function es(t,e,n,r,i,s){ts(n,r,t.firstChild,e,i,s,!1)}function ns(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Ii(e,t,i,a[c],s);else ts(t,e,a,o[3],i,s,!0)}function rs(t,e,n){It(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function is(t,e,n){It(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ss(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function os(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ss(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function as(t){return 4===t.type&&"ng-template"!==t.value}function cs(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function us(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Le(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!cs(t,c,n)||""===c&&1===e.length){if(ls(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!os(t.attrs,u,n)){if(ls(r))return!1;o=!0}continue}const l=hs(8&r?"class":c,i,as(t),n);if(-1===l){if(ls(r))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ss(e,u,0)||2&r&&u!==t){if(ls(r))return!1;o=!0}}}}else{if(!o&&!ls(r)&&!ls(c))return!1;if(o&&ls(c))continue;o=!1,r=c|1&r}}return ls(r)||o}function ls(t){return 0==(1&t)}function hs(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ds(t,e,n=!1){for(let r=0;r<e.length;r++)if(us(t,e[r],n))return!0;return!1}function fs(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ps(t,e){return t?":not("+e.trim()+")":e}function gs(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ls(o)||(e+=ps(s,i),i=""),r=o,s=s||!ls(r);n++}return""!==i&&(e+=ps(s,i)),e}const ms={};function ys(t){vs(Gt(),$t(),Se()+t,ne())}function vs(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Pe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ae(e,r,0,n)}Ee(n)}function bs(t,e){return t<<17|e<<2}function _s(t){return t>>17&32767}function ws(t){return 2|t}function Os(t){return(131068&t)>>2}function Ss(t,e){return-131069&t|e<<2}function Es(t){return 1|t}function Cs(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];pe(i),n.contentQueries(2,e[s],s)}}}function Ts(t,e,n,r,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Bt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function xs(t,e,n,r,i){let s=t.data[e];if(null===s)s=ks(t,e,n,r,i),Ht.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=Jt();s.injectorIndex=null===t?-1:t.injectorIndex}return Zt(s,!0),s}function ks(t,e,n,r,i){const s=Qt(),o=te(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Is(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ps(t,e,n){ye(e);try{const r=t.viewQuery;null!==r&&co(1,r,n);const i=t.template;null!==i&&Ms(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Cs(t,e),t.staticViewQueries&&co(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ro(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Oe()}}function As(t,e,n,r){const i=e[2];if(256==(256&i))return;ye(e);const s=ne();try{Bt(e),oe(t.bindingStartIndex),null!==n&&Ms(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Pe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ae(e,n,0,null),je(e,0)}if(function(t){for(let e=Ti(t);null!==e;e=xi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&zt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ti(t);null!==e;e=xi(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Ut(n)&&As(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Cs(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Pe(e,n)}else{const n=t.contentHooks;null!==n&&Ae(e,n,1),je(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Ee(~r);else{const i=r,s=n[++t],o=n[++t];le(s,i),o(2,e[i])}}}finally{Ee(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)eo(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&co(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Pe(e,n)}else{const n=t.viewHooks;null!==n&&Ae(e,n,2),je(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,zt(e[3],-1))}finally{Oe()}}function js(t,e,n,r){const i=e[10],s=!ne(),o=Ft(e);try{s&&!o&&i.begin&&i.begin(),o&&Ps(t,e,r),As(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ms(t,e,n,r,i){const s=Se();try{Ee(-1),2&r&&e.length>20&&vs(t,e,20,ne()),n(r,i)}finally{Ee(s)}}function Ds(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ns(t,e,n){qt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||$e(n,e),mi(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=vt(r);s&&Xs(e,n,r);const c=on(e,t,a,n);mi(c,e),null!==o&&Js(0,a-i,c,r,0,o),s&&(Rt(n.index,e)[8]=c)}}(t,e,n,Mt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ht.lFrame.currentDirectiveIndex;try{Ee(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];he(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||qs(r,i)}}finally{Ee(-1),he(o)}}(t,e,n))}function Rs(t,e,n=Mt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Ls(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Fs(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Fs(t,e,n,r,i,s,o,a,c,u){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ms);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Us(t,e,n,r){const i=lo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ho(t).push(r,i.length-1))}function Vs(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Bs(t,e,n,r,i,s,o,a){const c=Mt(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(go(t,n,u,r,i),mt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,It(s)?s.setProperty(c,r,i):Fe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function zs(t,e,n,r){let i=!1;if(qt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ds(n,o.selectors,!1)&&(i||(i=[]),Qe($e(n,e),t,o.type),vt(o)?(Ws(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,$s(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=Is(t,e,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Ue(n.mergedAttrs,u.hostAttrs),Gs(t,n,e,c,u),Ys(c,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||as(e)?null:Zs(n,i);s.push(u),o=Vs(n,c,o),a=Vs(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ue(n.mergedAttrs,n.attrs),i}function Hs(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function qs(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ws(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ys(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function $s(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Gs(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new Ne(s,vt(i),null);t.blueprint[r]=o,n[r]=o,Hs(t,e,0,r,Is(t,n,i.hostVars,ms),i)}function Xs(t,e,n){const r=Mt(e,t),i=Ls(n),s=t[10],o=io(t,Ts(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Ks(t,e,n,r,i,s){const o=Mt(t,e);Qs(e[11],o,s,t.value,n,r,i)}function Qs(t,e,n,r,i,s,o){if(null==s)It(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?b(s):o(s,r||"",i);It(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function Js(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Zs(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function to(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function eo(t,e){const n=Rt(e,t);if(Ut(n)){const t=n[1];80&n[2]?As(t,n,t.template,n[8]):n[5]>0&&no(n)}}function no(t){for(let n=Ti(t);null!==n;n=xi(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];As(t,e,t.template,e[8])}else e[5]>0&&no(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Ut(r)&&r[5]>0&&no(r)}}function ro(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ps(r,n,n[8])}function io(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function so(t){for(;t;){t[2]|=64;const e=Ci(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function oo(t,e,n){const r=e[10];r.begin&&r.begin();try{As(t,e,t.template,n)}catch(i){throw po(e,i),i}finally{r.end&&r.end()}}function ao(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Lt(n),i=r[1];js(i,r,i.template,n)}}(t[8])}function co(t,e,n){pe(0),e(t,n)}const uo=(()=>Promise.resolve(null))();function lo(t){return t[7]||(t[7]=[])}function ho(t){return t.cleanup||(t.cleanup=[])}function fo(t,e,n){return(null===t||vt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function po(t,e){const n=t[9],r=n?n.get(fi,null):null;r&&r.handleError(e)}function go(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function mo(t,e,n){const r=jt(e,t);Ai(t[11],r,n)}function yo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=f(i,t):2==s&&(r=f(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const vo=new wn("INJECTOR",-1);class bo{get(t,e=zn){if(e===zn){const e=new Error(`NullInjectorError: No provider for ${d(t)}!`);throw e.name="NullInjectorError",e}return e}}const _o=new wn("Set Injector scope."),wo={},Oo={},So=[];let Eo;function Co(){return void 0===Eo&&(Eo=new bo),Eo}function To(t,e=null,n=null,r){return new xo(t,n,e||Co(),r)}class xo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&kn(e,n=>this.processProvider(n,t,e)),kn([t],t=>this.processInjectorType(t,[],i)),this.records.set(vo,Po(void 0,this));const s=this.records.get(_o);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:d(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=zn,n=j.Default){this.assertNotDestroyed();const r=Yn(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof wn)&&C(t);e=n&&this.injectableDefInScope(n)?Po(ko(t),wo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?Co():this.parent).get(t,e=n&j.Optional&&e===zn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(d(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=d(e);if(Array.isArray(e))i=e.map(d).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Hn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Yn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(d(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=x(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{kn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];kn(r,t=>this.processProvider(t,n,r||So))}}this.injectorDefTypes.add(s),this.records.set(s,Po(r.factory,wo));const a=r.providers;if(null!=a&&!o){const e=t;kn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=jo(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return Ao(t)?Po(void 0,t.useValue):Po(Io(t),wo)}(t);if(jo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Po(void 0,wo,!0),e.factory=()=>Kn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===wo&&(e.value=Oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ko(t){const e=C(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=x(t);if(null!==r)return r.factory;if(t instanceof wn)throw new Error(`Token ${d(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=An(e,"?");throw new Error(`Can't resolve all parameters for ${d(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[k]||t[P]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Io(t,e,n){let r;if(jo(t)){const e=m(t);return bt(e)||ko(e)}if(Ao(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Kn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Gn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||ko(e);r=()=>new e(...Kn(t.deps))}var i;return r}function Po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ao(t){return null!==t&&"object"==typeof t&&qn in t}function jo(t){return"function"==typeof t}const Mo=function(t,e,n){return function(t,e=null,n=null,r){const i=To(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Do=(()=>{class t{static create(t,e){return Array.isArray(t)?Mo(t,e,""):Mo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=zn,t.NULL=new bo,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>Gn(vo)}),t.__NG_ELEMENT_ID__=-1,t})();function No(t,e){Ie(Lt(t)[1],Kt())}function Ro(t){return Object.getPrototypeOf(t.prototype).constructor}function Lo(t){let e=Ro(t.type),n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Fo(t.inputs),e.declaredInputs=Fo(t.declaredInputs),e.outputs=Fo(t.outputs);const n=i.hostBindings;n&&Bo(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Uo(t,s),o&&Vo(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Lo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ue(i.hostAttrs,n=Ue(n,i.hostAttrs))}}(r)}function Fo(t){return t===q?{}:t===W?[]:t}function Uo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Vo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Bo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const zo=["providersResolver"],Ho=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function qo(t){let e,n=Ro(t.type);e=vt(t)?n.\u0275cmp:n.\u0275dir;const r=t;for(const i of zo)r[i]=e[i];if(vt(e))for(const i of Ho)r[i]=e[i]}let Wo=null;function Yo(){if(!Wo){const t=H.Symbol;if(t&&t.iterator)Wo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Wo=n)}}}return Wo}class $o{constructor(t){this.wrapped=t}static wrap(t){return new $o(t)}static unwrap(t){return $o.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof $o}}function Go(t){return!!Xo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Yo()in t)}function Xo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ko(t,e,n){return t[e]=n}function Qo(t,e){return t[e]}function Jo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Zo(t,e,n,r){const i=Jo(t,e,n);return Jo(t,e+1,r)||i}function ta(t,e,n,r,i){const s=Zo(t,e,n,r);return Jo(t,e+2,i)||s}function ea(t,e,n,r,i,s){const o=Zo(t,e,n,r);return Zo(t,e+2,i,s)||o}function na(t,e,n,r){const i=$t();return Jo(i,ae(),e)&&(Gt(),Ks(Ce(),i,t,e,n,r)),na}function ra(t,e){let n=!1,r=se();for(let s=1;s<e.length;s+=2)n=Jo(t,r++,e[s])||n;if(oe(r),!n)return ms;let i=e[0];for(let s=1;s<e.length;s+=2)i+=b(e[s])+e[s+1];return i}function ia(t,e,n,r){return Jo(t,ae(),n)?e+b(n)+r:ms}function sa(t,e,n,r,i,s){const o=Zo(t,se(),n,i);return ce(2),o?e+b(n)+r+b(i)+s:ms}function oa(t,e,n,r,i,s,o,a){const c=ta(t,se(),n,i,o);return ce(3),c?e+b(n)+r+b(i)+s+b(o)+a:ms}function aa(t,e,n,r,i,s,o,a,c,u){const l=ea(t,se(),n,i,o,c);return ce(4),l?e+b(n)+r+b(i)+s+b(o)+a+b(c)+u:ms}function ca(t,e,n,r,i,s,o,a,c,u,l,h){const d=se();let f=ea(t,d,n,i,o,c);return f=Jo(t,d+4,l)||f,ce(5),f?e+b(n)+r+b(i)+s+b(o)+a+b(c)+u+b(l)+h:ms}function ua(t,e,n,r,i,s,o,a,c,u,l,h,d,f){const p=se();let g=ea(t,p,n,i,o,c);return g=Zo(t,p+4,l,d)||g,ce(6),g?e+b(n)+r+b(i)+s+b(o)+a+b(c)+u+b(l)+h+b(d)+f:ms}function la(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g){const m=se();let y=ea(t,m,n,i,o,c);return y=ta(t,m+4,l,d,p)||y,ce(7),y?e+b(n)+r+b(i)+s+b(o)+a+b(c)+u+b(l)+h+b(d)+f+b(p)+g:ms}function ha(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m,y){const v=se();let _=ea(t,v,n,i,o,c);return _=ea(t,v+4,l,d,p,m)||_,ce(8),_?e+b(n)+r+b(i)+s+b(o)+a+b(c)+u+b(l)+h+b(d)+f+b(p)+g+b(m)+y:ms}function da(t,e,n,r,i,s){const o=$t(),a=ia(o,e,n,r);return a!==ms&&Ks(Ce(),o,t,a,i,s),da}function fa(t,e,n,r,i,s,o,a){const c=$t(),u=sa(c,e,n,r,i,s);return u!==ms&&Ks(Ce(),c,t,u,o,a),fa}function pa(t,e,n,r,i,s,o,a,c,u){const l=$t(),h=oa(l,e,n,r,i,s,o,a);return h!==ms&&Ks(Ce(),l,t,h,c,u),pa}function ga(t,e,n,r,i,s,o,a,c,u,l,h){const d=$t(),f=aa(d,e,n,r,i,s,o,a,c,u);return f!==ms&&Ks(Ce(),d,t,f,l,h),ga}function ma(t,e,n,r,i,s,o,a,c,u,l,h,d,f){const p=$t(),g=ca(p,e,n,r,i,s,o,a,c,u,l,h);return g!==ms&&Ks(Ce(),p,t,g,d,f),ma}function ya(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g){const m=$t(),y=ua(m,e,n,r,i,s,o,a,c,u,l,h,d,f);return y!==ms&&Ks(Ce(),m,t,y,p,g),ya}function va(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m,y){const v=$t(),b=la(v,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g);return b!==ms&&Ks(Ce(),v,t,b,m,y),va}function ba(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m,y,v,b){const _=$t(),w=ha(_,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m,y);return w!==ms&&Ks(Ce(),_,t,w,v,b),ba}function _a(t,e,n,r){const i=$t(),s=ra(i,e);return s!==ms&&Ks(Ce(),i,t,s,n,r),_a}function wa(t,e,n,r,i,s,o,a){const c=$t(),u=Gt(),l=t+20,h=u.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const u=e.consts,l=xs(e,t,4,o||null,Vt(u,a));zs(e,n,l,Vt(u,c)),Ie(e,l);const h=l.tViews=Fs(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];Zt(h,!1);const d=c[11].createComment("");Xi(u,c,d,h),mi(d,c),io(c,c[l]=to(d,c,d,h)),yt(h)&&Ns(u,c,h),null!=o&&Rs(c,h,a)}function Oa(t){return Nt(Ht.lFrame.contextLView,20+t)}const Sa={"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":E,"\u0275\u0275inject":Gn,"\u0275\u0275getFactoryOf":function t(e){const n=e;if(y(e))return()=>{const e=t(m(n));return e?e():null};const r=C(n)||x(n);return r&&void 0!==r.factory?r.factory:null},"\u0275\u0275invalidFactoryDep":Xn},Ea=l({provide:String,useValue:l});function Ca(t){return void 0!==t.useClass}function Ta(t){return void 0!==t.useFactory}function xa(t,e){const n=e||{providedIn:null},r={name:t.name,type:t,typeArgumentCount:0,providedIn:n.providedIn,userDeps:void 0};return(Ca(n)||Ta(n))&&void 0!==n.deps&&(r.userDeps=cr(n.deps)),Ca(n)?r.useClass=m(n.useClass):function(t){return Ea in t}(n)?r.useValue=m(n.useValue):Ta(n)?r.useFactory=n.useFactory:function(t){return void 0!==t.useExisting}(n)&&(r.useExisting=m(n.useExisting)),r}const ka=mn("Injectable",void 0,void 0,void 0,(t,e)=>Ia(t,e)),Ia=function(t,e){let n=null,r=null;t.hasOwnProperty(k)||Object.defineProperty(t,k,{get:()=>(null===n&&(n=En().compileInjectable(Sa,`ng:///${t.name}/\u0275prov.js`,xa(t,e))),n)}),t.hasOwnProperty(Q)||Object.defineProperty(t,Q,{get:()=>{if(null===r){const n=xa(t,e),i=En();r=i.compileFactory(Sa,`ng:///${t.name}/\u0275fac.js`,{name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:ar(t),injectFn:"inject",target:i.R3FactoryTarget.Injectable})}return r},configurable:!0})};function Pa(t,e=j.Default){const n=$t();return null===n?Gn(t,e):tn(Kt(),n,m(t),e)}function Aa(){throw new Error("invalid")}function ja(t,e,n){const r=$t();return Jo(r,ae(),e)&&Bs(Gt(),Ce(),r,t,e,r[11],n,!1),ja}function Ma(t,e,n,r,i){const s=i?"class":"style";go(t,n,e.inputs[s],s,r)}function Da(t,e,n,r){const i=$t(),s=Gt(),o=20+t,a=i[11],c=i[o]=Mi(a,e,Ht.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=xs(e,t,2,i,Vt(a,s));return zs(e,n,c,Vt(a,o)),null!==c.attrs&&yo(c,c.attrs,!1),null!==c.mergedAttrs&&yo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Zt(u,!0);const l=u.mergedAttrs;null!==l&&Re(a,c,l);const h=u.classes;null!==h&&is(a,c,h);const d=u.styles;null!==d&&rs(a,c,d),64!=(64&u.flags)&&Xi(s,i,c,u),0===Ht.lFrame.elementDepthCount&&mi(c,i),Ht.lFrame.elementDepthCount++,yt(u)&&(Ns(s,i,u),Ds(s,u,i)),null!==r&&Rs(i,u)}function Na(){let t=Kt();te()?ee():(t=t.parent,Zt(t,!1));const e=t;Ht.lFrame.elementDepthCount--;const n=Gt();n.firstCreatePass&&(Ie(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ma(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ma(n,e,$t(),e.stylesWithoutHost,!1)}function Ra(t,e,n,r){Da(t,e,n,r),Na()}function La(t,e,n){const r=$t(),i=Gt(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Vt(s,r),a=xs(e,t,8,"ng-container",o);return null!==o&&yo(a,o,!0),zs(e,n,a,Vt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Zt(o,!0);const a=r[s]=r[11].createComment("");Xi(i,r,a,o),mi(a,r),yt(o)&&(Ns(i,r,o),Ds(i,o,r)),null!=n&&Rs(r,o)}function Fa(){let t=Kt();const e=Gt();te()?ee():(t=t.parent,Zt(t,!1)),e.firstCreatePass&&(Ie(e,t),gt(t)&&e.queries.elementEnd(t))}function Ua(t,e,n){La(t,e,n),Fa()}function Va(){return $t()}function Ba(t){return!!t&&"function"==typeof t.then}function za(t){return!!t&&"function"==typeof t.subscribe}const Ha=za;function qa(t,e,n=!1,r){const i=$t(),s=Gt(),o=Kt();return Ya(s,i,i[11],o,t,e,n,r),qa}function Wa(t,e,n=!1,r){const i=Kt(),s=$t(),o=Gt();return Ya(o,s,fo(de(o.data),i,s),i,t,e,n,r),Wa}function Ya(t,e,n,r,i,s,o=!1,a){const c=yt(r),u=t.firstCreatePass&&ho(t),l=lo(e);let h=!0;if(3&r.type){const d=Mt(r,e),f=a?a(d):q,p=f.target||d,g=l.length,m=a?t=>a(At(t[r.index])).target:r.index;if(It(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ga(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),u&&u.push(i,m,g,g+1)}}else s=Ga(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,m,g,o)}else s=Ga(r,e,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,r.index,o,-(o+1))}}}function $a(t,e,n){try{return!1!==e(n)}catch(r){return po(t,r),!1}}function Ga(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&so(o);let a=$a(e,n,s),c=i.__ngNextListenerFn__;for(;c;)a=$a(e,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Xa(t=1){return function(t){return(Ht.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ht.lFrame.contextLView))[8]}(t)}function Ka(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ds(t,s,!0):fs(r,s))return i}else n=i}return n}function Qa(t){const e=$t()[16][6];if(!e.projection){const n=e.projection=An(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ka(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ja(t,e=0,n){const r=$t(),i=Gt(),s=xs(i,20+t,16,null,n||null);null===s.projection&&(s.projection=e),ee(),64!=(64&s.flags)&&function(t,e,n){ns(e[11],0,e,n,Fi(t,n,e),qi(n.parent||e[6],n,e))}(i,r,s)}function Za(t,e,n){return tc(t,"",e,"",n),Za}function tc(t,e,n,r,i){const s=$t(),o=ia(s,e,n,r);return o!==ms&&Bs(Gt(),Ce(),s,t,o,s[11],i,!1),tc}function ec(t,e,n,r,i,s,o){const a=$t(),c=sa(a,e,n,r,i,s);return c!==ms&&Bs(Gt(),Ce(),a,t,c,a[11],o,!1),ec}function nc(t,e,n,r,i,s,o,a,c){const u=$t(),l=oa(u,e,n,r,i,s,o,a);return l!==ms&&Bs(Gt(),Ce(),u,t,l,u[11],c,!1),nc}function rc(t,e,n,r,i,s,o,a,c,u,l){const h=$t(),d=aa(h,e,n,r,i,s,o,a,c,u);return d!==ms&&Bs(Gt(),Ce(),h,t,d,h[11],l,!1),rc}function ic(t,e,n,r,i,s,o,a,c,u,l,h,d){const f=$t(),p=ca(f,e,n,r,i,s,o,a,c,u,l,h);return p!==ms&&Bs(Gt(),Ce(),f,t,p,f[11],d,!1),ic}function sc(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p){const g=$t(),m=ua(g,e,n,r,i,s,o,a,c,u,l,h,d,f);return m!==ms&&Bs(Gt(),Ce(),g,t,m,g[11],p,!1),sc}function oc(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m){const y=$t(),v=la(y,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g);return v!==ms&&Bs(Gt(),Ce(),y,t,v,y[11],m,!1),oc}function ac(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m,y,v){const b=$t(),_=ha(b,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m,y);return _!==ms&&Bs(Gt(),Ce(),b,t,_,b[11],v,!1),ac}function cc(t,e,n){const r=$t(),i=ra(r,e);return i!==ms&&Bs(Gt(),Ce(),r,t,i,r[11],n,!1),cc}const uc=[];function lc(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?_s(s):Os(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];hc(t[a],e)&&(c=!0,t[a+1]=r?Es(n):ws(n)),a=r?_s(n):Os(n)}c&&(t[n+1]=r?ws(s):Es(s))}function hc(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Dn(t,e)>=0}const dc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fc(t){return t.substring(dc.key,dc.keyEnd)}function pc(t){return t.substring(dc.value,dc.valueEnd)}function gc(t,e){const n=dc.textEnd;return n===e?-1:(e=dc.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,dc.key=e,n),vc(t,e,n))}function mc(t,e){const n=dc.textEnd;let r=dc.key=vc(t,e,n);return n===r?-1:(r=dc.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=bc(t,r,n),r=dc.value=vc(t,r,n),r=dc.valueEnd=function(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const c=t.charCodeAt(o++);if(59===c)return a;34===c||39===c?a=o=_c(t,c,o,n):e===o-4&&85===s&&82===i&&76===r&&40===c?a=o=_c(t,41,o,n):c>32&&(a=o),s=i,i=r,r=-33&c}return a}(t,r,n),bc(t,r,n))}function yc(t){dc.key=0,dc.keyEnd=0,dc.value=0,dc.valueEnd=0,dc.textEnd=t.length}function vc(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function bc(t,e,n,r){return(e=vc(t,e,n))<n&&e++,e}function _c(t,e,n,r){let i=-1,s=n;for(;s<r;){const n=t.charCodeAt(s++);if(n==e&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function wc(t,e,n){return xc(t,e,n,!1),wc}function Oc(t,e){return xc(t,e,null,!0),Oc}function Sc(t){kc(Mc,Ec,t,!1)}function Ec(t,e){for(let n=function(t){return yc(t),mc(t,vc(t,0,dc.textEnd))}(e);n>=0;n=mc(e,n))Mc(t,fc(e),pc(e))}function Cc(t){kc(jn,Tc,t,!0)}function Tc(t,e){for(let n=function(t){return yc(t),gc(t,vc(t,0,dc.textEnd))}(e);n>=0;n=gc(e,n))jn(t,fc(e),!0)}function xc(t,e,n,r){const i=$t(),s=Gt(),o=ce(2);s.firstUpdatePass&&Pc(s,t,o,r),e!==ms&&Jo(i,o,e)&&Dc(s,s.data[Se()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=d(wr(t)))),t}(e,n),r,o)}function kc(t,e,n,r){const i=Gt(),s=ce(2);i.firstUpdatePass&&Pc(i,null,s,r);const o=$t();if(n!==ms&&Jo(o,s,n)){const a=i.data[Se()];if(Lc(a,r)&&!Ic(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=f(t,n||"")),Ma(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===ms&&(i=uc);let c=0,u=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0;let p,g=null;l===h?(c+=2,u+=2,d!==f&&(g=h,p=f)):null===h||null!==l&&l<h?(c+=2,g=l):(u+=2,g=h,p=f),null!==g&&Dc(t,e,n,r,g,p,o,a),l=c<i.length?i[c]:null,h=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return uc;const r=[],i=wr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Ic(t,e){return e>=t.expandoStartIndex}function Pc(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Se()],o=Ic(t,n);Lc(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=de(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=jc(n=Ac(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ac(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Os(r))return t[_s(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ac(null,t,e,n[1],r),n=jc(n,e.attrs,r),function(t,e,n,r){t[_s(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=jc(r,t[s].hostAttrs,n);return jc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=_s(o),c=Os(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||Dn(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=_s(t[a+1]);t[r+1]=bs(e,a),0!==e&&(t[e+1]=Ss(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=bs(a,0),0!==a&&(t[a+1]=Ss(t[a+1],r)),a=r;else t[r+1]=bs(c,0),0===a?a=r:t[c+1]=Ss(t[c+1],r),c=r;l&&(t[r+1]=ws(t[r+1])),lc(t,u,r,!0),lc(t,u,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Dn(s,e)>=0&&(n[r+1]=Es(n[r+1]))}(e,u,t,r,s),o=bs(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Ac(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=jc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function jc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),jn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Mc(t,e,n){jn(t,e,wr(n))}function Dc(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];Rc(1==(1&u)?Nc(c,e,n,i,Os(u),o):void 0)||(Rc(s)||2==(2&u)&&(s=Nc(c,null,n,i,a,o)),function(t,e,n,r,i){const s=It(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Oi.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Oi.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,jt(Se(),n),i,s))}function Nc(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[i+1];l===ms&&(l=u?uc:void 0);let h=u?Mn(l,r):c===r?l:void 0;if(s&&!Rc(h)&&(h=Mn(e,r)),Rc(h)&&(a=h,o))return a;const d=t[i+1];i=o?_s(d):Os(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=Mn(t,r))}return a}function Rc(t){return void 0!==t}function Lc(t,e){return 0!=(t.flags&(e?16:32))}function Fc(t,e=""){const n=$t(),r=Gt(),i=t+20,s=r.firstCreatePass?xs(r,i,1,e,null):r.data[i],o=n[i]=Pi(n[11],e);Xi(r,n,o,s),Zt(s,!1)}function Uc(t){return Vc("",t,""),Uc}function Vc(t,e,n){const r=$t(),i=ia(r,t,e,n);return i!==ms&&mo(r,Se(),i),Vc}function Bc(t,e,n,r,i){const s=$t(),o=sa(s,t,e,n,r,i);return o!==ms&&mo(s,Se(),o),Bc}function zc(t,e,n,r,i,s,o){const a=$t(),c=oa(a,t,e,n,r,i,s,o);return c!==ms&&mo(a,Se(),c),zc}function Hc(t,e,n,r,i,s,o,a,c){const u=$t(),l=aa(u,t,e,n,r,i,s,o,a,c);return l!==ms&&mo(u,Se(),l),Hc}function qc(t,e,n,r,i,s,o,a,c,u,l){const h=$t(),d=ca(h,t,e,n,r,i,s,o,a,c,u,l);return d!==ms&&mo(h,Se(),d),qc}function Wc(t,e,n,r,i,s,o,a,c,u,l,h,d){const f=$t(),p=ua(f,t,e,n,r,i,s,o,a,c,u,l,h,d);return p!==ms&&mo(f,Se(),p),Wc}function Yc(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p){const g=$t(),m=la(g,t,e,n,r,i,s,o,a,c,u,l,h,d,f,p);return m!==ms&&mo(g,Se(),m),Yc}function $c(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m){const y=$t(),v=ha(y,t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m);return v!==ms&&mo(y,Se(),v),$c}function Gc(t){const e=$t(),n=ra(e,t);return n!==ms&&mo(e,Se(),n),Gc}function Xc(t,e,n){kc(jn,Tc,ia($t(),t,e,n),!0)}function Kc(t,e,n,r,i){kc(jn,Tc,sa($t(),t,e,n,r,i),!0)}function Qc(t,e,n,r,i,s,o){kc(jn,Tc,oa($t(),t,e,n,r,i,s,o),!0)}function Jc(t,e,n,r,i,s,o,a,c){kc(jn,Tc,aa($t(),t,e,n,r,i,s,o,a,c),!0)}function Zc(t,e,n,r,i,s,o,a,c,u,l){kc(jn,Tc,ca($t(),t,e,n,r,i,s,o,a,c,u,l),!0)}function tu(t,e,n,r,i,s,o,a,c,u,l,h,d){kc(jn,Tc,ua($t(),t,e,n,r,i,s,o,a,c,u,l,h,d),!0)}function eu(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p){kc(jn,Tc,la($t(),t,e,n,r,i,s,o,a,c,u,l,h,d,f,p),!0)}function nu(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m){kc(jn,Tc,ha($t(),t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m),!0)}function ru(t){kc(jn,Tc,ra($t(),t),!0)}function iu(t,e,n){Sc(ia($t(),t,e,n))}function su(t,e,n,r,i){Sc(sa($t(),t,e,n,r,i))}function ou(t,e,n,r,i,s,o){Sc(oa($t(),t,e,n,r,i,s,o))}function au(t,e,n,r,i,s,o,a,c){Sc(aa($t(),t,e,n,r,i,s,o,a,c))}function cu(t,e,n,r,i,s,o,a,c,u,l){Sc(ca($t(),t,e,n,r,i,s,o,a,c,u,l))}function uu(t,e,n,r,i,s,o,a,c,u,l,h,d){Sc(ua($t(),t,e,n,r,i,s,o,a,c,u,l,h,d))}function lu(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p){Sc(la($t(),t,e,n,r,i,s,o,a,c,u,l,h,d,f,p))}function hu(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m){Sc(ha($t(),t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m))}function du(t){Sc(ra($t(),t))}function fu(t,e,n,r,i){return xc(t,ia($t(),e,n,r),i,!1),fu}function pu(t,e,n,r,i,s,o){return xc(t,sa($t(),e,n,r,i,s),o,!1),pu}function gu(t,e,n,r,i,s,o,a,c){return xc(t,oa($t(),e,n,r,i,s,o,a),c,!1),gu}function mu(t,e,n,r,i,s,o,a,c,u,l){return xc(t,aa($t(),e,n,r,i,s,o,a,c,u),l,!1),mu}function yu(t,e,n,r,i,s,o,a,c,u,l,h,d){return xc(t,ca($t(),e,n,r,i,s,o,a,c,u,l,h),d,!1),yu}function vu(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p){return xc(t,ua($t(),e,n,r,i,s,o,a,c,u,l,h,d,f),p,!1),vu}function bu(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m){return xc(t,la($t(),e,n,r,i,s,o,a,c,u,l,h,d,f,p,g),m,!1),bu}function _u(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m,y,v){return xc(t,ha($t(),e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m,y),v,!1),_u}function wu(t,e,n){return xc(t,ra($t(),e),n,!1),wu}function Ou(t,e,n){const r=$t();return Jo(r,ae(),e)&&Bs(Gt(),Ce(),r,t,e,r[11],n,!0),Ou}function Su(t,e,n){const r=$t();if(Jo(r,ae(),e)){const i=Gt(),s=Ce();Bs(i,s,r,t,e,fo(de(i.data),s,r),n,!0)}return Su}const Eu=void 0;var Cu=["en",[["a","p"],["AM","PM"],Eu],[["AM","PM"],Eu,Eu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eu,"{1} 'at' {0}",Eu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Tu={};function xu(t,e,n){"string"!=typeof e&&(n=e,e=t[ju.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Tu[e]=t,n&&(Tu[e][ju.ExtraData]=n)}function ku(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Au(e);if(n)return n;const r=e.split("-")[0];if(n=Au(r),n)return n;if("en"===r)return Cu;throw new Error(`Missing locale data for the locale "${t}".`)}function Iu(t){return ku(t)[ju.CurrencyCode]||null}function Pu(t){return ku(t)[ju.PluralCase]}function Au(t){return t in Tu||(Tu[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),Tu[t]}var ju=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Mu=["zero","one","two","few","many"],Du={marker:"element"},Nu={marker:"ICU"};var Ru=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let Lu="en-US";function Fu(t){var e;null==(e=t)&&O("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Lu=t.toLowerCase().replace(/_/g,"-"))}function Uu(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Wi(t,0,n):At(n[i])}function Vu(t,e,n,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)Vi(t,o,n[s[e]],a,!1)}}function Bu(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];zu(r)||Hu(r,e)&&null===qu(r)&&Wu(r,e.index)}}function zu(t){return!(64&t.type)}function Hu(t,e){return zu(e)||t.index>e.index}function qu(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Wu(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(Gi(Uu,Vu),t.insertBeforeIndex=e)}function Yu(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function $u(t,e,n){const r=ks(t,n,64,null,null);return Bu(e,r),r}function Gu(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Xu=0,Ku=0;function Qu(t,e,n,r){const i=n[11];let s,o=null;for(let a=0;a<e.length;a++){const c=e[a];if("string"==typeof c){const t=e[++a];null===n[t]&&(n[t]=Pi(i,c))}else if("number"==typeof c)switch(1&c){case 0:const u=c>>>17;let l,h;if(null===o&&(o=u,s=Hi(i,r)),u===o?(l=r,h=s):(l=null,h=At(n[u])),null!==h){const e=(131070&c)>>>1;Vi(i,h,n[e],l,!1);const r=Yu(t,e);if(null!==r&&"object"==typeof r){const e=Gu(r,n);null!==e&&Qu(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const d=e[++a],f=e[++a];Qs(i,jt(c>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case Nu:const t=e[++a],r=e[++a];null===n[r]&&mi(n[r]=ji(i,t),n);break;case Du:const s=e[++a],o=e[++a];null===n[o]&&mi(n[o]=Mi(i,s,null),n)}}}function Ju(t,e,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=b(e[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],c=n[++o],u=t.data[a];"string"==typeof u?Qs(e[11],e[a],null,u,s,i,c):Bs(t,u,e,s,i,e[11],c,!1);break;case 0:const l=e[a];null!==l&&Ai(e[11],l,i);break;case 2:tl(t,Yu(t,a),e,i);break;case 3:Zu(t,Yu(t,a),r,e)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=Yu(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Zu(t,n,r,e)}}s+=a}}function Zu(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=Xu;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),Ju(t,r,e.update[i],n,s)}}function tl(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=Pu(e)(parseInt(t,10)),r=Mu[n];return void 0!==r?r:"other"}(e,Lu);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Gu(e,n)!==i&&(el(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Qu(t,e.create[i],n,r)}}function el(t,e,n){let r=Gu(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=jt(r,n);null!==t&&Zi(n[11],t)}else el(t,Yu(t,~r),n)}}}const nl=/\ufffd(\d+):?\d*\ufffd/gi,rl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,il=/\ufffd(\d+)\ufffd/,sl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ol=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,al=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,cl=/\uE500/g;function ul(t,e,n,r,i,s,o){const a=Is(t,r,1,null);let c=a<<Ru.SHIFT,u=Jt();e===u&&(u=null),null===u&&(c|=Ru.APPEND_EAGERLY),o&&(c|=Ru.COMMENT,void 0===Si&&(Si=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Gu(t,e);n=null!==i?t.remove[i]:W}function s(){if(r<n.length){const o=n[r++];return o>0?e[o]:(t.push(r,n),i(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),r=t.pop(),s())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),s}}())),i.push(c,null===s?"":s);const l=ks(t,a,o?32:1,null===s?"":s,null);Bu(n,l);const h=l.index;return Zt(l,!1),null!==u&&e!==u&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(Gi(Uu,Vu),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&O("Expecting array here",r,true,"=="),n.push(e))}(u,h),l}function ll(t,e,n,r,i,s,o){const a=o.match(nl),c=ul(t,e,n,s,r,a?null:o,!1);a&&hl(i,o,c.index)}function hl(t,e,n,r,i=null){const s=t.length,o=s+1;t.push(null,null);const a=s+2,c=e.split(nl);let u=0;for(let l=0;l<c.length;l++){const e=c[l];if(1&l){const n=parseInt(e,10);t.push(-1-n),u|=dl(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[s]=u,t[o]=t.length-a,u}function dl(t){return 1<<Math.min(t,31)}function fl(t){let e,n,r="",i=0,s=!1;for(;null!==(e=ol.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function pl(t,e,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Is(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(dl(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,s),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,s,a);const c=i.values;for(let u=0;u<c.length;u++){const s=c[u],l=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=l.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=yl(t,a,e,n,r,i.cases[u],s.join(""),l)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function gl(t){const e=[],n=[];let r=1,i=0;const s=ml(t=t.replace(sl,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=ml(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function ml(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);sl.test(n)?r.push(gl(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function yl(t,e,n,r,i,s,o,a){const c=[],u=[],l=[];e.cases.push(s),e.create.push(c),e.remove.push(u),e.update.push(l);const h=Ir(kt()).getInertBodyElement(o),d=Zr(h)||h;return d?vl(t,e,n,r,c,u,l,d,i,a,0):0}function vl(t,e,n,r,i,s,o,a,c,u,l){let h=0,d=a.firstChild;for(;d;){const a=Is(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(zr.hasOwnProperty(p)){wl(i,Du,p,c,a),t.data[a]=p;const g=f.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(nl)?Wr.hasOwnProperty(n)&&(Hr[n]?hl(o,e.value,a,e.name,Dr):qr[n]?hl(o,e.value,a,e.name,Nr):hl(o,e.value,a,e.name)):Ol(i,a,e)}h=vl(t,e,n,r,i,s,o,d,a,u,l+1)|h,bl(s,a,l)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(nl);wl(i,null,m?"":g,c,a),bl(s,a,l),m&&(h=hl(o,g,a)|h);break;case Node.COMMENT_NODE:const y=il.exec(d.textContent||"");if(y){const e=u[parseInt(y[1],10)];wl(i,Nu,"",c,a),pl(t,n,r,c,e,a),_l(s,a,l)}}d=d.nextSibling}return h}function bl(t,e,n){0===n&&t.push(e)}function _l(t,e,n){0===n&&(t.push(~e),t.push(e))}function wl(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Ol(t,e,n){t.push(e<<1|1,n.name,n.value)}const Sl=/\[(\ufffd.+?\ufffd?)\]/,El=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Cl=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Tl=/{([A-Z0-9_]+)}/g,xl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,kl=/\/\*/,Il=/\d+\:(\d+)/;function Pl(t,e,n=-1){const r=Gt(),i=$t(),s=20+t,o=Vt(r.consts,e),a=Jt();r.firstCreatePass&&function(t,e,n,r,i,s){const o=Jt(),a=[],c=[],u=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return fl(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return fl(t.substring(n,r))}}(i,s),h.replace(cl," ")).split(al);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const s=ml(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const e=l;""!==e&&ll(t,o,u[0],a,c,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);pl(t,n,c,e,r,ul(t,o,u[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),20+Number.parseInt(r.substring(e?2:1)));if(e)u.shift(),Zt(Jt(),!1);else{const e=$u(t,u[0],n);u.unshift([]),Zt(e,!0)}}}t.data[r]={create:a,update:c}}(r,null===a?0:a.index,i,s,o,n);const c=r.data[s],u=Ui(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],c=(o&Ru.COMMENT)===Ru.COMMENT,u=(o&Ru.APPEND_EAGERLY)===Ru.APPEND_EAGERLY,l=o>>>Ru.SHIFT;let h=t[l];null===h&&(h=t[l]=c?i.createComment(a):Pi(i,a)),u&&null!==n&&Vi(i,n,h,r,!1)}}(i,c.create,u,a&&8&a.type?i[a.index]:null),ue(!0)}function Al(){ue(!1)}function jl(t,e,n){Pl(t,e,n),Al()}function Ml(t,e){const n=Gt();!function(t,e,n){const r=Kt().index,i=[];if(t.firstCreatePass&&null===t.data[e]){for(let t=0;t<n.length;t+=2){const e=n[t],s=n[t+1];if(""!==s){if(rl.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);hl(i,s,r,e)}}t.data[e]=i}}(n,t+20,Vt(n.consts,e))}function Dl(t){return Jo($t(),ae(),t)&&(Xu|=1<<Math.min(Ku,31)),Ku++,Dl}function Nl(t){!function(t,e,n){if(Ku>0){const r=t.data[n];Ju(t,e,Array.isArray(r)?r:r.update,se()-Ku-1,Xu)}Xu=0,Ku=0}(Gt(),$t(),t+20)}function Rl(t,e={}){return function(t,e={}){let n=t;if(Sl.test(t)){const t={},e=[0];n=n.replace(El,(n,r,i)=>{const s=r||i,o=t[s]||[];if(o.length||(s.split("|").forEach(t=>{const e=t.match(Il),n=e?parseInt(e[1],10):0,r=kl.test(t);o.push([n,r,t])}),t[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=e[e.length-1];let c=0;for(let t=0;t<o.length;t++)if(o[t][0]===a){c=t;break}const[u,l,h]=o[c];return l?e.pop():a!==u&&e.push(u),o.splice(c,1),h})}return Object.keys(e).length?(n=n.replace(Cl,(t,n,r,i,s,o)=>e.hasOwnProperty(r)?`${n}${e[r]}${o}`:t),n=n.replace(Tl,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(xl,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}(t,e)}function Ll(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ll(t[s],e,n,r,i);else{const s=Gt(),o=$t();let a=jo(t)?t:m(t.provide),c=Io(t);const u=Kt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(jo(t)||!t.multi){const r=new Ne(c,i,Pa),f=Vl(a,e,i?l:l+d,h);-1===f?(Qe($e(u,o),s,a),Fl(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Vl(a,e,l+d,h),p=Vl(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Qe($e(u,o),s,a);const l=function(t,e,n,r,i){const s=new Ne(t,n,Pa);return s.multi=[],s.index=e,s.componentProviders=0,Ul(s,i,r&&!n),s}(i?zl:Bl,n.length,i,r,c);!i&&m&&(n[p].providerFactory=l),Fl(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else Fl(s,t,f>-1?f:p,Ul(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Fl(t,e,n,r){const i=jo(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Ul(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Bl(t,e,n,r){return Hl(this.multi,[])}function zl(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=on(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Hl(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Hl(i,s);return s}function Hl(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ql(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Gt();if(r.firstCreatePass){const i=vt(t);Ll(n,r.data,r.blueprint,i,!0),Ll(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Wl{}class Yl{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let $l=(()=>{class t{}return t.NULL=new Yl,t})();function Gl(...t){}function Xl(t,e){return new Ql(Mt(t,e))}const Kl=function(){return Xl(Kt(),$t())};let Ql=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Kl,t})();function Jl(t){return t instanceof Ql?t.nativeElement:t}class Zl{}let th=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>eh(),t})();const eh=function(){const t=$t(),e=Rt(Kt().index,t);return function(t){return t[11]}(ft(e)?e:t)};let nh=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class rh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ih=new rh("11.2.4");class sh{constructor(){}supports(t){return Go(t)}create(t){return new ah(t)}}const oh=(t,e)=>e;class ah{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||oh}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<hh(n,r,i)?e:n,o=hh(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Go(t))throw new Error(`Error trying to diff '${d(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Yo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ch(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new lh),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ch{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uh{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class lh{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new uh,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hh(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class dh{constructor(){}supports(t){return t instanceof Map||Xo(t)}create(){return new fh}}class fh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Xo(t)))throw new Error(`Error trying to diff '${d(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ph(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ph{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gh(){return new mh([new sh])}let mh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||gh()),deps:[[t,new er,new Zn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:gh}),t})();function yh(){return new vh([new dh])}let vh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||yh()),deps:[[t,new er,new Zn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:yh}),t})();function bh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(At(s)),pt(s))for(let t=10;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&bh(e[1],e,n,r)}const o=n.type;if(8&o)bh(t,e,n.child,r);else if(32&o){const t=Ei(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Qi(e,n);if(Array.isArray(t))r.push(...t);else{const n=Ci(e[16]);bh(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class _h{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return bh(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ni(t,n),Pn(e,n))}this._attachedToViewContainer=!1}Ri(this._lView[1],this._lView)}onDestroy(t){Us(this._lView[1],this._lView,null,t)}markForCheck(){so(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){oo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){re(!0);try{oo(t,e,n)}finally{re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,es(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class wh extends _h{constructor(t){super(t),this._view=t}detectChanges(){ao(this._view)}checkNoChanges(){!function(t){re(!0);try{ao(t)}finally{re(!1)}}(this._view)}get context(){return null}}const Oh=Eh;let Sh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Oh,t.__ChangeDetectorRef__=!0,t})();function Eh(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Rt(t.index,e);return new _h(n,n)}return 47&t.type?new _h(e[16],e):null}(Kt(),$t(),t)}const Ch=[new dh],Th=new mh([new sh]),xh=new vh(Ch),kh=function(){return jh(Kt(),$t())};let Ih=(()=>{class t{}return t.__NG_ELEMENT_ID__=kh,t})();const Ph=Ih,Ah=class extends Ph{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ts(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ps(e,n,t),new _h(n)}};function jh(t,e){return 4&t.type?new Ah(e,t,Xl(t,e)):null}class Mh{}class Dh{}const Nh=function(){return Bh(Kt(),$t())};let Rh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Nh,t})();const Lh=Rh,Fh=class extends Lh{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Xl(this._hostTNode,this._hostLView)}get injector(){return new un(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ke(this._hostTNode,this._hostLView);if(Be(t)){const e=He(t,this._hostLView),n=ze(t);return new un(e[1].data[n+8],e)}return new un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Uh(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Mh,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Fh(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],In(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Ji(i,s),a=n[11],c=Hi(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,es(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(),In(Vh(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Uh(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ni(this._lContainer,e);n&&(Pn(Vh(this._lContainer),e),Ri(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ni(this._lContainer,e);return n&&null!=Pn(Vh(this._lContainer),e)?new _h(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Uh(t){return t[8]}function Vh(t){return t[8]||(t[8]=[])}function Bh(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=Mt(t,e);Vi(n,Hi(n,r),i,function(t,e){return It(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=to(r,e,i,t),io(e,n)}return new Fh(n,t,e)}const zh={};class Hh extends $l{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=lt(t);return new Yh(e,this.ngModule)}}function qh(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Wh=new wn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yi});class Yh extends Wl{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(gs).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return qh(this.componentDef.inputs)}get outputs(){return qh(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,zh,i);return s!==zh||r===zh?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Zl,Pt),o=i.get(nh,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(It(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Mi(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:yi,clean:uo,playerHandler:null,flags:0},d=Fs(0,null,null,1,0,null,null,null,null,null),f=Ts(null,d,h,l,null,null,s,a,o,i);let p,g;ye(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=xs(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(yo(a,c,!0),null!==t&&(Re(i,t,c),null!==a.classes&&is(i,t,a.classes),null!==a.styles&&rs(i,t,a.styles)));const u=r.createRenderer(t,e),l=Ts(n,Ls(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return o.firstCreatePass&&(Qe($e(a,n),o,e.type),Ws(o,a),$s(a,n.length,1)),io(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)Re(a,u,["ng-version",ih.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ls(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Re(a,u,t),e&&e.length>0&&is(a,u,e.join(" "))}if(g=Dt(d,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Gs(t,r,e,Is(t,e,1,null),n));const i=on(e,t,r.directiveStart,r);mi(i,e);const s=Mt(r,e);return s&&mi(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Kt();e.contentQueries(1,o,t.directiveStart)}const a=Kt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ee(a.index),Hs(n[1],a,0,a.directiveStart,a.directiveEnd,e),qs(e,o)),o}(t,this.componentDef,f,h,[No]),Ps(d,f,null)}finally{Oe()}return new $h(this.componentType,p,Xl(g,f),f,g)}}class $h extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new wh(r),this.componentType=t}get injector(){return new un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Gh=new Map;class Xh extends Mh{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Hh(this);const n=dt(t),r=t[K]||null;r&&Fu(r),this._bootstrapComponents=wi(n.bootstrap),this._r3Injector=To(t,e,[{provide:Mh,useValue:this},{provide:$l,useValue:this.componentFactoryResolver}],d(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Do.THROW_IF_NOT_FOUND,n=j.Default){return t===Do||t===Mh||t===vo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Kh extends Dh{constructor(t){super(),this.moduleType=t,null!==dt(t)&&function(t){const e=new Set;!function t(n){const r=dt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${d(e)} vs ${d(e.name)}`)}(i,Gh.get(i),n),Gh.set(i,n));const s=wi(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Xh(this.moduleType,t)}}function Qh(t,e,n){const r=ie()+t,i=$t();return i[r]===ms?Ko(i,r,n?e.call(n):e()):Qo(i,r)}function Jh(t,e,n,r){return cd($t(),ie(),t,e,n,r)}function Zh(t,e,n,r,i){return ud($t(),ie(),t,e,n,r,i)}function td(t,e,n,r,i,s){return ld($t(),ie(),t,e,n,r,i,s)}function ed(t,e,n,r,i,s,o){return hd($t(),ie(),t,e,n,r,i,s,o)}function nd(t,e,n,r,i,s,o,a){const c=ie()+t,u=$t(),l=ea(u,c,n,r,i,s);return Jo(u,c+4,o)||l?Ko(u,c+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):Qo(u,c+5)}function rd(t,e,n,r,i,s,o,a,c){const u=ie()+t,l=$t(),h=ea(l,u,n,r,i,s);return Zo(l,u+4,o,a)||h?Ko(l,u+6,c?e.call(c,n,r,i,s,o,a):e(n,r,i,s,o,a)):Qo(l,u+6)}function id(t,e,n,r,i,s,o,a,c,u){const l=ie()+t,h=$t();let d=ea(h,l,n,r,i,s);return ta(h,l+4,o,a,c)||d?Ko(h,l+7,u?e.call(u,n,r,i,s,o,a,c):e(n,r,i,s,o,a,c)):Qo(h,l+7)}function sd(t,e,n,r,i,s,o,a,c,u,l){const h=ie()+t,d=$t(),f=ea(d,h,n,r,i,s);return ea(d,h+4,o,a,c,u)||f?Ko(d,h+8,l?e.call(l,n,r,i,s,o,a,c,u):e(n,r,i,s,o,a,c,u)):Qo(d,h+8)}function od(t,e,n,r){return dd($t(),ie(),t,e,n,r)}function ad(t,e){const n=t[e];return n===ms?void 0:n}function cd(t,e,n,r,i,s){const o=e+n;return Jo(t,o,i)?Ko(t,o+1,s?r.call(s,i):r(i)):ad(t,o+1)}function ud(t,e,n,r,i,s,o){const a=e+n;return Zo(t,a,i,s)?Ko(t,a+2,o?r.call(o,i,s):r(i,s)):ad(t,a+2)}function ld(t,e,n,r,i,s,o,a){const c=e+n;return ta(t,c,i,s,o)?Ko(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):ad(t,c+3)}function hd(t,e,n,r,i,s,o,a,c){const u=e+n;return ea(t,u,i,s,o,a)?Ko(t,u+4,c?r.call(c,i,s,o,a):r(i,s,o,a)):ad(t,u+4)}function dd(t,e,n,r,i,s){let o=e+n,a=!1;for(let c=0;c<i.length;c++)Jo(t,o++,i[c])&&(a=!0);return a?Ko(t,o,r.apply(s,i)):ad(t,o)}function fd(t,e){const n=Gt();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new v("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=D(Pa);try{const t=We(!1),e=s();return We(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,$t(),i,e),e}finally{D(o)}}function pd(t,e,n){const r=t+20,i=$t(),s=Nt(i,r);return _d(i,bd(i,r)?cd(i,ie(),e,s.transform,n,s):s.transform(n))}function gd(t,e,n,r){const i=t+20,s=$t(),o=Nt(s,i);return _d(s,bd(s,i)?ud(s,ie(),e,o.transform,n,r,o):o.transform(n,r))}function md(t,e,n,r,i){const s=t+20,o=$t(),a=Nt(o,s);return _d(o,bd(o,s)?ld(o,ie(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function yd(t,e,n,r,i,s){const o=t+20,a=$t(),c=Nt(a,o);return _d(a,bd(a,o)?hd(a,ie(),e,c.transform,n,r,i,s,c):c.transform(n,r,i,s))}function vd(t,e,n){const r=t+20,i=$t(),s=Nt(i,r);return _d(i,bd(i,r)?dd(i,ie(),e,s.transform,n,s):s.transform.apply(s,n))}function bd(t,e){return t[1].data[e].pure}function _d(t,e){return $o.isWrapped(e)&&(e=$o.unwrap(e),t[se()]=ms),e}const wd=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function Od(){return this._results[Yo()]()}class Sd{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Yo(),n=Sd.prototype;n[e]||(n[e]=Od)}get changes(){return this._changes||(this._changes=new wd)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=xn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ed{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ed(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Cd(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ud(t,e).matches&&this.queries[e].setDirty()}}class Td{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class xd{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new xd(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class kd{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new kd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Id(e,i)),this.matchTNodeWithReadOption(t,e,sn(e,t,i,!1,!1))}else n===Ih?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,sn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ql||r===Rh||r===Ih&&4&e.type)this.addMatch(e.index,-2);else{const n=sn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Id(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Pd(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Xl(t,e):4&t.type?jh(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ql?Xl(e,t):n===Ih?jh(e,t):n===Rh?Bh(e,t):void 0}(t,e,r):on(t,t[1],n,e)}function Ad(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Pd(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function jd(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Ad(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=10;t<o.length;t++){const e=o[t];e[17]===e[3]&&jd(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];jd(n[1],n,i,r)}}}}}return r}function Md(t){const e=$t(),n=Gt(),r=fe();pe(r+1);const i=Ud(n,r);if(t.dirty&&Ft(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?jd(n,e,r,[]):Ad(n,e,i,r);t.reset(s,Jl),t.notifyOnChanges()}return!0}return!1}function Dd(t,e,n){const r=Gt();r.firstCreatePass&&(Fd(r,new Td(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Ld(r,$t(),e)}function Nd(t,e,n,r){const i=Gt();if(i.firstCreatePass){const s=Kt();Fd(i,new Td(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Ld(i,$t(),n)}function Rd(){return t=$t(),e=fe(),t[19].queries[e].queryList;var t,e}function Ld(t,e,n){const r=new Sd(4==(4&n));Us(t,e,r,r.destroy),null===e[19]&&(e[19]=new Cd),e[19].queries.push(new Ed(r))}function Fd(t,e,n){null===t.queries&&(t.queries=new xd),t.queries.track(new kd(e,n))}function Ud(t,e){return t.queries.getByIndex(e)}function Vd(t,e){return jh(t,e)}function Bd(t=j.Default){const e=Eh(!0);if(null!=e||t&j.Optional)return e;w("ChangeDetectorRef")}const zd=(()=>({"\u0275\u0275attribute":na,"\u0275\u0275attributeInterpolate1":da,"\u0275\u0275attributeInterpolate2":fa,"\u0275\u0275attributeInterpolate3":pa,"\u0275\u0275attributeInterpolate4":ga,"\u0275\u0275attributeInterpolate5":ma,"\u0275\u0275attributeInterpolate6":ya,"\u0275\u0275attributeInterpolate7":va,"\u0275\u0275attributeInterpolate8":ba,"\u0275\u0275attributeInterpolateV":_a,"\u0275\u0275defineComponent":tt,"\u0275\u0275defineDirective":ct,"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":E,"\u0275\u0275defineNgModule":st,"\u0275\u0275definePipe":ut,"\u0275\u0275directiveInject":Pa,"\u0275\u0275getFactoryOf":ln,"\u0275\u0275getInheritedFactory":hn,"\u0275\u0275inject":Gn,"\u0275\u0275injectAttribute":dn,"\u0275\u0275invalidFactory":Aa,"\u0275\u0275invalidFactoryDep":Xn,"\u0275\u0275injectPipeChangeDetectorRef":Bd,"\u0275\u0275templateRefExtractor":Vd,"\u0275\u0275NgOnChangesFeature":wt,"\u0275\u0275ProvidersFeature":ql,"\u0275\u0275CopyDefinitionFeature":qo,"\u0275\u0275InheritDefinitionFeature":Lo,"\u0275\u0275nextContext":Xa,"\u0275\u0275namespaceHTML":ke,"\u0275\u0275namespaceMathML":xe,"\u0275\u0275namespaceSVG":Te,"\u0275\u0275enableBindings":Wt,"\u0275\u0275disableBindings":Yt,"\u0275\u0275elementStart":Da,"\u0275\u0275elementEnd":Na,"\u0275\u0275element":Ra,"\u0275\u0275elementContainerStart":La,"\u0275\u0275elementContainerEnd":Fa,"\u0275\u0275elementContainer":Ua,"\u0275\u0275pureFunction0":Qh,"\u0275\u0275pureFunction1":Jh,"\u0275\u0275pureFunction2":Zh,"\u0275\u0275pureFunction3":td,"\u0275\u0275pureFunction4":ed,"\u0275\u0275pureFunction5":nd,"\u0275\u0275pureFunction6":rd,"\u0275\u0275pureFunction7":id,"\u0275\u0275pureFunction8":sd,"\u0275\u0275pureFunctionV":od,"\u0275\u0275getCurrentView":Va,"\u0275\u0275restoreView":Xt,"\u0275\u0275listener":qa,"\u0275\u0275projection":Ja,"\u0275\u0275syntheticHostProperty":Su,"\u0275\u0275syntheticHostListener":Wa,"\u0275\u0275pipeBind1":pd,"\u0275\u0275pipeBind2":gd,"\u0275\u0275pipeBind3":md,"\u0275\u0275pipeBind4":yd,"\u0275\u0275pipeBindV":vd,"\u0275\u0275projectionDef":Qa,"\u0275\u0275hostProperty":Ou,"\u0275\u0275property":ja,"\u0275\u0275propertyInterpolate":Za,"\u0275\u0275propertyInterpolate1":tc,"\u0275\u0275propertyInterpolate2":ec,"\u0275\u0275propertyInterpolate3":nc,"\u0275\u0275propertyInterpolate4":rc,"\u0275\u0275propertyInterpolate5":ic,"\u0275\u0275propertyInterpolate6":sc,"\u0275\u0275propertyInterpolate7":oc,"\u0275\u0275propertyInterpolate8":ac,"\u0275\u0275propertyInterpolateV":cc,"\u0275\u0275pipe":fd,"\u0275\u0275queryRefresh":Md,"\u0275\u0275viewQuery":Dd,"\u0275\u0275loadQuery":Rd,"\u0275\u0275contentQuery":Nd,"\u0275\u0275reference":Oa,"\u0275\u0275classMap":Cc,"\u0275\u0275classMapInterpolate1":Xc,"\u0275\u0275classMapInterpolate2":Kc,"\u0275\u0275classMapInterpolate3":Qc,"\u0275\u0275classMapInterpolate4":Jc,"\u0275\u0275classMapInterpolate5":Zc,"\u0275\u0275classMapInterpolate6":tu,"\u0275\u0275classMapInterpolate7":eu,"\u0275\u0275classMapInterpolate8":nu,"\u0275\u0275classMapInterpolateV":ru,"\u0275\u0275styleMap":Sc,"\u0275\u0275styleMapInterpolate1":iu,"\u0275\u0275styleMapInterpolate2":su,"\u0275\u0275styleMapInterpolate3":ou,"\u0275\u0275styleMapInterpolate4":au,"\u0275\u0275styleMapInterpolate5":cu,"\u0275\u0275styleMapInterpolate6":uu,"\u0275\u0275styleMapInterpolate7":lu,"\u0275\u0275styleMapInterpolate8":hu,"\u0275\u0275styleMapInterpolateV":du,"\u0275\u0275styleProp":wc,"\u0275\u0275stylePropInterpolate1":fu,"\u0275\u0275stylePropInterpolate2":pu,"\u0275\u0275stylePropInterpolate3":gu,"\u0275\u0275stylePropInterpolate4":mu,"\u0275\u0275stylePropInterpolate5":yu,"\u0275\u0275stylePropInterpolate6":vu,"\u0275\u0275stylePropInterpolate7":bu,"\u0275\u0275stylePropInterpolate8":_u,"\u0275\u0275stylePropInterpolateV":wu,"\u0275\u0275classProp":Oc,"\u0275\u0275advance":ys,"\u0275\u0275template":wa,"\u0275\u0275text":Fc,"\u0275\u0275textInterpolate":Uc,"\u0275\u0275textInterpolate1":Vc,"\u0275\u0275textInterpolate2":Bc,"\u0275\u0275textInterpolate3":zc,"\u0275\u0275textInterpolate4":Hc,"\u0275\u0275textInterpolate5":qc,"\u0275\u0275textInterpolate6":Wc,"\u0275\u0275textInterpolate7":Yc,"\u0275\u0275textInterpolate8":$c,"\u0275\u0275textInterpolateV":Gc,"\u0275\u0275i18n":jl,"\u0275\u0275i18nAttributes":Ml,"\u0275\u0275i18nExp":Dl,"\u0275\u0275i18nStart":Pl,"\u0275\u0275i18nEnd":Al,"\u0275\u0275i18nApply":Nl,"\u0275\u0275i18nPostprocess":Rl,"\u0275\u0275resolveWindow":vi,"\u0275\u0275resolveDocument":bi,"\u0275\u0275resolveBody":_i,"\u0275\u0275setComponentScope":et,"\u0275\u0275setNgModuleScope":ot,"\u0275\u0275sanitizeHtml":ei,"\u0275\u0275sanitizeStyle":ni,"\u0275\u0275sanitizeResourceUrl":ii,"\u0275\u0275sanitizeScript":si,"\u0275\u0275sanitizeUrl":ri,"\u0275\u0275sanitizeUrlOrResourceUrl":ci,"\u0275\u0275trustConstantHtml":oi,"\u0275\u0275trustConstantResourceUrl":ai,forwardRef:g,resolveForwardRef:m}))();function Hd(t,e){let n=null;(function(t,e){let n=null;Object.defineProperty(t,Q,{get:()=>{if(null===n){const r=qd(t,e),i=En();n=i.compileFactory(zd,`ng:///${t.name}/\u0275fac.js`,Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})})(t,e||{}),Object.defineProperty(t,$,{get:()=>{if(null===n){const r=qd(t,e||{});n=En().compileDirective(zd,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function qd(t,e){const n=t&&t.name,r=`ng:///${n}/\u0275dir.js`,i=En(),s=function(t,e){const n=or(),r=n.ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:void 0!==e.selector?e.selector:null,deps:ar(t),host:e.host||q,propMetadata:r,inputs:e.inputs||W,outputs:e.outputs||W,queries:$d(t,r,Gd),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Wd(t),exportAs:(i=e.exportAs,void 0===i?null:Qd(i)),providers:e.providers||null,viewQueries:$d(t,r,Xd)};var i}(t,e);return s.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),s.usesInheritance&&function(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)ht(n)||lt(n)||!Zd(n)||Hd(n,null),n=Object.getPrototypeOf(n)}(t),{metadata:s,sourceMapUrl:r}}function Wd(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function Yd(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?Qd(n):m(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static,emitDistinctChangesOnly:!!e.emitDistinctChangesOnly};var n}function $d(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const s=e[i];s.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of "${_(t)}" since the query selector wasn't defined.`);if(s.some(Kd))throw new Error("Cannot combine @Input decorators with query decorators");r.push(Yd(i,e))}})}return r}function Gd(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function Xd(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function Kd(t){return"Input"===t.ngMetadataName}function Qd(t){return t.split(",").map(t=>t.trim())}const Jd=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Zd(t){const e=or();if(Jd.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const r in n){const t=n[r];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(Kd(n)||Gd(n)||Xd(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}const tf=mn("Directive",(t={})=>t,void 0,void 0,(t,e)=>nf(t,e)),ef=bn("Input",t=>({bindingPropertyName:t})),nf=Hd,rf=new wn("Application Initializer");let sf=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Gl,this.reject=Gl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ba(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Gn(rf,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const of=new wn("AppId"),af={provide:of,useFactory:function(){return`${cf()}${cf()}${cf()}`},deps:[]};function cf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uf=new wn("Platform Initializer"),lf=new wn("Platform ID"),hf=new wn("appBootstrapListener");let df=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const ff=new wn("LocaleId"),pf=new wn("DefaultCurrencyCode");class gf{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const mf=function(t){return new Kh(t)},yf=mf,vf=function(t){return Promise.resolve(mf(t))},bf=function(t){const e=mf(t),n=wi(dt(t).declarations).reduce((t,e)=>{const n=lt(e);return n&&t.push(new Yh(n)),t},[]);return new gf(e,n)},_f=bf,wf=function(t){return Promise.resolve(bf(t))};let Of=(()=>{class t{constructor(){this.compileModuleSync=yf,this.compileModuleAsync=vf,this.compileModuleAndAllComponentsSync=_f,this.compileModuleAndAllComponentsAsync=wf}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Sf=(()=>Promise.resolve(0))();function Ef(t){"undefined"==typeof Zone?Sf.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Cf{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wd(!1),this.onMicrotaskEmpty=new wd(!1),this.onStable=new wd(!1),this.onError=new wd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,kf(t),xf(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),kf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return If(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Pf(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return If(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Pf(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,kf(t),xf(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cf.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cf.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Tf,Gl,Gl);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Tf={};function xf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function kf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function If(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pf(t){t._nesting--,xf(t)}class Af{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wd,this.onMicrotaskEmpty=new wd,this.onStable=new wd,this.onError=new wd}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let jf=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cf.assertNotInAngularZone(),Ef(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ef(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Gn(Cf))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),Mf=(()=>{class t{constructor(){this._applications=new Map,Lf.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Lf.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class Df{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Nf(t){Lf=t}let Rf,Lf=new Df,Ff=!0,Uf=!1;function Vf(){return Uf=!0,Ff}function Bf(){if(Uf)throw new Error("Cannot enable prod mode after platform setup.");Ff=!1}const zf=new wn("AllowMultipleToken");class Hf{constructor(t,e){this.name=t,this.token=e}}function qf(t,e,n=[]){const r=`Platform: ${e}`,i=new wn(r);return(e=[])=>{let s=Wf();if(!s||s.injector.get(zf,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:_o,useValue:"platform"});!function(t){if(Rf&&!Rf.destroyed&&!Rf.injector.get(zf,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Rf=t.get(Yf);const e=t.get(uf,null);e&&e.forEach(t=>t())}(Do.create({providers:t,name:r}))}return function(t){const e=Wf();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Wf(){return Rf&&!Rf.destroyed?Rf:null}let Yf=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Af:("zone.js"===t?void 0:t)||new Cf({enableLongStackTrace:Vf(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Cf,useValue:n}];return n.run(()=>{const e=Do.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(fi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Xf(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Ba(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(sf);return t.runInitializers(),t.donePromise.then(()=>(Fu(i.injector.get(ff,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=$f({},e);return function(t,e,n){const r=new Kh(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Gf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${d(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Gn(Do))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function $f(t,e){return Array.isArray(e)?e.reduce($f,t):Object.assign(Object.assign({},t),e)}let Gf=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Cf.assertNotInAngularZone(),Ef(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Cf.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,h.pipe(t=>{return Object(c.a)()((e=u,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Wl?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Mh),i=n.create(Do.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(jf,null),a=o&&i.injector.get(Mf);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Xf(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Xf(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hf,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Gn(Cf),Gn(Do),Gn(fi),Gn($l),Gn(sf))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Xf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Kf{}class Qf{}const Jf={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Zf=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Jf}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>tp(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>tp(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Gn(Of),Gn(Qf,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function tp(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ep=function(t){return null},np=qf(null,"core",[{provide:lf,useValue:"unknown"},{provide:Yf,deps:[Do]},{provide:Mf,deps:[]},{provide:df,deps:[]}]),rp=[{provide:Gf,useClass:Gf,deps:[Cf,Do,fi,$l,sf]},{provide:Wh,deps:[Cf],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:sf,useClass:sf,deps:[[new Zn,rf]]},{provide:Of,useClass:Of,deps:[]},af,{provide:mh,useFactory:function(){return Th},deps:[]},{provide:vh,useFactory:function(){return xh},deps:[]},{provide:ff,useFactory:function(t){return Fu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Jn(ff),new Zn,new er]]},{provide:pf,useValue:"USD"}];let ip=(()=>{class t{constructor(t){}}return t.\u0275mod=st({type:t}),t.\u0275inj=E({factory:function(e){return new(e||t)(Gn(Gf))},providers:rp}),t})()},"g8G/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],i="M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z";e.definition={prefix:"fas",iconName:"comment",icon:[512,512,r,"f075",i]},e.faComment=e.definition,e.prefix="fas",e.iconName="comment",e.width=512,e.height=512,e.ligatures=r,e.unicode="f075",e.svgPathData=i},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kdvv:function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return l});var r=n("9/Zf"),i=n("+A1k"),s={nowSeconds:function(){return Date.now()/1e3}},o=Object(i.b)()?function(){try{return Object(i.a)(t,"perf_hooks").performance}catch(e){return}}():function(){var t=Object(r.e)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),a=void 0===o?s:{nowSeconds:function(){return(o.timeOrigin+o.now())/1e3}},c=s.nowSeconds.bind(s),u=a.nowSeconds.bind(a),l=function(){var t=Object(r.e)().performance;if(t)return t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()}()}).call(this,n("3UD+")(t))},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oXqc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],i="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z";e.definition={prefix:"fas",iconName:"home",icon:[576,512,r,"f015",i]},e.faHome=e.definition,e.prefix="fas",e.iconName="home",e.width=576,e.height=512,e.ligatures=r,e.unicode="f015",e.svgPathData=i},pRiV:function(t,e,n){"use strict";function r(t){try{return t&&"function"==typeof t&&t.name||"<anonymous>"}catch(e){return"<anonymous>"}}n.d(e,"a",function(){return r})},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return c}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return d}),n.d(e,"o",function(){return g});var r=n("30Go");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new m(i,a,r);return c},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},rE59:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],i="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm-80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm176 192H152c-21.2 0-21.2-32 0-32h192c21.2 0 21.2 32 0 32zm-16-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z";e.definition={prefix:"fas",iconName:"meh",icon:[496,512,r,"f11a",i]},e.faMeh=e.definition,e.prefix="fas",e.iconName="meh",e.width=496,e.height=512,e.ligatures=r,e.unicode="f11a",e.svgPathData=i},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new c.t("angularfire2.app.options"),b=new c.t("angularfire2.app.nameOrConfig"),_=new c.S("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const O=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(c.Y)()&&"undefined"!=typeof console&&console[t](...e)};function E(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:w,deps:[v,c.D,[new c.E,b]]};let T=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.R.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)(c.Yb(c.F))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const c={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var u=n("3N8a");class l extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=c.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(c.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=f){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vFt6:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("9AQC");function i(t){try{for(var e=t,n=[],r=0,i=0,o=" > ".length,a=void 0;e&&r++<5&&!("html"===(a=s(e))||r>1&&i+n.length*o+a.length>=80);)n.push(a),i+=a.length,e=e.parentNode;return n.reverse().join(" > ")}catch(c){return"<unknown>"}}function s(t){var e,n,i,s,o,a=t,c=[];if(!a||!a.tagName)return"";if(c.push(a.tagName.toLowerCase()),a.id&&c.push("#"+a.id),(e=a.className)&&Object(r.k)(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)c.push("."+n[o]);var u=["type","name","title","alt"];for(o=0;o<u.length;o++)(s=a.getAttribute(i=u[o]))&&c.push("["+i+'="'+s+'"]');return c.join("")}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},yLV6:function(t,e,n){var r;!function(i,s,o,a){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=s.createElement("div"),h=Math.round,d=Math.abs,f=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=i.console&&(i.console.warn||i.console.log);return s&&s.call(i.console,r,n),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var v=y(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),b=y(function(t,e){return v(t,e,!0)},"merge","Use `assign`.");function _(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&c(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function O(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function S(t,e){return void 0===t?e:t}function E(t,e,n){m(k(e),function(e){t.addEventListener(e,n,!1)})}function C(t,e,n){m(k(e),function(e){t.removeEventListener(e,n,!1)})}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function x(t,e){return t.indexOf(e)>-1}function k(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function P(t){return Array.prototype.slice.call(t,0)}function A(t,e,n){for(var r=[],i=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];I(i,o)<0&&r.push(t[s]),i[s]=o,s++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function j(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<u.length;){if((r=(n=u[s])?n+i:e)in t)return r;s++}}var M=1;function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var N="ontouchstart"in i,R=void 0!==j(i,"PointerEvent"),L=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],U=["clientX","clientY"];function V(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){O(t.options.enable,[t])&&n.handler(e)},this.init()}function B(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,s=1&e&&r-i==0,o=12&e&&r-i==0;n.isFirst=!!s,n.isFinal=!!o,s&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=z(e)),i>1&&!n.firstMultiple?n.firstMultiple=z(e):1===i&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,a=o?o.center:s.center,c=e.center=H(r);e.timeStamp=f(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=$(a,c),e.distance=Y(a,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};1!==e.eventType&&4!==s.eventType||(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=W(e.deltaX,e.deltaY);var u,l,h=q(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=d(h.x)>d(h.y)?h.x:h.y,e.scale=o?(u=o.pointers,Y((l=r)[0],l[1],U)/Y(u[0],u[1],U)):1,e.rotation=o?function(t,e){return $(e[1],e[0],U)+$(t[1],t[0],U)}(o.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,s,o=t.lastInterval||e,a=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(a>25||void 0===o.velocity)){var c=e.deltaX-o.deltaX,u=e.deltaY-o.deltaY,l=q(a,c,u);r=l.x,i=l.y,n=d(l.x)>d(l.y)?l.x:l.y,s=W(c,u),t.lastInterval=e}else n=o.velocity,r=o.velocityX,i=o.velocityY,s=o.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=s}(n,e);var p=t.element;T(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function z(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:H(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function q(t,e,n){return{x:e/t||0,y:n/t||0}}function W(t,e){return t===e?1:d(t)>=d(e)?t<0?2:4:e<0?8:16}function Y(t,e,n){n||(n=F);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function $(t,e,n){return n||(n=F),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}V.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(D(this.element),this.evWin,this.domHandler)}};var G={mousedown:1,mousemove:2,mouseup:4};function X(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,V.apply(this,arguments)}_(X,V,{handler:function(t){var e=G[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Q={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",Z="pointermove pointerup pointercancel";function tt(){this.evEl=J,this.evWin=Z,V.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(J="MSPointerDown",Z="MSPointerMove MSPointerUp MSPointerCancel"),_(tt,V,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=K[r],s=Q[t.pointerType]||t.pointerType,o="touch"==s,a=I(e,t.pointerId,"pointerId");1&i&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):12&i&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),n&&e.splice(a,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,V.apply(this,arguments)}function rt(t,e){var n=P(t.touches),r=P(t.changedTouches);return 12&e&&(n=A(n.concat(r),"identifier",!0)),[n,r]}_(nt,V,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var it={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function st(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},V.apply(this,arguments)}function ot(t,e){var n=P(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,s,o=P(t.changedTouches),a=[],c=this.target;if(s=n.filter(function(t){return T(t.target,c)}),1===e)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),12&e&&delete r[o[i].identifier],i++;return a.length?[A(s.concat(a),"identifier",!0),a]:void 0}function at(){V.apply(this,arguments);var t=w(this.handler,this);this.touch=new st(this.manager,t),this.mouse=new X(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ct(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ut.call(this,e)):12&t&&ut.call(this,e)}function ut(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},2500)}}function lt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(n-i.y);if(s<=25&&o<=25)return!0}return!1}_(st,V,{handler:function(t){var e=it[t.type],n=ot.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),_(at,V,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ct.call(this,e,n);else if(r&&lt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=j(l.style,"touchAction"),dt=void 0!==ht,ft=function(){if(!dt)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||i.CSS.supports("touch-action",n)}),t}();function pt(t,e){this.manager=t,this.set(e)}function gt(t){this.options=c({},this.defaults,t||{}),this.id=M++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function mt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function yt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function vt(t,e){var n=e.manager;return n?n.get(t):t}function bt(){gt.apply(this,arguments)}function _t(){bt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){bt.apply(this,arguments)}function Ot(){gt.apply(this,arguments),this._timer=null,this._input=null}function St(){bt.apply(this,arguments)}function Et(){bt.apply(this,arguments)}function Ct(){gt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Tt(t,e){return(e=e||{}).recognizers=S(e.recognizers,Tt.defaults.preset),new xt(t,e)}function xt(t,e){this.options=c({},Tt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(R?tt:L?st:N?at:X))(this,B),this.touchAction=new pt(this,this.options.touchAction),kt(this,!0),m(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function kt(t,e){var n,r=t.element;r.style&&(m(t.options.cssProps,function(i,s){n=j(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),dt&&this.manager.element.style&&ft[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,function(e){O(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(x(t,"none"))return"none";var e=x(t,"pan-x"),n=x(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":x(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=x(r,"none")&&!ft.none,s=x(r,"pan-y")&&!ft["pan-y"],o=x(r,"pan-x")&&!ft["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!o||!s)return i||s&&6&n||o&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},gt.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=vt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)||(t=vt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=vt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=vt(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+mt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+mt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!O(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(bt,gt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),_(_t,bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,s=t.deltaX,o=t.deltaY;return i&e.direction||(6&e.direction?(i=0===s?1:s<0?2:4,n=s!=this.pX,r=Math.abs(t.deltaX)):(i=0===o?1:o<0?8:16,n=o!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(wt,bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),_(Ot,gt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=p(function(){this.state=8,this.tryEmit()},e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),_(St,bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(Et,bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _t.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(Ct,gt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||Y(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&s?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=p(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Tt.VERSION="2.0.7",Tt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[St,{enable:!1}],[wt,{enable:!1},["rotate"]],[Et,{direction:6}],[_t,{direction:6},["swipe"]],[Ct],[Ct,{event:"doubletap",taps:2},["tap"]],[Ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},xt.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var s=0;s<r.length;)n=r[s],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),s++}},get:function(t){if(t instanceof gt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return m(k(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return m(k(t),function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=s.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&kt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Tt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:xt,Input:V,TouchAction:pt,TouchInput:st,MouseInput:X,PointerEventInput:tt,TouchMouseInput:at,SingleTouchInput:nt,Recognizer:gt,AttrRecognizer:bt,Tap:Ct,Pan:_t,Swipe:Et,Pinch:wt,Rotate:St,Press:Ot,on:E,off:C,each:m,merge:b,extend:v,assign:c,inherit:_,bindFn:w,prefixed:j}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Tt,void 0===(r=(function(){return Tt}).call(e,n,e,t))||(t.exports=r)}(window,document)},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("30Go"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",u),h="@firebase/app",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new c.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(c,s.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var b=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zR2W:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var r=n("+A1k"),i=n("8LbN"),s=n("6PXS"),o=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(e,n){var o;try{o=Object(r.a)(t,"mysql/lib/Connection.js")}catch(a){return void i.a.error("Mysql Integration was unable to require `mysql` package.")}Object(s.c)(o.prototype,"query",function(t){return function(e,r,i){var s,o,a=null===(o=null===(s=n().getScope())||void 0===s?void 0:s.getSpan())||void 0===o?void 0:o.startChild({description:"string"==typeof e?e:e.sql,op:"db"});return"function"==typeof i?t.call(this,e,r,function(t,e,n){var r;null===(r=a)||void 0===r||r.finish(),i(t,e,n)}):"function"==typeof r?t.call(this,e,function(t,e,n){var i;null===(i=a)||void 0===i||i.finish(),r(t,e,n)}):t.call(this,e,r,i)}})},e.id="Mysql",e}()}).call(this,n("3UD+")(t))},zUnb:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"FunctionToString",function(){return kt}),n.d(r,"InboundFilters",function(){return Qt});var i={};n.r(i),n.d(i,"Express",function(){return ma}),n.d(i,"Postgres",function(){return _a.a}),n.d(i,"Mysql",function(){return wa.a}),n.d(i,"Mongo",function(){return Oa.a});var s=n("fXoL");let o=null;function a(){return o}const c=new s.t("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Kb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(s.Yb)(d)}const h=new s.t("Location Initialized");let d=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=a().getLocation(),this._history=a().getHistory()}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(c))},t.\u0275prov=Object(s.Kb)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d(Object(s.Yb)(c))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Kb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(s.Yb)(c).location;return new w(Object(s.Yb)(u),e&&e.origin||"")}const _=new s.t("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(u),s.Yb(_,8))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(u),s.Yb(_,8))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{constructor(t,e){this._subject=new s.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(v),s.Yb(u))},t.normalizeQueryParams=y,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(s.Kb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new S(Object(s.Yb)(v),Object(s.Yb)(u))}function C(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const x=s.pb;class k{}let I=(()=>{class t extends k{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(s.y))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();function P(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let A=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(s.sb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(s.yb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.w),s.Ob(s.x),s.Ob(s.m),s.Ob(s.H))},t.\u0275dir=s.Jb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let M=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new D(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new D(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.T),s.Ob(s.O),s.Ob(s.w))},t.\u0275dir=s.Jb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class D{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){L("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){L("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.T),s.Ob(s.O))},t.\u0275dir=s.Jb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function L(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(s.yb)(e)}'.`)}class F{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let U=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Jb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),V=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new F(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.T),s.Ob(s.O),s.Ob(U,1))},t.\u0275dir=s.Jb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),B=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.m),s.Ob(s.x),s.Ob(s.H))},t.\u0275dir=s.Jb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),z=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.T))},t.\u0275dir=s.Jb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[s.Bb]}),t})(),H=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},providers:[{provide:k,useClass:I}]}),t})();function q(t){return"browser"===t}function W(t){return"server"===t}let Y=(()=>{class t{}return t.\u0275prov=Object(s.Kb)({token:t,providedIn:"root",factory:()=>new $(Object(s.Yb)(c),window)}),t})();class ${constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=G(this.window.history)||G(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function G(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class X extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new X,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Q||(Q=document.querySelector("base"),Q)?Q.getAttribute("href"):null;return null==e?null:(n=e,K||(K=document.createElement("a")),K.setAttribute("href",n),"/"===K.pathname.charAt(0)?K.pathname:"/"+K.pathname);var n}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return P(document.cookie,t)}}let K,Q=null;const J=new s.t("TRANSITION_ID"),Z=[{provide:s.d,useFactory:function(t,e,n){return()=>{n.get(s.e).donePromise.then(()=>{const n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[J,c,s.u],multi:!0}];class tt{static init(){Object(s.ab)(new tt)}addToWindow(t){s.rb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.rb.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.rb.getAllAngularRootElements=()=>t.getAllRootElements(),s.rb.frameworkStabilizers||(s.rb.frameworkStabilizers=[]),s.rb.frameworkStabilizers.push(t=>{const e=s.rb.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const et=new s.t("EventManagerPlugins");let nt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(et),s.Yb(s.D))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let it=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),st=(()=>{class t extends it{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>a().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(c))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=/%COMP%/g;function ct(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ct(t,i,n):(i=i.replace(at,t),n.push(i))}return n}function ut(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let lt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ht(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case s.U.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new dt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case s.U.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ct(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(nt),s.Yb(st),s.Yb(s.c))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();class ht{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ot[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ot[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ot[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(s.J.DashCase|s.J.Important)?t.style.setProperty(e,n,r&s.J.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&s.J.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ut(n)):this.eventManager.addEventListener(t,e,ut(n))}}class dt extends ht{constructor(t,e,n,r){super(t),this.component=n;const i=ct(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(at,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(at,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ft extends ht{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ct(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let pt=(()=>{class t extends rt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(c))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();const gt=["alt","control","meta","shift"],mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let bt=(()=>{class t extends rt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>a().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(gt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yt.hasOwnProperty(e)&&(e=yt[e]))}return mt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),gt.forEach(r=>{r!=n&&(0,vt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(c))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),_t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Kb)({factory:function(){return Object(s.Yb)(wt)},token:t,providedIn:"root"}),t})(),wt=(()=>{class t extends _t{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case s.L.NONE:return e;case s.L.HTML:return Object(s.gb)(e,"HTML")?Object(s.zb)(e):Object(s.eb)(this._doc,String(e)).toString();case s.L.STYLE:return Object(s.gb)(e,"Style")?Object(s.zb)(e):e;case s.L.SCRIPT:if(Object(s.gb)(e,"Script"))return Object(s.zb)(e);throw new Error("unsafe value used in a script context");case s.L.URL:return Object(s.qb)(e),Object(s.gb)(e,"URL")?Object(s.zb)(e):Object(s.fb)(String(e));case s.L.RESOURCE_URL:if(Object(s.gb)(e,"ResourceURL"))return Object(s.zb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(s.hb)(t)}bypassSecurityTrustStyle(t){return Object(s.kb)(t)}bypassSecurityTrustScript(t){return Object(s.jb)(t)}bypassSecurityTrustUrl(t){return Object(s.lb)(t)}bypassSecurityTrustResourceUrl(t){return Object(s.ib)(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(c))},t.\u0275prov=Object(s.Kb)({factory:function(){return t=Object(s.Yb)(s.p),new wt(t.get(c));var t},token:t,providedIn:"root"}),t})();const Ot=[{provide:s.F,useValue:"browser"},{provide:s.G,useValue:function(){X.makeCurrent(),tt.init()},multi:!0},{provide:c,useFactory:function(){return Object(s.xb)(document),document},deps:[]}],St=Object(s.V)(s.Z,"browser",Ot),Et=[[],{provide:s.cb,useValue:"root"},{provide:s.n,useFactory:function(){return new s.n},deps:[]},{provide:et,useClass:pt,multi:!0,deps:[c,s.D,s.F]},{provide:et,useClass:bt,multi:!0,deps:[c]},[],{provide:lt,useClass:lt,deps:[nt,st,s.c]},{provide:s.I,useExisting:lt},{provide:it,useExisting:st},{provide:st,useClass:st,deps:[c]},{provide:s.P,useClass:s.P,deps:[s.D]},{provide:nt,useClass:nt,deps:[et,s.D]},[]];let Ct=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:s.c,useValue:e.appId},{provide:J,useExisting:s.c},Z]}}}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)(s.Yb(t,12))},providers:Et,imports:[H,s.f]}),t})();"undefined"!=typeof window&&window,n("yLV6");var Tt,xt,kt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Tt=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return Tt.apply(n,t)}},t.id="FunctionToString",t}(),It=n("SOwp"),Pt=n("9AQC"),At=n("kdvv");!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(xt||(xt={}));var jt,Mt=function(){function t(t){var e=this;this._state=xt.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(xt.RESOLVED,t)},this._reject=function(t){e._setResult(xt.REJECTED,t)},this._setResult=function(t,n){e._state===xt.PENDING&&(Object(Pt.m)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==xt.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach(function(t){t.done||(e._state===xt.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===xt.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)})}};try{t(this._resolve,this._reject)}catch(zO){this._reject(zO)}}return t.resolve=function(e){return new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.all=function(e){return new t(function(n,r){if(Array.isArray(e))if(0!==e.length){var i=e.length,s=[];e.forEach(function(e,o){t.resolve(e).then(function(t){s[o]=t,0==(i-=1)&&n(s)}).then(null,r)})}else n([]);else r(new TypeError("Promise.all requires an array as input."))})},t.prototype.then=function(e,n){var r=this;return new t(function(t,i){r._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(zO){return void i(zO)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(zO){return void i(zO)}else i(e)}})})},t.prototype.catch=function(t){return this.then(function(t){return t},t)},t.prototype.finally=function(e){var n=this;return new t(function(t,r){var i,s;return n.then(function(t){s=!1,i=t,e&&e()},function(t){s=!0,i=t,e&&e()}).then(function(){s?r(i):t(i)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),Dt=n("9/Zf"),Nt=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=Object(It.f)(e._breadcrumbs),n._tags=Object(It.a)({},e._tags),n._extra=Object(It.a)({},e._extra),n._contexts=Object(It.a)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=Object(It.f)(e._eventProcessors)),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(t){return this._tags=Object(It.a)(Object(It.a)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=Object(It.a)(Object(It.a)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=Object(It.a)(Object(It.a)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=Object(It.a)(Object(It.a)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=Object(It.a)(Object(It.a)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,r,i=this.getSpan();return(null===(t=i)||void 0===t?void 0:t.transaction)?null===(e=i)||void 0===e?void 0:e.transaction:(null===(r=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=Object(It.a)(Object(It.a)({},this._tags),e._tags),this._extra=Object(It.a)(Object(It.a)({},this._extra),e._extra),this._contexts=Object(It.a)(Object(It.a)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):Object(Pt.h)(e)&&(e=e,this._tags=Object(It.a)(Object(It.a)({},this._tags),e.tags),this._extra=Object(It.a)(Object(It.a)({},this._extra),e.extra),this._contexts=Object(It.a)(Object(It.a)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=Object(It.a)({timestamp:Object(At.b)()},t);return this._breadcrumbs=void 0!==e&&e>=0?Object(It.f)(this._breadcrumbs,[n]).slice(-e):Object(It.f)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=Object(It.a)(Object(It.a)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Object(It.a)(Object(It.a)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Object(It.a)(Object(It.a)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Object(It.a)(Object(It.a)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=Object(It.a)({trace:this._span.getTraceContext()},t.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(t.tags=Object(It.a)({transaction:r},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=Object(It.f)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Object(It.f)(Rt(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,r){var i=this;return void 0===r&&(r=0),new Mt(function(s,o){var a=t[r];if(null===e||"function"!=typeof a)s(e);else{var c=a(Object(It.a)({},e),n);Object(Pt.m)(c)?c.then(function(e){return i._notifyEventProcessors(t,e,n,r+1).then(s)}).then(null,o):i._notifyEventProcessors(t,c,n,r+1).then(s).then(null,o)}})},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(e){e(t)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function Rt(){var t=Object(Dt.e)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function Lt(t){Rt().push(t)}!function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(jt||(jt={}));var Ft=n("8LbN"),Ut=n("+A1k"),Vt=n("6PXS"),Bt=function(){function t(t){this.errors=0,this.sid=Object(Dt.j)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=jt.Ok,this.init=!0,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:Object(Dt.j)()),void 0!==t.init&&(this.init=t.init),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),this.duration="number"==typeof t.duration?t.duration:this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===jt.Ok?this.update({status:jt.Exited}):this.update()},t.prototype.toJSON=function(){return Object(Vt.a)({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(Vt.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),zt=function(){function t(t,e,n){void 0===e&&(e=new Nt),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=Nt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Object(Dt.j)(),r=e;if(!e){var i=void 0;try{throw new Error("Sentry syntheticException")}catch(t){i=t}r={originalException:t,syntheticException:i}}return this._invokeClient("captureException",t,Object(It.a)(Object(It.a)({},r),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=Object(Dt.j)(),i=n;if(!n){var s=void 0;try{throw new Error(t)}catch(o){s=o}i={originalException:t,syntheticException:s}}return this._invokeClient("captureMessage",t,e,Object(It.a)(Object(It.a)({},i),{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Object(Dt.j)();return this._invokeClient("captureEvent",t,Object(It.a)(Object(It.a)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),r=n.scope,i=n.client;if(r&&i){var s=i.getOptions&&i.getOptions()||{},o=s.beforeBreadcrumb,a=void 0===o?null:o,c=s.maxBreadcrumbs,u=void 0===c?100:c;if(!(u<=0)){var l=Object(At.b)(),h=Object(It.a)({timestamp:l},t),d=a?Object(Dt.c)(function(){return a(h,e)}):h;null!==d&&r.addBreadcrumb(d,Math.min(u,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope;n&&e.client&&t(n)},t.prototype.run=function(t){var e=qt(this);try{t(this)}finally{qt(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(n){return Ft.a.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t,e,n,r,i;null===(n=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(i=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===i||i.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,r=e.client,i=r&&r.getOptions()||{},s=i.release,o=i.environment,a=new Bt(Object(It.a)(Object(It.a)({release:s,environment:o},n&&{user:n.getUser()}),t));if(n){var c=n.getSession&&n.getSession();c&&c.status===jt.Ok&&c.update({status:jt.Exited}),this.endSession(),n.setSession(a)}return a},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.getStackTop(),s=i.scope,o=i.client;o&&o[t]&&(e=o)[t].apply(e,Object(It.f)(n,[s]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Ht(),i=r.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[t])return i.extensions[t].apply(this,e);Ft.a.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function Ht(){var t=Object(Dt.e)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function qt(t){var e=Ht(),n=$t(e);return Gt(e,t),n}function Wt(){var t=Ht();return Yt(t)&&!$t(t).isOlderThan(3)||Gt(t,new zt),Object(Ut.b)()?function(t){var e,n,r;try{var i=null===(r=null===(n=null===(e=Ht().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;if(!i)return $t(t);if(!Yt(i)||$t(i).isOlderThan(3)){var s=$t(t).getStackTop();Gt(i,new zt(s.client,Nt.clone(s.scope)))}return $t(i)}catch(o){return $t(t)}}(t):$t(t)}function Yt(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function $t(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new zt),t.__SENTRY__.hub}function Gt(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}var Xt=n("+924"),Kt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Qt=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Lt(function(e){var n=Wt();if(!n)return e;var r=n.getIntegration(t);if(r){var i=n.getClient(),s=i?i.getOptions():{},o=r._mergeOptions(s);if(r._shouldDropEvent(e,o))return null}return e})},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(Ft.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(Dt.d)(t)),!0):this._isIgnoredError(t,e)?(Ft.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(Dt.d)(t)),!0):this._isDeniedUrl(t,e)?(Ft.a.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(Dt.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(Ft.a.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(Dt.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(n){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some(function(t){return e.ignoreErrors.some(function(e){return Object(Xt.a)(t,e)})})},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some(function(t){return Object(Xt.a)(n,t)})},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some(function(t){return Object(Xt.a)(n,t)})},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:Object(It.f)(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:Object(It.f)(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:Object(It.f)(this._options.ignoreErrors||[],t.ignoreErrors||[],Kt),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=e.value,i=void 0===r?"":r;return[""+i,(void 0===n?"":n)+": "+i]}catch(s){return Ft.a.error("Cannot extract message for event "+Object(Dt.d)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(r){return Ft.a.error("Cannot extract url for event "+Object(Dt.d)(t)),null}},t.id="InboundFilters",t}(),Jt=n("pRiV");function Zt(){if(!("fetch"in Object(Dt.e)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(zO){return!1}}function te(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function ee(){if(!Zt())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(zO){return!1}}var ne,re,ie,se=Object(Dt.e)(),oe={},ae={};function ce(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(oe[t.type]=oe[t.type]||[],oe[t.type].push(t.callback),function(t){if(!ae[t])switch(ae[t]=!0,t){case"console":"console"in se&&["debug","info","warn","error","log","assert"].forEach(function(t){t in se.console&&Object(Vt.c)(se.console,t,function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];ue("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,se.console,n)}})});break;case"dom":!function(){if("document"in se){var t=ue.bind(null,"dom"),e=de(t,!0);se.document.addEventListener("click",e,!1),se.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(e){var n=se[e]&&se[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(Vt.c)(n,"addEventListener",function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var s=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=s[n]=s[n]||{refCount:0};if(!o.handler){var a=de(t);o.handler=a,e.call(this,n,a,i)}o.refCount+=1}catch(zO){}return e.call(this,n,r,i)}}),Object(Vt.c)(n,"removeEventListener",function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var i=this.__sentry_instrumentation_handlers__||{},s=i[e];s&&(s.refCount-=1,s.refCount<=0&&(t.call(this,e,s.handler,r),s.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(zO){}return t.call(this,e,n,r)}}))})}}();break;case"xhr":!function(){if("XMLHttpRequest"in se){var t=[],e=[],n=XMLHttpRequest.prototype;Object(Vt.c)(n,"open",function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=this,o=r[1];s.__sentry_xhr__={method:Object(Pt.k)(r[0])?r[0].toUpperCase():r[0],url:r[1]},Object(Pt.k)(o)&&"POST"===s.__sentry_xhr__.method&&o.match(/sentry_key/)&&(s.__sentry_own_request__=!0);var a=function(){if(4===s.readyState){try{s.__sentry_xhr__&&(s.__sentry_xhr__.status_code=s.status)}catch(zO){}try{var n=t.indexOf(s);if(-1!==n){t.splice(n);var i=e.splice(n)[0];s.__sentry_xhr__&&void 0!==i[0]&&(s.__sentry_xhr__.body=i[0])}}catch(zO){}ue("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:s})}};return"onreadystatechange"in s&&"function"==typeof s.onreadystatechange?Object(Vt.c)(s,"onreadystatechange",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(s,e)}}):s.addEventListener("readystatechange",a),n.apply(s,r)}}),Object(Vt.c)(n,"send",function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t.push(this),e.push(r),ue("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}})}}();break;case"fetch":(function(){if(!Zt())return!1;var t=Object(Dt.e)();if(te(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=te(r.contentWindow.fetch)),n.head.removeChild(r)}catch(i){Ft.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e})()&&Object(Vt.c)(se,"fetch",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:le(e),url:he(e)},startTimestamp:Date.now()};return ue("fetch",Object(It.a)({},r)),t.apply(se,e).then(function(t){return ue("fetch",Object(It.a)(Object(It.a)({},r),{endTimestamp:Date.now(),response:t})),t},function(t){throw ue("fetch",Object(It.a)(Object(It.a)({},r),{endTimestamp:Date.now(),error:t})),t})}});break;case"history":!function(){if(function(){var t=Object(Dt.e)(),e=t.chrome;return!(e&&e.app&&e.app.runtime||!("history"in t)||!t.history.pushState||!t.history.replaceState)}()){var t=se.onpopstate;se.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=se.location.href,i=ne;if(ne=r,ue("history",{from:i,to:r}),t)return t.apply(this,e)},Object(Vt.c)(se.history,"pushState",e),Object(Vt.c)(se.history,"replaceState",e)}function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var i=ne,s=String(r);ne=s,ue("history",{from:i,to:s})}return t.apply(this,e)}}}();break;case"error":pe=se.onerror,se.onerror=function(t,e,n,r,i){return ue("error",{column:r,error:i,line:n,msg:t,url:e}),!!pe&&pe.apply(this,arguments)};break;case"unhandledrejection":ge=se.onunhandledrejection,se.onunhandledrejection=function(t){return ue("unhandledrejection",t),!ge||ge.apply(this,arguments)};break;default:Ft.a.warn("unknown instrumentation type:",t)}}(t.type))}function ue(t,e){var n,r;if(t&&oe[t])try{for(var i=Object(It.g)(oe[t]||[]),s=i.next();!s.done;s=i.next()){var o=s.value;try{o(e)}catch(zO){Ft.a.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(Jt.a)(o)+"\nError: "+zO)}}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function le(t){return void 0===t&&(t=[]),"Request"in se&&Object(Pt.g)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function he(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in se&&Object(Pt.g)(t[0],Request)?t[0].url:String(t[0])}function de(t,e){return void 0===e&&(e=!1),function(n){if(n&&ie!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(zO){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===re||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(zO){}return!1}(ie,n))&&(t({event:n,name:r,global:e}),ie=n),clearTimeout(re),re=se.setTimeout(function(){re=void 0},1e3)}}}var fe,pe=null,ge=null,me=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}),ye=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,me(r,n.prototype),r}return Object(It.c)(e,t),e}(Error),ve=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,be=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.path,r=e.pass,i=e.port;return e.protocol+"://"+e.publicKey+(t&&r?":"+r:"")+"@"+e.host+(i?":"+i:"")+"/"+(n?n+"/":n)+e.projectId},t.prototype._fromString=function(t){var e=ve.exec(t);if(!e)throw new ye("Invalid Dsn");var n=Object(It.d)(e.slice(1),6),r=n[0],i=n[1],s=n[2],o=void 0===s?"":s,a=n[3],c=n[4],u=void 0===c?"":c,l="",h=n[5],d=h.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),h=d.pop()),h){var f=h.match(/^\d+/);f&&(h=f[0])}this._fromComponents({host:a,pass:o,path:l,projectId:h,port:u,protocol:r,publicKey:i})},t.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach(function(e){if(!t[e])throw new ye("Invalid Dsn: "+e+" missing")}),!this.projectId.match(/^\d+$/))throw new ye("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new ye("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new ye("Invalid Dsn: Invalid port "+this.port)},t}(),_e=[],we=function(){function t(t,e){this._integrations={},this._processing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new be(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this,i=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then(function(t){return r._captureEvent(t,e,n)}).then(function(t){i=t})),i},t.prototype.captureMessage=function(t,e,n,r){var i=this,s=n&&n.event_id,o=Object(Pt.i)(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(o.then(function(t){return i._captureEvent(t,n,r)}).then(function(t){s=t})),s},t.prototype.captureEvent=function(t,e,n){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then(function(t){r=t})),r},t.prototype.captureSession=function(t){t.release?(this._sendSession(t),t.update({init:!1})):Ft.a.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then(function(n){return e._getBackend().getTransport().close(t).then(function(t){return n&&t})})},t.prototype.close=function(t){var e=this;return this.flush(t).then(function(t){return e.getOptions().enabled=!1,t})},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=function(t){var e={};return function(t){var e=t.defaultIntegrations&&Object(It.f)(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var i=n.map(function(t){return t.name}),s=[];e.forEach(function(t){-1===i.indexOf(t.name)&&-1===s.indexOf(t.name)&&(r.push(t),s.push(t.name))}),n.forEach(function(t){-1===s.indexOf(t.name)&&(r.push(t),s.push(t.name))})}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=Object(It.f)(e);var o=r.map(function(t){return t.name});return-1!==o.indexOf("Debug")&&r.push.apply(r,Object(It.f)(r.splice(o.indexOf("Debug"),1))),r}(t).forEach(function(t){e[t.name]=t,function(t){-1===_e.indexOf(t.name)&&(t.setupOnce(Lt,Wt),_e.push(t.name),Ft.a.log("Integration installed: "+t.name))}(t)}),e}(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return Ft.a.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,i,s=!1,o=!1,a=e.exception&&e.exception.values;if(a){o=!0;try{for(var c=Object(It.g)(a),u=c.next();!u.done;u=c.next()){var l=u.value.mechanism;if(l&&!1===l.handled){s=!0;break}}}catch(p){n={error:p}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var h=e.user;if(!t.userAgent){var d=e.request?e.request.headers:{};for(var f in d)if("user-agent"===f.toLowerCase()){i=d[f];break}}t.update(Object(It.a)(Object(It.a)({},s&&{status:jt.Crashed}),{user:h,userAgent:i,errors:t.errors+Number(o||s)})),this.captureSession(t)},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientProcessing=function(t){var e=this;return new Mt(function(n){var r=0,i=setInterval(function(){0==e._processing?(clearInterval(i),n(!0)):(r+=1,t&&r>=t&&(clearInterval(i),n(!1)))},1)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,i=this.getOptions().normalizeDepth,s=void 0===i?3:i,o=Object(It.a)(Object(It.a)({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:Object(Dt.j)()),timestamp:t.timestamp||Object(At.b)()});this._applyClientOptions(o),this._applyIntegrationsMetadata(o);var a=e;n&&n.captureContext&&(a=Nt.clone(a).update(n.captureContext));var c=Mt.resolve(o);return a&&(c=a.applyToEvent(o,n)),c.then(function(t){return"number"==typeof s&&s>0?r._normalizeEvent(t,s):t})},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=Object(It.a)(Object(It.a)(Object(It.a)(Object(It.a)(Object(It.a)({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(t){return Object(It.a)(Object(It.a)({},t),t.data&&{data:Object(Vt.d)(t.data,e)})})}),t.user&&{user:Object(Vt.d)(t.user,e)}),t.contexts&&{contexts:Object(Vt.d)(t.contexts,e)}),t.extra&&{extra:Object(Vt.d)(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.release,r=e.dist,i=e.maxValueLength,s=void 0===i?250:i;"environment"in t||(t.environment="environment"in e?e.environment:"production"),void 0===t.release&&void 0!==n&&(t.release=n),void 0===t.dist&&void 0!==r&&(t.dist=r),t.message&&(t.message=Object(Xt.d)(t.message,s));var o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=Object(Xt.d)(o.value,s));var a=t.request;a&&a.url&&(a.url=Object(Xt.d)(a.url,s))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then(function(t){return t.event_id},function(t){Ft.a.error(t)})},t.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),s=i.beforeSend,o=i.sampleRate;if(!this._isEnabled())return Mt.reject(new ye("SDK not enabled, will not send event."));var a="transaction"===t.type;return!a&&"number"==typeof o&&Math.random()>o?Mt.reject(new ye("Discarding event because it's not included in the random sample (sampling rate = "+o+")")):this._prepareEvent(t,n,e).then(function(t){if(null===t)throw new ye("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||a||!s)return t;var n=s(t,e);if(void 0===n)throw new ye("`beforeSend` method has to return `null` or a valid event.");return Object(Pt.m)(n)?n.then(function(t){return t},function(t){throw new ye("beforeSend rejected with "+t)}):n}).then(function(t){if(null===t)throw new ye("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!a&&e&&r._updateSessionFromEvent(e,t),r._sendEvent(t),t}).then(null,function(t){if(t instanceof ye)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new ye("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)})},t.prototype._process=function(t){var e=this;this._processing+=1,t.then(function(t){return e._processing-=1,t},function(t){return e._processing-=1,t})},t}();!function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(fe||(fe={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(fe||(fe={}));var Oe,Se=function(){function t(){}return t.prototype.sendEvent=function(t){return Mt.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:fe.Skipped})},t.prototype.close=function(t){return Mt.resolve(!0)},t}(),Ee=function(){function t(t){this._options=t,this._options.dsn||Ft.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new ye("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new ye("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(t){Ft.a.error("Error while sending event: "+t)})},t.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,function(t){Ft.a.error("Error while sending session: "+t)}):Ft.a.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new Se},t}();!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(Oe||(Oe={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(Oe||(Oe={}));var Ce=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Te=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,xe=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ke=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ie=/\((\S*)(?::(\d+))(?::(\d+))\)/,Pe=/Minified React error #\d+;/i;function Ae(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:Pe.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.stacktrace.split("\n"),s=[],o=0;o<i.length;o+=2){var a=null;(e=n.exec(i[o]))?a={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=r.exec(i[o]))&&(a={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),a&&(!a.func&&a.line&&(a.func="?"),s.push(a))}return s.length?{message:Me(t),name:t.name,stack:s}:null}(t))return je(e,n)}catch(zO){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,i=[],s=t.stack.split("\n"),o=0;o<s.length;++o){if(n=Ce.exec(s[o])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=Ie.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||"?",args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=xe.exec(s[o]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Te.exec(s[o])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=ke.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==o||n[5]||void 0===t.columnNumber||(i[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func="?"),i.push(r)}return i.length?{message:Me(t),name:t.name,stack:i}:null}(t))return je(e,n)}catch(zO){}return{message:Me(t),name:t&&t.name,stack:[],failed:!0}}function je(t,e){try{return Object(It.a)(Object(It.a)({},t),{stack:t.stack.slice(e)})}catch(zO){return t}}function Me(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function De(t){var e=Re(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Ne(t){return{exception:{values:[De(t)]}}}function Re(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map(function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}}).reverse()}function Le(t,e,n){var r;if(void 0===n&&(n={}),Object(Pt.e)(t)&&t.error)return Ne(Ae(t=t.error));if(Object(Pt.a)(t)||Object(Pt.b)(t)){var i=t,s=i.name||(Object(Pt.a)(i)?"DOMError":"DOMException"),o=i.message?s+": "+i.message:s;return r=Fe(o,e,n),Object(Dt.b)(r,o),"code"in i&&(r.tags=Object(It.a)(Object(It.a)({},r.tags),{"DOMException.code":""+i.code})),r}return Object(Pt.d)(t)?r=Ne(Ae(t)):Object(Pt.h)(t)||Object(Pt.f)(t)?(r=function(t,e,n){var r={exception:{values:[{type:Object(Pt.f)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(Vt.b)(t)}]},extra:{__serialized__:Object(Vt.e)(t)}};if(e){var i=Re(Ae(e).stack);r.stacktrace={frames:i}}return r}(t,e,n.rejection),Object(Dt.a)(r,{synthetic:!0}),r):(r=Fe(t,e,n),Object(Dt.b)(r,""+t,void 0),Object(Dt.a)(r,{synthetic:!0}),r)}function Fe(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var i=Re(Ae(e).stack);r.stacktrace={frames:i}}return r}function Ue(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function Ve(t,e){return e?(t.sdk=t.sdk||{name:e.name,version:e.version},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=Object(It.f)(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=Object(It.f)(t.sdk.packages||[],e.packages||[]),t):t}function Be(t,e){var n=Ue(e);return{body:JSON.stringify(Object(It.a)({sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function ze(t,e){var n=Ue(e),r=t.type||"event",i="transaction"===r,s=t.debug_meta||{},o=s.transactionSampling,a=Object(It.e)(s,["transactionSampling"]),c=o||{},u=c.method,l=c.rate;0===Object.keys(a).length?delete t.debug_meta:t.debug_meta=a;var h={body:JSON.stringify(n?Ve(t,e.metadata.sdk):t),type:r,url:i?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(i){var d=JSON.stringify(Object(It.a)({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n})),f=JSON.stringify({type:t.type,sample_rates:[{id:u,rate:l}]});h.body=d+"\n"+f+"\n"+h.body}return h}var He=function(){function t(t,e){void 0===e&&(e={}),this.dsn=t,this._dsnObject=new be(t),this.metadata=e}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject;return(t.protocol?t.protocol+":":"")+"//"+t.host+(t.port?":"+t.port:"")+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+e.toString()),t)if("dsn"!==i)if("user"===i){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return r.length?n+"?"+r.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype._encodedAuth=function(){var t={sentry_key:this._dsnObject.publicKey,sentry_version:"7"};return Object(Vt.f)(t)},t}(),qe=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then(function(){return e.remove(t)}).then(null,function(){return e.remove(t).then(null,function(){})}),t):Mt.reject(new ye("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new Mt(function(n){var r=setTimeout(function(){t&&t>0&&n(!1)},t);Mt.all(e._buffer).then(function(){clearTimeout(r),n(!0)}).then(null,function(){n(!0)})})},t}(),We=function(){function t(t){this.options=t,this._buffer=new qe(30),this._rateLimits={},this._api=new He(t.dsn,t._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new ye("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,i=t.resolve,s=t.reject,o=fe.fromHttpCode(n.status);this._handleRateLimit(r)&&Ft.a.warn("Too many requests, backing off until: "+this._disabledUntil(e)),o!==fe.Success?s(n):i({status:o})},t.prototype._disabledUntil=function(t){return this._rateLimits[t]||this._rateLimits.all},t.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},t.prototype._handleRateLimit=function(t){var e,n,r,i,s=Date.now(),o=t["x-sentry-rate-limits"],a=t["retry-after"];if(o){try{for(var c=Object(It.g)(o.trim().split(",")),u=c.next();!u.done;u=c.next()){var l=u.value.split(":",2),h=parseInt(l[0],10),d=1e3*(isNaN(h)?60:h);try{for(var f=(r=void 0,Object(It.g)(l[1].split(";"))),p=f.next();!p.done;p=f.next())this._rateLimits[p.value||"all"]=new Date(s+d)}catch(g){r={error:g}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}}catch(m){e={error:m}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return!0}return!!a&&(this._rateLimits.all=new Date(s+Object(Dt.g)(s,a)),!0)},t}(),Ye=Object(Dt.e)(),$e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(It.c)(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(ze(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(Be(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:ee()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new Mt(function(e,i){Ye.fetch(t.url,r).then(function(r){var s={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:s,resolve:e,reject:i})}).catch(i)}))},e}(We),Ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(It.c)(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(ze(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(Be(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429}):this._buffer.add(new Mt(function(e,r){var i=new XMLHttpRequest;for(var s in i.onreadystatechange=function(){if(4===i.readyState){var s={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:i,headers:s,resolve:e,reject:r})}},i.open("POST",t.url),n.options.headers)n.options.headers.hasOwnProperty(s)&&i.setRequestHeader(s,n.options.headers[s]);i.send(t.body)}))},e}(We),Xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(It.c)(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=Le(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return Object(Dt.a)(r,{handled:!0,type:"generic"}),r.level=Oe.Error,n&&n.event_id&&(r.event_id=n.event_id),Mt.resolve(r)}(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=Oe.Info),function(t,e,n,r){void 0===n&&(n=Oe.Info);var i=Fe(e,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),Mt.resolve(i)}(this._options,t,e,n)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=Object(It.a)(Object(It.a)({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(e):Zt()?new $e(e):new Ge(e)},e}(Ee);function Ke(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Wt();if(r&&r[t])return r[t].apply(r,Object(It.f)(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function Qe(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return Ke("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function Je(t){Ke("withScope",t)}var Ze=0;function tn(){return Ze>0}function en(){Ze+=1,setTimeout(function(){Ze-=1})}function nn(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(zO){return t}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map(function(t){return nn(t,e)});return t.handleEvent?t.handleEvent.apply(this,i):t.apply(this,i)}catch(s){throw en(),Je(function(t){t.addEventProcessor(function(t){var n=Object(It.a)({},t);return e.mechanism&&(Object(Dt.b)(n,void 0,void 0),Object(Dt.a)(n,e.mechanism)),n.extra=Object(It.a)(Object(It.a)({},n.extra),{arguments:r}),n}),Qe(s)}),s}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch(s){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(s){}return r}var rn=n("vFt6"),sn=function(){function t(e){this.name=t.id,this._options=Object(It.a)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&Wt().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Object(Dt.d)(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this._options.console&&ce({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,Object(It.f)(e))},type:"console"}),this._options.dom&&ce({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,Object(It.f)(e))},type:"dom"}),this._options.xhr&&ce({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,Object(It.f)(e))},type:"xhr"}),this._options.fetch&&ce({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,Object(It.f)(e))},type:"fetch"}),this._options.history&&ce({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,Object(It.f)(e))},type:"history"})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:Oe.fromString(t.level),message:Object(Xt.b)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(Object(Xt.b)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}Wt().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?Object(rn.a)(t.event.target):Object(rn.a)(t.event)}catch(zO){e="<unknown>"}0!==e.length&&Wt().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name,global:t.global})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,i=e.status_code,s=e.body;Wt().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:t.xhr,input:s})}},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?Wt().addBreadcrumb({category:"fetch",data:t.fetchData,level:Oe.Error,type:"http"},{data:t.error,input:t.args}):Wt().addBreadcrumb({category:"fetch",data:Object(It.a)(Object(It.a)({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=Object(Dt.e)(),n=t.from,r=t.to,i=Object(Dt.h)(e.location.href),s=Object(Dt.h)(n),o=Object(Dt.h)(r);s.path||(s=i),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),Wt().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},t.id="Breadcrumbs",t}(),on=function(t){function e(e){return void 0===e&&(e={}),e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:"6.2.1"}],version:"6.2.1"},t.call(this,Xe,e)||this}return Object(It.c)(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),Object(Dt.e)().document&&(this._isEnabled()?function(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new He(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else Ft.a.error("Missing dsn option in showReportDialog call");else Ft.a.error("Missing eventId option in showReportDialog call")}(Object(It.a)(Object(It.a)({},t),{dsn:t.dsn||this.getDsn()})):Ft.a.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(sn);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(we),an=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],cn=function(){function t(e){this.name=t.id,this._options=Object(It.a)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=Object(Dt.e)();this._options.setTimeout&&Object(Vt.c)(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(Vt.c)(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(Vt.c)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&Object(Vt.c)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:an).forEach(this._wrapEventTarget.bind(this))},t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=nn(r,{mechanism:{data:{function:Object(Jt.a)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,nn(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(Jt.a)(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Object(Dt.e)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(Vt.c)(n,"addEventListener",function(e){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=nn(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Object(Jt.a)(r),target:t},handled:!0,type:"instrument"}}))}catch(s){}return e.call(this,n,nn(r,{mechanism:{data:{function:"addEventListener",handler:Object(Jt.a)(r),target:t},handled:!0,type:"instrument"}}),i)}}),Object(Vt.c)(n,"removeEventListener",function(t){return function(e,n,r){var i,s=n;try{var o=null===(i=s)||void 0===i?void 0:i.__sentry_wrapped__;o&&t.call(this,e,o,r)}catch(zO){}return t.call(this,e,s,r)}}))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach(function(t){t in r&&"function"==typeof r[t]&&Object(Vt.c)(r,t,function(e){var n={mechanism:{data:{function:t,handler:Object(Jt.a)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=Object(Jt.a)(e.__sentry_original__)),nn(e,n)})}),t.apply(this,e)}},t.id="TryCatch",t}(),un=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Object(It.a)({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(Ft.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(Ft.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(ce({callback:function(n){var r=n.error,i=Wt(),s=i.getIntegration(t),o=r&&!0===r.__sentry_own_request__;if(s&&!tn()&&!o){var a=i.getClient(),c=Object(Pt.i)(r)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(Le(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Object(Dt.a)(c,{handled:!1,type:"onerror"}),i.captureEvent(c,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(ce({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(u){}var i=Wt(),s=i.getIntegration(t),o=r&&!0===r.__sentry_own_request__;if(!s||tn()||o)return!0;var a=i.getClient(),c=Object(Pt.i)(r)?e._eventFromRejectionWithPrimitive(r):Le(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!0});c.level=Oe.Error,Object(Dt.a)(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var i,s=Object(Pt.e)(t)?t.message:t;if(Object(Pt.k)(s)){var o=s.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);o&&(i=o[1],s=o[2])}return this._enhanceEventWithInitialFrame({exception:{values:[{type:i||"Error",value:s}]}},e,n,r)},t.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,s=isNaN(parseInt(n,10))?void 0:n,o=Object(Pt.k)(e)&&e.length>0?e:Object(Dt.f)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:i,filename:o,function:"?",in_app:!0,lineno:s}),t},t.id="GlobalHandlers",t}(),ln=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){Lt(function(e,n){var r=Wt().getIntegration(t);return r?r._handler(e,n):e})},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&Object(Pt.g)(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=Object(It.f)(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!Object(Pt.g)(t[e],Error)||n.length+1>=this._limit)return n;var r=De(Ae(t[e]));return this._walkErrorTree(t[e],e,Object(It.f)([r],n))},t.id="LinkedErrors",t}(),hn=Object(Dt.e)(),dn=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Lt(function(e){var n,r,i;if(Wt().getIntegration(t)){if(!hn.navigator&&!hn.location&&!hn.document)return e;var s=(null===(n=e.request)||void 0===n?void 0:n.url)||(null===(r=hn.location)||void 0===r?void 0:r.href),o=(hn.document||{}).referrer,a=(hn.navigator||{}).userAgent,c=Object(It.a)(Object(It.a)(Object(It.a)({},null===(i=e.request)||void 0===i?void 0:i.headers),o&&{Referer:o}),a&&{"User-Agent":a}),u=Object(It.a)(Object(It.a)({},s&&{url:s}),{headers:c});return Object(It.a)(Object(It.a)({},e),{request:u})}return e})},t.id="UserAgent",t}(),fn=[new r.InboundFilters,new r.FunctionToString,new cn,new sn,new un,new ln,new dn],pn=n("Cfvw"),gn=n("LRne"),mn=n("XNiG"),yn=n("9ppp");class vn extends mn.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new yn.a;return this._value}next(t){super.next(this._value=t)}}var bn=n("z+Ro"),_n=n("DH7j"),wn=n("7o/Q");class On extends wn.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Sn extends wn.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var En=n("SeVD"),Cn=n("HDdC");function Tn(t,e,n,r,i=new Sn(t,n,r)){if(!i.closed)return e instanceof Cn.a?e.subscribe(i):Object(En.a)(e)(i)}var xn=n("yCtX");const kn={};class In{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Pn(t,this.resultSelector))}}class Pn extends On{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(kn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Tn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===kn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const An=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var jn=n("bHdf");function Mn(...t){return Object(jn.a)(1)(Object(gn.a)(...t))}var Dn=n("EY2u");function Nn(t){return new Cn.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(pn.a)(n):Object(Dn.b)()).subscribe(e)})}var Rn=n("EQ5u"),Ln=n("lJxs"),Fn=n("zx2A");function Un(t,e){return"function"==typeof e?n=>n.pipe(Un((n,r)=>Object(pn.a)(t(n,r)).pipe(Object(Ln.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Vn(t))}class Vn{constructor(t){this.project=t}call(t,e){return e.subscribe(new Bn(t,this.project))}}class Bn extends Fn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Fn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Fn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const zn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Hn(t){return e=>0===t?Object(Dn.b)():e.lift(new qn(t))}class qn{constructor(t){if(this.total=t,this.total<0)throw new zn}call(t,e){return e.subscribe(new Wn(t,this.total))}}class Wn extends wn.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Yn(...t){const e=t[t.length-1];return Object(bn.a)(e)?(t.pop(),n=>Mn(t,n,e)):e=>Mn(t,e)}function $n(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Gn(t,e,n))}}class Gn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Xn(t,this.accumulator,this.seed,this.hasSeed))}}class Xn extends wn.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Kn(t,e){return function(n){return n.lift(new Qn(t,e))}}class Qn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Jn(t,this.predicate,this.thisArg))}}class Jn extends wn.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Zn(t){return function(e){const n=new tr(t),r=e.lift(n);return n.caught=r}}class tr{constructor(t){this.selector=t}call(t,e){return e.subscribe(new er(t,this.selector,this.caught))}}class er extends Fn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Fn.a(this);this.add(r);const i=Object(Fn.c)(n,r);i!==r&&this.add(i)}}}var nr=n("5+tZ");function rr(t,e){return Object(nr.a)(t,e,1)}function ir(t){return function(e){return 0===t?Object(Dn.b)():e.lift(new sr(t))}}class sr{constructor(t){if(this.total=t,this.total<0)throw new zn}call(t,e){return e.subscribe(new or(t,this.total))}}class or extends wn.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ar(t=lr){return e=>e.lift(new cr(t))}class cr{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ur(t,this.errorFactory))}}class ur extends wn.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(zO){t=zO}this.destination.error(t)}}}function lr(){return new An}function hr(t=null){return e=>e.lift(new dr(t))}class dr{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new fr(t,this.defaultValue))}}class fr extends wn.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var pr=n("SpAZ");function gr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kn((e,n)=>t(e,n,r)):pr.a,Hn(1),n?hr(e):ar(()=>new An))}var mr=n("vkgz"),yr=n("x+ZX"),vr=n("quSY");class br{constructor(t){this.callback=t}call(t,e){return e.subscribe(new _r(t,this.callback))}}class _r extends wn.a{constructor(t,e){super(t),this.add(new vr.a(e))}}class wr{constructor(t,e){this.id=t,this.url=e}}class Or extends wr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sr extends wr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Er extends wr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cr extends wr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tr extends wr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends wr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kr extends wr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ir extends wr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr extends wr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ur(t){return new Fr(t)}function Vr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Br(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function zr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Hr(t[i],e[i]))return!1;return!0}function Hr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function qr(t){return Array.prototype.concat.apply([],t)}function Wr(t){return t.length>0?t[t.length-1]:null}function Yr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function $r(t){return Object(s.tb)(t)?t:Object(s.ub)(t)?Object(pn.a)(Promise.resolve(t)):Object(gn.a)(t)}function Gr(t,e,n){return n?function(t,e){return zr(t,e)}(t.queryParams,e.queryParams)&&Xr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Hr(t[n],e[n]))}(t.queryParams,e.queryParams)&&Kr(t.root,e.root)}function Xr(t,e){if(!ei(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Xr(t.children[n],e.children[n]))return!1}return!0}function Kr(t,e){return Qr(t,e,e.segments)}function Qr(t,e,n){if(t.segments.length>n.length)return!!ei(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!ei(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Kr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!ei(t.segments,r)&&!!t.children.primary&&Qr(t.children.primary,e,i)}}class Jr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ur(this.queryParams)),this._queryParamMap}toString(){return ii.serialize(this)}}class Zr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Yr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return si(this)}}class ti{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ur(this.parameters)),this._parameterMap}toString(){return di(this)}}function ei(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class ni{}class ri{parse(t){const e=new yi(t);return new Jr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${oi(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ci(e)}=${ci(t)}`).join("&"):`${ci(e)}=${ci(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const ii=new ri;function si(t){return t.segments.map(t=>di(t)).join("/")}function oi(t,e){if(!t.hasChildren())return si(t);if(e){const e=t.children.primary?oi(t.children.primary,!1):"",n=[];return Yr(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${oi(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Yr(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Yr(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>"primary"===n?[oi(t.children.primary,!1)]:[`${n}:${oi(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${si(t)}/${e[0]}`:`${si(t)}/(${e.join("//")})`}}function ai(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ci(t){return ai(t).replace(/%3B/gi,";")}function ui(t){return ai(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function li(t){return decodeURIComponent(t)}function hi(t){return li(t.replace(/\+/g,"%20"))}function di(t){return`${ui(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ui(t)}=${ui(e[t])}`).join("")}`;var e}const fi=/^[^\/()?;=#]+/;function pi(t){const e=t.match(fi);return e?e[0]:""}const gi=/^[^=?&#]+/,mi=/^[^?&#]+/;class yi{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zr([],{}):new Zr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Zr(t,e)),n}parseSegment(){const t=pi(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ti(li(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=pi(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=pi(this.remaining);t&&(n=t,this.capture(n))}t[li(e)]=li(n)}parseQueryParam(t){const e=function(t){const e=t.match(gi);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(mi);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=hi(e),i=hi(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=pi(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Zr([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class vi{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=bi(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=bi(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=_i(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return _i(t,this._root).map(t=>t.value)}}function bi(t,e){if(t===e.value)return e;for(const n of e.children){const e=bi(t,n);if(e)return e}return null}function _i(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_i(t,n);if(r.length)return r.unshift(e),r}return[]}class wi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Oi(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Si extends vi{constructor(t,e){super(t),this.snapshot=e,Ii(this,t)}toString(){return this.snapshot.toString()}}function Ei(t,e){const n=function(t,e){const n=new xi([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ki("",new wi(n,[]))}(t,e),r=new vn([new ti("",{})]),i=new vn({}),s=new vn({}),o=new vn({}),a=new vn(""),c=new Ci(r,i,o,a,s,"primary",e,n.root);return c.snapshot=n.root,new Si(new wi(c,[]),n)}class Ci{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ln.a)(t=>Ur(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ln.a)(t=>Ur(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ti(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class xi{constructor(t,e,n,r,i,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ur(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ur(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ki extends vi{constructor(t,e){super(e),this.url=t,Ii(this,e)}toString(){return Pi(this._root)}}function Ii(t,e){e.value._routerState=t,e.children.forEach(e=>Ii(t,e))}function Pi(t){const e=t.children.length>0?` { ${t.children.map(Pi).join(", ")} } `:"";return`${t.value}${e}`}function Ai(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,zr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),zr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!zr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),zr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ji(t,e){return zr(t.params,e.params)&&function(t,e){return ei(t,e)&&t.every((t,n)=>zr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ji(t.parent,e.parent))}function Mi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Mi(t,e,r);return Mi(t,e)})}(t,e,n);return new wi(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Di(e,t),t}{const n=new Ci(new vn((r=e.value).url),new vn(r.params),new vn(r.queryParams),new vn(r.fragment),new vn(r.data),r.outlet,r.component,r),i=e.children.map(e=>Mi(t,e));return new wi(n,i)}}var r}function Di(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Di(t.children[n],e.children[n])}function Ni(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ri(t){return"object"==typeof t&&null!=t&&t.outlets}function Li(t,e,n,r,i){let s={};return r&&Yr(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Jr(n.root===t?e:Fi(n.root,t,e),s,i)}function Fi(t,e,n){const r={};return Yr(t.children,(t,i)=>{r[i]=t===e?n:Fi(t,e,n)}),new Zr(t.segments,r)}class Ui{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ni(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ri);if(r&&r!==Wr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Bi(t,e,n){if(t||(t=new Zr([],{})),0===t.segments.length&&t.hasChildren())return zi(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Ri(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Yi(a,c,e))return s;r+=2}else{if(!Yi(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Zr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Zr(t.segments.slice(r.pathIndex),t.children),zi(e,0,i)}return r.match&&0===i.length?new Zr(t.segments,{}):r.match&&!t.hasChildren()?Hi(t,e,n):r.match?zi(t,0,i):Hi(t,e,n)}function zi(t,e,n){if(0===n.length)return new Zr(t.segments,{});{const r=function(t){return Ri(t[0])?t[0].outlets:{primary:t}}(n),i={};return Yr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Bi(t.children[r],e,n))}),Yr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Zr(t.segments,i)}}function Hi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ri(s)){const t=qi(s.outlets);return new Zr(r,t)}if(0===i&&Ni(n[0])){r.push(new ti(t.segments[e].path,Wi(n[0]))),i++;continue}const o=Ri(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ni(a)?(r.push(new ti(o,Wi(a))),i+=2):(r.push(new ti(o,{})),i++)}return new Zr(r,{})}function qi(t){const e={};return Yr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Hi(new Zr([],{}),0,t))}),e}function Wi(t){const e={};return Yr(t,(t,n)=>e[n]=`${t}`),e}function Yi(t,e,n){return t==n.path&&zr(e,n.parameters)}class $i{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ai(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Oi(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Yr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Oi(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Oi(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Rr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Dr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Ai(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Gi(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Gi(t){Ai(t.value),t.children.forEach(Gi)}class Xi{constructor(t,e){this.routes=t,this.module=e}}function Ki(t){return"function"==typeof t}function Qi(t){return t instanceof Jr}const Ji=Symbol("INITIAL_VALUE");function Zi(){return Un(t=>function(...t){let e,n;return Object(bn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(_n.a)(t[0])&&(t=t[0]),Object(xn.a)(t,n).lift(new In(e))}(t.map(t=>t.pipe(Hn(1),Yn(Ji)))).pipe($n((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ji)return t;if(r===Ji&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Qi(r))return r}return t},t)},Ji),Kn(t=>t!==Ji),Object(Ln.a)(t=>Qi(t)?t:!0===t),Hn(1)))}let ts=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Ib({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&s.Pb(0,"router-outlet")},directives:function(){return[Ws]},encapsulation:2}),t})();function es(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ns(r,rs(e,r))}}function ns(t,e){t.children&&es(t.children,e)}function rs(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function is(t){const e=t.children&&t.children.map(is),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=ts),n}function ss(t){return t.outlet||"primary"}function os(t,e){const n=t.filter(t=>ss(t)===e);return n.push(...t.filter(t=>ss(t)!==e)),n}const as={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function cs(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},as):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Br)(n,t,e);if(!i)return Object.assign({},as);const s={};Yr(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function us(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>ls(t,e,n)&&"primary"!==ss(n))}(t,n,r)){const i=new Zr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==ss(s)){const n=new Zr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ss(s)]=n}return i}(t,e,r,new Zr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ls(t,e,n))}(t,n,r)){const s=new Zr(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(ls(t,n,a)&&!i[ss(a)]){const n=new Zr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[ss(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Zr(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function ls(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function hs(t,e,n,r){return!!(ss(t)===r||"primary"!==r&&ls(e,n,t))&&("**"===t.path||cs(e,t,n).matched)}function ds(t,e,n){return 0===e.length&&!t.children[n]}class fs{constructor(t){this.segmentGroup=t||null}}class ps{constructor(t){this.urlTree=t}}function gs(t){return new Cn.a(e=>e.error(new fs(t)))}function ms(t){return new Cn.a(e=>e.error(new ps(t)))}function ys(t){return new Cn.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class vs{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(s.B)}apply(){const t=us(this.urlTree.root,[],[],this.config).segmentGroup,e=new Zr(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(Object(Ln.a)(t=>this.createUrlTree(bs(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zn(t=>{if(t instanceof ps)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof fs)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Ln.a)(e=>this.createUrlTree(bs(e),t.queryParams,t.fragment))).pipe(Zn(t=>{if(t instanceof fs)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Zr([],{primary:t}):t;return new Jr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ln.a)(t=>new Zr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(pn.a)(r).pipe(rr(r=>{const i=n.children[r],s=os(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(Ln.a)(t=>({segment:t,outlet:r})))}),$n((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kn((e,n)=>t(e,n,r)):pr.a,ir(1),n?hr(e):ar(()=>new An))}())}expandSegment(t,e,n,r,i,s){return Object(pn.a)(n).pipe(rr(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Zn(t=>{if(t instanceof fs)return Object(gn.a)(null);throw t}))),gr(t=>!!t),Zn((t,n)=>{if(t instanceof An||"EmptyError"===t.name){if(ds(e,r,i))return Object(gn.a)(new Zr([],{}));throw new fs(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return hs(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):gs(e):gs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ms(i):this.lineralizeSegments(n,i).pipe(Object(nr.a)(n=>{const i=new Zr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=cs(e,r,i);if(!o)return gs(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?ms(l):this.lineralizeSegments(r,l).pipe(Object(nr.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(gn.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Ln.a)(t=>(n._loadedConfig=t,new Zr(r,{})))):Object(gn.a)(new Zr(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=cs(e,n,r);if(!s)return gs(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(nr.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:u}=us(e,o,c,s),l=new Zr(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(Ln.a)(t=>new Zr(o,t)));if(0===s.length&&0===u.length)return Object(gn.a)(new Zr(o,{}));const h=ss(n)===i;return this.expandSegment(r,l,s,u,h?"primary":i,!0).pipe(Object(Ln.a)(t=>new Zr(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(gn.a)(new Xi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(gn.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(nr.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ln.a)(t=>(e._loadedConfig=t,t))):function(t){return new Cn.a(e=>e.error(Vr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(gn.a)(new Xi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(gn.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Ki(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Ki(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return $r(s)});return Object(gn.a)(i).pipe(Zi(),Object(mr.a)(t=>{if(!Qi(t))return;const e=Vr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Ln.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(gn.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ys(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Jr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Yr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Yr(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Zr(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function bs(t){const e={};for(const n of Object.keys(t.children)){const r=bs(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Zr(t.segments.concat(e.segments),e.children)}return t}(new Zr(t.segments,e))}class _s{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ws{constructor(t,e){this.component=t,this.route=e}}function Os(t,e,n){const r=t._root;return Es(r,e?e._root:null,n,[r.value])}function Ss(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Es(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Oi(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ei(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ei(t.url,e.url)||!zr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ji(t,e)||!zr(t.queryParams,e.queryParams);case"paramsChange":default:return!ji(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new _s(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Es(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ws(a.outlet.component,o))}else o&&Cs(e,a,i),i.canActivateChecks.push(new _s(r)),Es(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Yr(s,(t,e)=>Cs(t,n.getContext(e),i)),i}function Cs(t,e,n){const r=Oi(t),i=t.value;Yr(r,(t,r)=>{Cs(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ws(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ts{}function xs(t){return new Cn.a(e=>e.error(t))}class ks{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=us(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new xi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wi(n,e),i=new ki(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Ti(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=os(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!Is(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return ds(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!hs(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?Wr(n).parameters:{};i=new xi(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,js(t),ss(t),t.component,t,Ps(e),As(e)+n.length,Ms(t))}else{const r=cs(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new xi(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,js(t),ss(t),t.component,t,Ps(e),As(e)+s.length,Ms(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=us(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new wi(i,t)]}if(0===a.length&&0===u.length)return[new wi(i,[])];const l=ss(t)===r,h=this.processSegment(a,c,u,l?"primary":r);return null===h?null:[new wi(i,h)]}}function Is(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ps(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function As(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function js(t){return t.data||{}}function Ms(t){return t.resolve||{}}function Ds(t){return Un(e=>{const n=t(e);return n?Object(pn.a)(n).pipe(Object(Ln.a)(()=>e)):Object(gn.a)(e)})}class Ns extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Rs=new s.t("ROUTES");class Ls{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Ln.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Xi(qr(r.injector.get(Rs,void 0,s.r.Self|s.r.Optional)).map(is),r)}),Zn(t=>{throw e._loader$=void 0,t}));return e._loader$=new Rn.a(n,()=>new mn.a).pipe(Object(yr.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(pn.a)(this.loader.load(t)):$r(t()).pipe(Object(nr.a)(t=>t instanceof s.z?Object(gn.a)(t):Object(pn.a)(this.compiler.compileModuleAsync(t))))}}class Fs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Us,this.attachRef=null}}class Us{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Fs,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Vs{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Bs(t){throw t}function zs(t,e,n){return e.parse("/")}function Hs(t,e){return Object(gn.a)(null)}let qs=(()=>{class t{constructor(t,e,n,r,i,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new mn.a,this.errorHandler=Bs,this.malformedUriErrorHandler=zs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Hs,afterPreactivation:Hs},this.urlHandlingStrategy=new Vs,this.routeReuseStrategy=new Ns,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(s.B),this.console=i.get(s.bb);const u=i.get(s.D);this.isNgZoneEnabled=u instanceof s.D&&s.D.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Jr(new Zr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ls(o,a,t=>this.triggerEvent(new Ar(t)),t=>this.triggerEvent(new jr(t))),this.routerState=Ei(this.currentUrlTree,this.rootComponentType),this.transitions=new vn({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Kn(t=>0!==t.id),Object(Ln.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Un(t=>{let n=!1,r=!1;return Object(gn.a)(t).pipe(Object(mr.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Un(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(gn.a)(t).pipe(Un(t=>{const n=this.transitions.getValue();return e.next(new Or(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Dn.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Un(t=>function(t,e,n,r,i){return new vs(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Ln.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(mr.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(nr.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new ks(t,e,n,r,i,s).recognize();return null===o?xs(new Ts):Object(gn.a)(o)}catch(zO){return xs(zO)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Ln.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(mr.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Tr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Or(n,this.serializeUrl(r),i,s);e.next(a);const c=Ei(r,this.rootComponentType).snapshot;return Object(gn.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Dn.a}),Ds(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(mr.a)(t=>{const e=new xr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ln.a)(t=>Object.assign(Object.assign({},t),{guards:Os(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(nr.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(gn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(pn.a)(t).pipe(Object(nr.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(gn.a)(!0);const o=s.map(s=>{const o=Ss(s,e,i);let a;if(function(t){return t&&Ki(t.canDeactivate)}(o))a=$r(o.canDeactivate(t,e,n,r));else{if(!Ki(o))throw new Error("Invalid CanDeactivate guard");a=$r(o(t,e,n,r))}return a.pipe(gr())});return Object(gn.a)(o).pipe(Zi())}(t.component,t.route,n,e,r)),gr(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(nr.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(pn.a)(e).pipe(rr(e=>Mn(function(t,e){return null!==t&&e&&e(new Mr(t)),Object(gn.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Nr(t)),Object(gn.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Nn(()=>{const i=e.guards.map(i=>{const s=Ss(i,e.node,n);let o;if(function(t){return t&&Ki(t.canActivateChild)}(s))o=$r(s.canActivateChild(r,t));else{if(!Ki(s))throw new Error("Invalid CanActivateChild guard");o=$r(s(r,t))}return o.pipe(gr())});return Object(gn.a)(i).pipe(Zi())}));return Object(gn.a)(i).pipe(Zi())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(gn.a)(!0);const i=r.map(r=>Nn(()=>{const i=Ss(r,e,n);let s;if(function(t){return t&&Ki(t.canActivate)}(i))s=$r(i.canActivate(e,t));else{if(!Ki(i))throw new Error("Invalid CanActivate guard");s=$r(i(e,t))}return s.pipe(gr())}));return Object(gn.a)(i).pipe(Zi())}(t,e.route,n))),gr(t=>!0!==t,!0))}(r,s,t,e):Object(gn.a)(n)),Object(Ln.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(mr.a)(t=>{if(Qi(t.guardsResult)){const e=Vr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new kr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Kn(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Er(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ds(t=>{if(t.guards.canActivateChecks.length)return Object(gn.a)(t).pipe(Object(mr.a)(t=>{const e=new Ir(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Un(t=>{let n=!1;return Object(gn.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(nr.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(gn.a)(t);let s=0;return Object(pn.a)(n).pipe(rr(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(gn.a)({});const s={};return Object(pn.a)(i).pipe(Object(nr.a)(i=>function(t,e,n,r){const i=Ss(t,e,r);return $r(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(mr.a)(t=>{s[i]=t}))),ir(1),Object(nr.a)(()=>Object.keys(s).length===i.length?Object(gn.a)(s):Dn.a))}(t._resolve,t,e,r).pipe(Object(Ln.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ti(t,n).resolve),null)))}(t.route,e,r,i)),Object(mr.a)(()=>s++),ir(1),Object(nr.a)(e=>s===n.length?Object(gn.a)(t):Dn.a))})),Object(mr.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Er(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(mr.a)(t=>{const e=new Pr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ds(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ln.a)(t=>{const e=function(t,e,n){const r=Mi(t,e._root,n?n._root:void 0);return new Si(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(mr.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Ln.a)(t=>(new $i(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(mr.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Er(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new br(i))),Zn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Qi(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Er(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Cr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(hp){t.reject(hp)}}var i;return Dn.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){es(t),this.config=t.map(is),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return Li(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ui(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Yr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ui(n,e,r)}(n);if(s.toRoot())return Li(e.root,new Zr([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Vi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Vi(t,t===e.root,0)}const r=Ni(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Vi(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?zi(o.segmentGroup,o.index,s.commands):Bi(o.segmentGroup,o.index,s.commands);return Li(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Qi(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(zO){e=this.malformedUriErrorHandler(zO,this.urlSerializer,t)}return e}isActive(t,e){if(Qi(t))return Gr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Gr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Sr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(s.Q),s.Yb(ni),s.Yb(Us),s.Yb(S),s.Yb(s.u),s.Yb(s.A),s.Yb(s.i),s.Yb(void 0))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),Ws=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.o,this.deactivateEvents=new s.o,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ys(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(Us),s.Ob(s.T),s.Ob(s.j),s.Zb("name"),s.Ob(s.h))},t.\u0275dir=s.Jb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ys{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ci?this.route:t===Us?this.childContexts:this.parent.get(t,e)}}class $s{}class Gs{preload(t,e){return Object(gn.a)(null)}}let Xs=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ls(e,n,e=>t.triggerEvent(new Ar(e)),e=>t.triggerEvent(new jr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Kn(t=>t instanceof Sr),rr(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(s.B);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(pn.a)(n).pipe(Object(jn.a)(),Object(Ln.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(gn.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(nr.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(qs),s.Yb(s.A),s.Yb(s.i),s.Yb(s.u),s.Yb($s))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),Ks=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Or?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Lr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Lr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(qs),s.Yb(Y),s.Yb(void 0))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();const Qs=new s.t("ROUTER_CONFIGURATION"),Js=new s.t("ROUTER_FORROOT_GUARD"),Zs=[S,{provide:ni,useClass:ri},{provide:qs,useFactory:function(t,e,n,r,i,s,o,c={},u,l){const h=new qs(null,t,e,n,r,i,s,qr(o));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=a();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[ni,Us,S,s.u,s.A,s.i,Rs,Qs,[class{},new s.E],[class{},new s.E]]},Us,{provide:Ci,useFactory:function(t){return t.routerState.root},deps:[qs]},{provide:s.A,useClass:s.N},Xs,Gs,class{preload(t,e){return e().pipe(Zn(()=>Object(gn.a)(null)))}},{provide:Qs,useValue:{enableTracing:!1}}];function to(){return new s.C("Router",qs)}let eo=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Zs,so(e),{provide:Js,useFactory:io,deps:[[qs,new s.E,new s.M]]},{provide:Qs,useValue:n||{}},{provide:v,useFactory:ro,deps:[u,[new s.q(_),new s.E],Qs]},{provide:Ks,useFactory:no,deps:[qs,Y,Qs]},{provide:$s,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Gs},{provide:s.C,multi:!0,useFactory:to},[oo,{provide:s.d,multi:!0,useFactory:ao,deps:[oo]},{provide:uo,useFactory:co,deps:[oo]},{provide:s.b,multi:!0,useExisting:uo}]]}}static forChild(e){return{ngModule:t,providers:[so(e)]}}}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)(s.Yb(Js,8),s.Yb(qs,8))}}),t})();function no(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ks(t,e,n)}function ro(t,e,n={}){return n.useHash?new O(t,e):new w(t,e)}function io(t){return"guarded"}function so(t){return[{provide:s.a,multi:!0,useValue:t},{provide:Rs,multi:!0,useValue:t}]}let oo=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new mn.a}appInitializer(){return this.injector.get(h,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(qs),r=this.injector.get(Qs);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(gn.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Qs),n=this.injector.get(Xs),r=this.injector.get(Ks),i=this.injector.get(qs),o=this.injector.get(s.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(s.u))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();function ao(t){return t.appInitializer.bind(t)}function co(t){return t.bootstrapListener.bind(t)}const uo=new s.t("Router Initializer");function lo(t){return"function"==typeof t}let ho=!1;const fo={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else ho&&console.log("RxJS: Back to a better error behavior. Thank you. <3");ho=t},get useDeprecatedSynchronousErrorHandling(){return ho}};function po(t){setTimeout(()=>{throw t},0)}const go={closed:!0,next(t){},error(t){if(fo.useDeprecatedSynchronousErrorHandling)throw t;po(t)},complete(){}},mo=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function yo(t){return null!==t&&"object"==typeof t}const vo=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let bo=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(lo(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(zO){e=zO instanceof vo?_o(zO.errors):[zO]}}if(mo(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(yo(n))try{n.unsubscribe()}catch(zO){e=e||[],zO instanceof vo?e=e.concat(_o(zO.errors)):e.push(zO)}}}if(e)throw new vo(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function _o(t){return t.reduce((t,e)=>t.concat(e instanceof vo?e.errors:e),[])}const wo=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class Oo extends bo{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=go;break;case 1:if(!t){this.destination=go;break}if("object"==typeof t){t instanceof Oo?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new So(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new So(this,t,e,n)}}[wo](){return this}static create(t,e,n){const r=new Oo(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class So extends Oo{constructor(t,e,n,r){let i;super(),this._parentSubscriber=t;let s=this;lo(e)?i=e:e&&(i=e.next,n=e.error,r=e.complete,e!==go&&(s=Object.create(e),lo(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;fo.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=fo;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):po(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;po(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);fo.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),fo.useDeprecatedSynchronousErrorHandling)throw n;po(n)}}__tryOrSetError(t,e,n){if(!fo.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return fo.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(po(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}function Eo(t,e){return function(n){return n.lift(new Co(t,e))}}class Co{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new To(t,this.predicate,this.thisArg))}}class To extends Oo{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function xo(){}function ko(t,e,n){return function(r){return r.lift(new Io(t,e,n))}}class Io{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Po(t,this.nextOrObserver,this.error,this.complete))}}class Po extends Oo{constructor(t,e,n,r){super(t),this._tapNext=xo,this._tapError=xo,this._tapComplete=xo,this._tapError=n||xo,this._tapComplete=r||xo,lo(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||xo,this._tapError=e.error||xo,this._tapComplete=e.complete||xo)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}var Ao,jo,Mo;function Do(){var t=Wt();if(t){var e=t.getScope();if(e)return e.getTransaction()}}var No,Ro,Lo=Object(It.b)([Object(s.s)({providedIn:"root"})],function(t){var e=this;this._router=t,this.navStart$=this._router.events.pipe(Eo(function(t){return t instanceof Or}),ko(function(t){if(Ao){var n=t,r=Object(Dt.i)(n.url),i=Do();!i&&Mo&&(i=jo({name:r,op:"navigation"})),i&&(e._routingSpan=i.startChild({description:""+n.url,op:"angular.routing",tags:Object(It.a)({"routing.instrumentation":"@sentry/angular",url:r},n.navigationTrigger&&{navigationTrigger:n.navigationTrigger})}))}else Ft.a.error("Angular integration has tracing enabled, but Tracing integration is not configured")})),this.navEnd$=this._router.events.pipe(Eo(function(t){return t instanceof Sr}),ko(function(){e._routingSpan&&(e._routingSpan.finish(),delete e._routingSpan)})),this.navStart$.subscribe(),this.navEnd$.subscribe()});!function(){function t(){this.componentName="unknown"}t.prototype.ngOnInit=function(){var t=Do();t&&(this._tracingSpan=t.startChild({description:"<"+this.componentName+">",op:"angular.initialize"}))},t.prototype.ngAfterViewInit=function(){this._tracingSpan&&this._tracingSpan.finish()},Object(It.b)([Object(s.v)("trace")],t.prototype,"componentName",void 0),t=Object(It.b)([Object(s.l)({selector:"[trace]"})],t)}(),function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}(No||(No={})),function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(Ro||(Ro={})),function(t){t.fromHttpCode=function(e){if(e<400)return t.Ok;if(e>=400&&e<500)switch(e){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}}(Ro||(Ro={}));var Fo=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Uo(t){return"tracesSampleRate"in t||"tracesSampler"in t}function Vo(t){var e,n;return void 0===t&&(t=Wt()),null===(n=null===(e=t)||void 0===e?void 0:e.getScope())||void 0===n?void 0:n.getTransaction()}function Bo(t){return t/1e3}function zo(){var t=Vo();t&&(Ft.a.log("[Tracing] Transaction: "+Ro.InternalError+" -> Global error occured"),t.setStatus(Ro.InternalError))}var Ho=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),qo=function(t){function e(e,n){var r=t.call(this,e)||this;return r._metadata={},r._measurements={},r._hub=Wt(),Object(Pt.g)(n,zt)&&(r._hub=n),r.name=e.name||"",r._trimEnd=e.trimEnd,r.transaction=r,r}return Object(It.c)(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new Ho(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=Object(It.a)({},t)},e.prototype.setMetadata=function(t){this._metadata=Object(It.a)(Object(It.a)({},this._metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(Ft.a.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter(function(t){return t!==n&&t.endTimestamp}):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce(function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t}).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this._metadata};return Object.keys(this._measurements).length>0&&(Ft.a.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),this._hub.captureEvent(i)}Ft.a.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return Object(Vt.a)(Object(It.a)(Object(It.a)({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!=(n=e.name)?n:"",this._trimEnd=e.trimEnd,this},e}(function(){function t(t){if(this.traceId=Object(Dt.j)(),this.spanId=Object(Dt.j)().substring(16),this.startTimestamp=Object(At.c)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t(Object(It.a)(Object(It.a)({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=Object(It.a)(Object(It.a)({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=Object(It.a)(Object(It.a)({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=Ro.fromHttpCode(t);return e!==Ro.UnknownError&&this.setStatus(e),this},t.prototype.isSuccess=function(){return this.status===Ro.Ok},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:Object(At.c)()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return Object(Vt.a)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,i,s;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(r=t.startTimestamp)?r:this.startTimestamp,this.status=t.status,this.tags=null!=(i=t.tags)?i:{},this.traceId=null!=(s=t.traceId)?s:this.traceId,this},t.prototype.getTraceContext=function(){return Object(Vt.a)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Object(Vt.a)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()),Wo=function(t){function e(e,n,r,i){void 0===r&&(r="");var s=t.call(this,i)||this;return s._pushActivity=e,s._popActivity=n,s.transactionSpanId=r,s}return Object(It.c)(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:Object(At.c)(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(Ho),Yo=function(t){function e(e,n,r,i){void 0===r&&(r=1e3),void 0===i&&(i=!1);var s=t.call(this,e,n)||this;return s._idleHub=n,s._idleTimeout=r,s._onScope=i,s.activities={},s._heartbeatTimer=0,s._heartbeatCounter=0,s._finished=!1,s._beforeFinishCallbacks=[],n&&i&&($o(n),Ft.a.log("Setting idle transaction on scope. Span ID: "+s.spanId),n.configureScope(function(t){return t.setSpan(s)})),s._initTimeout=setTimeout(function(){s._finished||s.finish()},s._idleTimeout),s}return Object(It.c)(e,t),e.prototype.finish=function(e){var n,r,i=this;if(void 0===e&&(e=Object(At.c)()),this._finished=!0,this.activities={},this.spanRecorder){Ft.a.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var s=Object(It.g)(this._beforeFinishCallbacks),o=s.next();!o.done;o=s.next())(0,o.value)(this,e)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(t){if(t.spanId===i.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus(Ro.Cancelled),Ft.a.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||Ft.a.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n}),Ft.a.log("[Tracing] flushing IdleTransaction")}else Ft.a.log("[Tracing] No active IdleTransaction");return this._onScope&&$o(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;this.spanRecorder||(this.spanRecorder=new Wo(function(t){e._finished||e._pushActivity(t)},function(t){e._finished||e._popActivity(t)},this.spanId,t),Ft.a.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),Ft.a.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,Ft.a.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(Ft.a.log("[Tracing] popActivity "+t),delete this.activities[t],Ft.a.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=Object(At.c)()+n/1e3;setTimeout(function(){e._finished||e.finish(r)},n)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var t=Object.keys(this.activities),e=t.length?t.reduce(function(t,e){return t+e}):"";e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(Ft.a.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(Ro.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;Ft.a.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){t._beat()},5e3)},e}(qo);function $o(t){if(t){var e=t.getScope();e&&e.getTransaction()&&e.setSpan(void 0)}}function Go(t,e,n){return Uo(e)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:No.Explicit}}),t):("function"==typeof e.tracesSampler?(i=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:No.Sampler,rate:Number(i)}})):void 0!==n.parentSampled?(i=n.parentSampled,t.setMetadata({transactionSampling:{method:No.Inheritance}})):(i=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:No.Rate,rate:Number(i)}})),r=i,(isNaN(r)||"number"!=typeof r&&"boolean"!=typeof r?(Ft.a.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(r)+" of type "+JSON.stringify(typeof r)+"."),0):!(r<0||r>1)||(Ft.a.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+r+"."),0))?i?(t.sampled=Math.random()<i,t.sampled?(Ft.a.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(Ft.a.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(i)+")"),t)):(Ft.a.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(Ft.a.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var r,i}var Xo,Ko,Qo=Object(Dt.e)(),Jo=function(t,e,n,r){var i;return function(){n&&e.isFinal&&n.disconnect(),e.value>=0&&(r||e.isFinal||"hidden"===document.visibilityState)&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||void 0===i)&&(t(e),i=e.value))}},Zo=function(t,e){return void 0===e&&(e=-1),{name:t,value:e,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},ta=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver(function(t){return t.getEntries().map(e)});return n.observe({type:t,buffered:!0}),n}}catch(zO){}},ea=!1,na=!1,ra=function(t){ea=!t.persisted},ia=function(t,e){void 0===e&&(e=!1),na||(addEventListener("pagehide",ra),addEventListener("beforeunload",function(){}),na=!0),addEventListener("visibilitychange",function(e){"hidden"===document.visibilityState&&t({timeStamp:e.timeStamp,isUnloading:ea})},{capture:!0,once:e})},sa=function(){return void 0===Xo&&(Xo="hidden"===document.visibilityState?0:1/0,ia(function(t){return Xo=t.timeStamp},!0)),{get timeStamp(){return Xo}}},oa=Object(Dt.e)(),aa=Object(Dt.e)(),ca=function(){function t(){this._measurements={},this._performanceCursor=0,aa&&aa.performance&&(aa.performance.mark&&aa.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(aa&&aa.performance&&aa.performance.getEntries&&At.a){Ft.a.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i,s=Bo(At.a);if(aa.document)for(var o=0;o<document.scripts.length;o++)if("true"===document.scripts[o].dataset.entry){n=document.scripts[o].src;break}if(aa.performance.getEntries().slice(this._performanceCursor).forEach(function(o){var a=Bo(o.startTime),c=Bo(o.duration);if(!("navigation"===t.op&&s+a<t.startTimestamp))switch(o.entryType){case"navigation":!function(t,e,n){ua(t,e,"unloadEvent",n),ua(t,e,"redirect",n),ua(t,e,"domContentLoadedEvent",n),ua(t,e,"loadEvent",n),ua(t,e,"connect",n),ua(t,e,"secureConnection",n,"connectEnd"),ua(t,e,"fetch",n,"domainLookupStart"),ua(t,e,"domainLookup",n),function(t,e,n){la(t,{op:"browser",description:"request",startTimestamp:n+Bo(e.requestStart),endTimestamp:n+Bo(e.responseEnd)}),la(t,{op:"browser",description:"response",startTimestamp:n+Bo(e.responseStart),endTimestamp:n+Bo(e.responseEnd)})}(t,e,n)}(t,o,s);break;case"mark":case"paint":case"measure":var u=function(t,e,n,r,i){var s=i+n;return la(t,{description:e.name,endTimestamp:s+r,op:e.entryType,startTimestamp:s}),s}(t,o,a,c,s);void 0===i&&"sentry-tracing-init"===o.name&&(i=u);var l=sa(),h=o.startTime<l.timeStamp;"first-paint"===o.name&&h&&(Ft.a.log("[Measurements] Adding FP"),e._measurements.fp={value:o.startTime},e._measurements["mark.fp"]={value:u}),"first-contentful-paint"===o.name&&h&&(Ft.a.log("[Measurements] Adding FCP"),e._measurements.fcp={value:o.startTime},e._measurements["mark.fcp"]={value:u});break;case"resource":var d=o.name.replace(window.location.origin,""),f=function(t,e,n,r,i,s){if("xmlhttprequest"!==e.initiatorType&&"fetch"!==e.initiatorType){var o={};"transferSize"in e&&(o["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(o["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(o["Decoded Body Size"]=e.decodedBodySize);var a=s+r,c=a+i;return la(t,{description:n,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:a,data:o}),c}}(t,o,d,a,c,s);void 0===r&&(n||"").indexOf(d)>-1&&(r=f)}}),void 0!==r&&void 0!==i&&la(t,{description:"evaluation",endTimestamp:i,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var a=Bo(At.a);["fcp","fp","lcp","ttfb"].forEach(function(n){if(e._measurements[n]&&!(a>=t.startTimestamp)){var r=e._measurements[n].value,i=a+Bo(r),s=Math.abs(1e3*(i-t.startTimestamp));Ft.a.log("[Measurements] Normalized "+n+" from "+r+" to "+s+" ("+(s-r)+")"),e._measurements[n].value=s}}),this._measurements["mark.fid"]&&this._measurements.fid&&la(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Bo(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements)}}},t.prototype._trackCLS=function(){var t=this;!function(e,n){void 0===n&&(n=!1);var r,i=Zo("CLS",0),s=function(t){t.hadRecentInput||(i.value+=t.value,i.entries.push(t),r())},o=ta("layout-shift",s);o&&(r=Jo(function(e){e.entries.pop()&&(Ft.a.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value})},i,o,n),ia(function(t){var e=t.isUnloading;o.takeRecords().map(s),e&&(i.isFinal=!0),r()}))}()},t.prototype._trackNavigator=function(t){var e=aa.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),ha(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),ha(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),ha(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),ha(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackLCP=function(){var t=this;!function(e,n){void 0===n&&(n=!1);var r,i=Zo("LCP"),s=sa(),o=function(t){var e=t.startTime;e<s.timeStamp?(i.value=e,i.entries.push(t)):i.isFinal=!0,r()},a=ta("largest-contentful-paint",o);if(a){r=Jo(function(e){var n=e.entries.pop();if(n){var r=Bo(performance.timeOrigin),i=Bo(n.startTime);Ft.a.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:r+i}}},i,a,n);var c=function(){i.isFinal||(a.takeRecords().map(o),i.isFinal=!0,r())};(Ko||(Ko=new Promise(function(t){return["scroll","keydown","pointerdown"].map(function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})})})),Ko).then(c),ia(c,!0)}}()},t.prototype._trackFID=function(){var t,e,n,r,i,s,o=this;t=function(t){var e=t.entries.pop();if(e){var n=Bo(performance.timeOrigin),r=Bo(e.startTime);Ft.a.log("[Measurements] Adding FID"),o._measurements.fid={value:t.value},o._measurements["mark.fid"]={value:n+r}}},e=Zo("FID"),n=sa(),i=ta("first-input",r=function(t){t.startTime<n.timeStamp&&(e.value=t.processingStart-t.startTime,e.entries.push(t),e.isFinal=!0,s())}),s=Jo(t,e,i),i?ia(function(){i.takeRecords().map(r),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(t,r){r.timeStamp<n.timeStamp&&(e.value=t,e.isFinal=!0,e.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+t}],s())})},t.prototype._trackTTFB=function(){var t,e,n,r=this;t=function(t){var e,n=t.entries.pop();if(n){Ft.a.log("[Measurements] Adding TTFB"),r._measurements.ttfb={value:t.value};var i=t.value-(e=t.entries[0],null!=e?e:n).requestStart;r._measurements["ttfb.requestTime"]={value:i}}},n=Zo("TTFB"),e=function(){try{var e=oa.performance.getEntriesByType("navigation")[0]||function(){var t=oa.performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();n.value=n.delta=e.responseStart,n.entries=[e],t(n)}catch(r){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)},t}();function ua(t,e,n,r,i){var s=i?e[i]:e[n+"End"],o=e[n+"Start"];o&&s&&la(t,{op:"browser",description:n,startTimestamp:r+Bo(o),endTimestamp:r+Bo(s)})}function la(t,e){var n=e.startTimestamp,r=Object(It.e)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(Object(It.a)({startTimestamp:n},r))}function ha(t){return"number"==typeof t&&isFinite(t)}var da={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]},fa=Object(Dt.e)(),pa=Object(It.a)({idleTimeout:1e3,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),fa&&fa.location){var r,i=fa.location.href;e&&(r=t({name:fa.location.pathname,op:"pageload"})),n&&ce({callback:function(e){var n=e.to,s=e.from;void 0===s&&i&&-1!==i.indexOf(n)?i=void 0:s!==n&&(i=void 0,r&&(Ft.a.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:fa.location.pathname,op:"navigation"}))},type:"history"})}else Ft.a.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},da),ga=function(){function t(e){this.name=t.id,this._metrics=new ca,this._emitOptionsWarning=!1;var n=da.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=Object(It.a)(Object(It.a)(Object(It.a)({},pa),e),{tracingOrigins:n})}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(Ft.a.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Ft.a.warn("[Tracing] We added a reasonable default for you: "+da.tracingOrigins));var r=this.options,i=r.markBackgroundTransactions,s=r.traceFetch,o=r.traceXHR,a=r.tracingOrigins,c=r.shouldCreateSpanForRequest;(0,r.routingInstrumentation)(function(t){return n._createRouteTransaction(t)},r.startTransactionOnPageLoad,r.startTransactionOnLocationChange),i&&(Qo&&Qo.document?Qo.document.addEventListener("visibilitychange",function(){var t=Vo();Qo.document.hidden&&t&&(Ft.a.log("[Tracing] Transaction: "+Ro.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(Ro.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())}):Ft.a.warn("[Tracing] Could not set up background tab detection due to lack of global document")),function(e){var n=Object(It.a)(Object(It.a)({},da),e),r=n.traceXHR,i=n.tracingOrigins,s=n.shouldCreateSpanForRequest,o={},a=function(t){return o[t]||(o[t]=i.some(function(e){return Object(Xt.a)(t,e)})&&!Object(Xt.a)(t,"sentry_key")),o[t]},c=a;"function"==typeof s&&(c=function(t){return a(t)&&s(t)});var u={};n.traceFetch&&ce({callback:function(t){!function(t,e,n){var r,i=null===(r=Wt().getClient())||void 0===r?void 0:r.getOptions();if(i&&Uo(i)&&t.fetchData&&e(t.fetchData.url))if(t.endTimestamp&&t.fetchData.__span){if(a=n[t.fetchData.__span]){var s=t.response;s&&a.setHttpStatus(s.status),a.finish(),delete n[t.fetchData.__span]}}else{var o=Vo();if(o){var a=o.startChild({data:Object(It.a)(Object(It.a)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=a.spanId,n[a.spanId]=a;var c=t.args[0]=t.args[0],u=t.args[1]=t.args[1]||{},l=u.headers;Object(Pt.g)(c,Request)&&(l=c.headers),l?"function"==typeof l.append?l.append("sentry-trace",a.toTraceparent()):l=Array.isArray(l)?Object(It.f)(l,[["sentry-trace",a.toTraceparent()]]):Object(It.a)(Object(It.a)({},l),{"sentry-trace":a.toTraceparent()}):l={"sentry-trace":a.toTraceparent()},u.headers=l}}}(t,c,u)},type:"fetch"}),r&&ce({callback:function(e){!function(e,n,r){var i,s=null===(i=Wt().getClient())||void 0===i?void 0:i.getOptions();if(s&&Uo(s)&&e.xhr&&e.xhr.__sentry_xhr__&&n(e.xhr.__sentry_xhr__.url)&&!e.xhr.__sentry_own_request__){var o=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__)(c=r[e.xhr.__sentry_xhr_span_id__])&&(c.setHttpStatus(o.status_code),c.finish(),delete r[e.xhr.__sentry_xhr_span_id__]);else{var a=Vo();if(a){var c=a.startChild({data:Object(It.a)(Object(It.a)({},o.data),{type:"xhr",method:o.method,url:o.url}),description:o.method+" "+o.url,op:"http"});if(e.xhr.__sentry_xhr_span_id__=c.spanId,r[e.xhr.__sentry_xhr_span_id__]=c,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",c.toTraceparent())}catch(t){}}}}}(e,c,u)},type:"xhr"})}({traceFetch:s,traceXHR:o,tracingOrigins:a,shouldCreateSpanForRequest:c})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,s=n.maxTransactionDuration,o="pageload"===t.op?function(){var t,e=(t=document.querySelector("meta[name=sentry-trace]"))?t.getAttribute("content"):null;if(e)return function(t){var e=t.match(Fo);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}(e)}():void 0,a=Object(It.a)(Object(It.a)(Object(It.a)({},t),o),{trimEnd:!0}),c="function"==typeof r?r(a):a,u=void 0===c?Object(It.a)(Object(It.a)({},a),{sampled:!1}):c;!1===u.sampled&&Ft.a.log("[Tracing] Will not send "+u.op+" transaction because of beforeNavigate."),Ft.a.log("[Tracing] Starting "+u.op+" transaction on scope");var l=function(t,e,n,r,i){var s,o,a=(null===(s=t.getClient())||void 0===s?void 0:s.getOptions())||{},c=new Yo(e,t,n,!0);return(c=Go(c,a,Object(It.a)({parentSampled:e.parentSampled,transactionContext:e},i))).sampled&&c.initSpanRecorder(null===(o=a._experiments)||void 0===o?void 0:o.maxSpans),c}(this._getCurrentHub(),u,i,0,{location:Object(Dt.e)().location});return l.registerBeforeFinishCallback(function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp;n&&(r>t||r<0)&&(e.setStatus(Ro.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}(1e3*s,t,n)}),l}Ft.a.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}(),ma=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){var t,e;this._router?(t=this._router,void 0===(e=this._methods)&&(e=[]),e.forEach(function(e){return function(t,e){var n=t[e];return t[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.call.apply(n,Object(It.f)([this],va(t,e)))},t}(t,e)})):Ft.a.error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function ya(t,e){var n=t.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var s=i.startChild({description:t.name,op:"middleware."+e});r.once("finish",function(){s.finish()})}return t.call(this,n,r)};case 3:return function(n,r,i){var s,o=null===(s=r.__sentry_transaction)||void 0===s?void 0:s.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=o)||void 0===t||t.finish(),i.call.apply(i,Object(It.f)([this],e))})};case 4:return function(n,r,i,s){var o,a=null===(o=i.__sentry_transaction)||void 0===o?void 0:o.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,i,function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=a)||void 0===t||t.finish(),s.call.apply(s,Object(It.f)([this],e))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function va(t,e){return t.map(function(t){return"function"==typeof t?ya(t,e):Array.isArray(t)?t.map(function(t){return"function"==typeof t?ya(t,e):t}):t})}var ba,_a=n("CLvp"),wa=n("zR2W"),Oa=n("1qfx"),Sa=Object(It.a)(Object(It.a)({},i),{BrowserTracing:ga});function Ea(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(zO){s(zO)}}function a(t){try{c(r.throw(t))}catch(zO){s(zO)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}(ba=Ht()).__SENTRY__&&(ba.__SENTRY__.extensions=ba.__SENTRY__.extensions||{},ba.__SENTRY__.extensions.startTransaction||(ba.__SENTRY__.extensions.startTransaction=function(t,e){var n,r,i=(null===(n=this.getClient())||void 0===n?void 0:n.getOptions())||{},s=new qo(t,this);return(s=Go(s,i,Object(It.a)({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&s.initSpanRecorder(null===(r=i._experiments)||void 0===r?void 0:r.maxSpans),s}),ba.__SENTRY__.extensions.traceHeaders||(ba.__SENTRY__.extensions.traceHeaders=function(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}})),ce({callback:zo,type:"error"}),ce({callback:zo,type:"unhandledrejection"});var Ca=n("n6bG");function Ta(t,e,n,r){return Object(Ca.a)(n)&&(r=n,n=void 0),r?Ta(t,e,n).pipe(Object(Ln.a)(t=>Object(_n.a)(t)?r(...t):r(t))):new Cn.a(r=>{xa(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function xa(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)xa(t[s],e,n,r,i)}r.add(s)}var ka=function(t){return t.LEAD="lead",t.USER="visitor",t.AGENT="agent",t.SYSTEM="system",t.BOT="bot",t.THIRD_PARTY="third_party",t}({});class Ia{constructor(t,e,n,r,i,s,o){this.email=t,this.firstName=e,this.lastName=n,this.type=r,this.id=i,this.avatar=s,this.customData=o}static getFullName(t){return t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`:t.firstName?t.firstName:t.lastName?t.lastName:void 0}}var Pa=function(t){return t.NONE="none",t.WAITING="waiting",t.ABORTED="aborted",t.CANCELED="canceled",t.OVERRIDDEN="overridden",t.ENGAGING="engaging",t.ENGAGED="engaged",t.WELCOMING="welcoming",t.WELCOMING_ENGAGING="welcoming_engaging",t}({}),Aa=function(t){return t.SLACK="slack",t.ZENDESK="zendesk",t.FRONTAPP="frontapp",t}({}),ja=function(t){return t[t.NORMAL=1]="NORMAL",t[t.WELCOME=2]="WELCOME",t[t.LIVE=3]="LIVE",t[t.CATCH=4]="CATCH",t}({}),Ma=function(t){return t[t.SESSION_CREATED=0]="SESSION_CREATED",t[t.OPEN=1]="OPEN",t[t.CLOSE=2]="CLOSE",t[t.IGNORE_SATISFACTION=3]="IGNORE_SATISFACTION",t[t.ASKED_SATISFACTION=4]="ASKED_SATISFACTION",t[t.CUSTOM_EVENT=5]="CUSTOM_EVENT",t[t.HANDSHAKE=6]="HANDSHAKE",t[t.ORDER_VALIDATED=7]="ORDER_VALIDATED",t[t.GDPR_ACCEPT_ON_INIT=8]="GDPR_ACCEPT_ON_INIT",t[t.GDPR_ACCEPT_THROUGH_API=9]="GDPR_ACCEPT_THROUGH_API",t[t.GDPR_ACCEPT_CLICK=10]="GDPR_ACCEPT_CLICK",t[t.GDPR_DECLINE_CLICK=11]="GDPR_DECLINE_CLICK",t}({});function Da(t){const e=t instanceof URL?t:new URL(t),n=`${e.protocol}//${e.host}${e.pathname}`;return"/"===n.substr(-1,1)?n.substr(0,n.length-1):n}class Na{}class Ra{}class La{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof La?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new La;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof La?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Fa{encodeKey(t){return Ua(t)}encodeValue(t){return Ua(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Ua(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Va{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Fa,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Va({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Ba(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function za(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Ha(t){return"undefined"!=typeof FormData&&t instanceof FormData}class qa{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new La),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Va,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ba(this.body)||za(this.body)||Ha(this.body)||"string"==typeof this.body?this.body:this.body instanceof Va?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ha(this.body)?null:za(this.body)?this.body.type||null:Ba(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Va?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new qa(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var Wa=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Ya{constructor(t,e=200,n="OK"){this.headers=t.headers||new La,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class $a extends Ya{constructor(t={}){super(t),this.type=Wa.ResponseHeader}clone(t={}){return new $a({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ga extends Ya{constructor(t={}){super(t),this.type=Wa.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ga({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Xa extends Ya{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ka(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Qa=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof qa)r=t;else{let i,s;i=n.headers instanceof La?n.headers:new La(n.headers),n.params&&(s=n.params instanceof Va?n.params:new Va({fromObject:n.params})),r=new qa(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(gn.a)(r).pipe(rr(t=>this.handler.handle(t)));if(t instanceof qa||"events"===n.observe)return i;const s=i.pipe(Kn(t=>t instanceof Ga));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(Ln.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Ln.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Ln.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Ln.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Va).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ka(n,e))}post(t,e,n={}){return this.request("POST",t,Ka(n,e))}put(t,e,n={}){return this.request("PUT",t,Ka(n,e))}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(Na))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();class Ja{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Za=new s.t("HTTP_INTERCEPTORS");let tc=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();const ec=/^\)\]\}',?\n/;class nc{}let rc=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),ic=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Cn.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new La(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new $a({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(ec,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new Ga({body:c,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Xa({error:c,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Xa({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const u=r=>{c||(e.next(s()),c=!0);let i={type:Wa.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Wa.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Wa.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(nc))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();const sc=new s.t("XSRF_COOKIE_NAME"),oc=new s.t("XSRF_HEADER_NAME");class ac{}let cc=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=P(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(c),s.Yb(s.F),s.Yb(sc))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),uc=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(ac),s.Yb(oc))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),lc=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Za,[]);this.chain=t.reduceRight((t,e)=>new Ja(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(Ra),s.Yb(s.u))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),hc=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:uc,useClass:tc}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:sc,useValue:e.cookieName}:[],e.headerName?{provide:oc,useValue:e.headerName}:[]]}}}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},providers:[uc,{provide:Za,useExisting:uc,multi:!0},{provide:ac,useClass:cc},{provide:sc,useValue:"XSRF-TOKEN"},{provide:oc,useValue:"X-XSRF-TOKEN"}]}),t})(),dc=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},providers:[Qa,{provide:Na,useClass:lc},ic,{provide:Ra,useExisting:ic},rc,{provide:nc,useExisting:rc}],imports:[[hc.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),fc=(()=>{class t{constructor(t){this.httpClient=t;const e=new URL(document.URL);this.host=e.searchParams.get("host"),this.sessionId=e.searchParams.get("uid"),this.accountId=e.searchParams.get("aid")}handshake(t,e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.post(`${t}/api/chat/handshake`,{sessionId:e,accountId:n,pathname:r,pageUrl:i,pageTitle:s,language:o,visitorEmail:a,visitorFirstName:c,visitorLastName:u,rawCustomData:l,startWithWidgetOpen:h,resetSession:d,userAgent:f,isMobile:p,ghostMode:g,storeIp:m}).toPromise()})}leaveGhostMode(t,e,n){return Ea(this,void 0,void 0,function*(){const r=yield this.httpClient.post(`${this.host}/api/chat/leave-ghost-mode`,{sessionId:t,tempSession:e,tempMessages:n}).toPromise();return r.sessionId!==this.sessionId&&(this.sessionId=r.sessionId),r})}resetGhostSession(t){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.post(`${this.host}/api/chat/reset-ghost-session`,t).toPromise()})}getNewLead(t,e){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.get(`${this.host}/api/chat/new-lead`,{params:{accountId:e,sessionId:t}}).toPromise()})}sendIsMobile(t){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.post(`${this.host}/api/chat/${this.sessionId}/is-mobile`,{isMobile:t}).toPromise()})}sendZendeskIsTyping(t,e){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.put(`${this.host}/api/chat/${this.sessionId}/zendesk-is-typing`,{isTyping:t,agent:e}).toPromise()})}sendMessage(t,e,n,r=!1){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.post(`${this.host}/api/chat/${this.sessionId}/messages`,{message:t,data:{pageUrl:e,pageTitle:n}},{params:{forceUpdatedAt:`${r}`}}).toPromise()})}sendEngageMessage(t){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.post(`${this.host}/api/chat/${this.sessionId}/engage-messages`,t).toPromise()})}notifyEngage(t,e,n,r,i){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.post(`${this.host}/api/chat/${this.sessionId}/engage`,{type:t,pageUrl:e,pageTitle:n,triggerId:r,welcomeMessageId:i}).toPromise()})}updateTriggerStatus(t){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.put(`${this.host}/api/chat/${this.sessionId}/trigger-status`,{status:t}).toPromise()})}requestCloudinarySignature(t,e,n){return Ea(this,void 0,void 0,function*(){return(yield this.httpClient.get(`${this.host}/api/chat/cloudinary-signature`,{params:{timestamp:t,uploadPreset:e,folderName:n}}).toPromise()).signature})}updateThirdPartyData(t){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.put(`${this.host}/api/chat/${this.sessionId}/tp-data`,t).toPromise()})}updateThirdPartyAgentPresence(t){return Ea(this,void 0,void 0,function*(){yield this.httpClient.put(`${this.host}/api/chat/${this.sessionId}/tp-agent-present`,{hasAgents:t}).toPromise()})}setSatisfaction(t,e){return Ea(this,void 0,void 0,function*(){yield this.httpClient.put(`${this.host}/api/chat/${this.sessionId}/satisfaction`,{satisfaction:t,comment:e}).toPromise()})}skipSatisfaction(){return Ea(this,void 0,void 0,function*(){yield this.httpClient.delete(`${this.host}/api/chat/${this.sessionId}/satisfaction`).toPromise()})}sendMessageToFront(t,e){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.post(`${this.host}/api/chat/${this.sessionId}/front/messages`,{message:t,initJson:e}).toPromise()})}sendHistoryToFront(t,e){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.post(`${this.host}/api/chat/${this.sessionId}/front/history`,{messages:t,initJson:e}).toPromise()})}selfCareAskQuestion(){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.post(`${this.host}/api/chat/${this.sessionId}/self-care-ask-question`,{}).toPromise()})}selfCareReset(t,e,n,r){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.post(`${this.host}/api/chat/${this.sessionId}/self-care-reset`,{pageUrl:t,pageTitle:e,isGhostMode:n,currentSession:r}).toPromise()})}setUserIdentity(t){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.put(`${this.host}/api/chat/${this.sessionId}/set-user-identity`,t).toPromise()})}resetUser(){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.post(`${this.host}/api/chat/${this.sessionId}/reset-user`,{}).toPromise()})}hrefChanged(t,e,n,r,i){return Ea(this,void 0,void 0,function*(){return yield this.httpClient.post(`${this.host}/api/chat/${this.sessionId}/href-changed`,{href:t,pageName:e,ghostMode:n,accountId:r,session:i}).toPromise()})}logEvent(t,e,n){return Ea(this,void 0,void 0,function*(){yield this.httpClient.post(`${this.host}/api/chat/${this.sessionId}/evt`,{type:t,data:n,accountId:this.accountId},{params:e?{uid:e}:{}}).toPromise()})}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(Qa))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pc=(()=>{class t{constructor(){this.messages=[],this.messagesChangedSubject=new mn.a}sleep(t){return new Promise(e=>setTimeout(e,t))}addMessage(t,e){return Ea(this,void 0,void 0,function*(){this.messages=this.messages.concat(t).sort((t,e)=>t.updatedDate-e.updatedDate),this.sendRefreshIframeSignal(),this.messagesChangedSubject.next(null),"number"==typeof e&&window.setTimeout(()=>{this.removeMessage.bind(this)(t.uuid)},e)})}removeMessage(t){const e=this.messages.findIndex(e=>e.uuid===t);e>=0&&(this.messages.splice(e,1),this.sendRefreshIframeSignal())}clearMessages(){this.messages.length>0&&(this.messages.splice(0,this.messages.length),this.sendRefreshIframeSignal())}sendRefreshIframeSignal(){this.sleep(100).then(()=>{this.messagesChangedSubject.next(null)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var gc=n("D0XW");function mc(){return t=>t.lift(new yc)}class yc{call(t,e){return e.subscribe(new vc(t))}}class vc extends wn.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function bc(t,e){return n=>n.lift(new _c(t,e))}class _c{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new wc(t,this.compare,this.keySelector))}}class wc extends wn.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Oc=n("pxpQ"),Sc=n("spgP"),Ec=n("Jgta"),Cc=n("zIRd"),Tc=n("q/0M"),xc=n("qOnz"),kc=function(t,e){return(kc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ic(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Pc,Ac="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},jc=jc||{},Mc=Ac||self;function Dc(){}function Nc(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Rc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Lc="closure_uid_"+(1e9*Math.random()>>>0),Fc=0;function Uc(t,e,n){return t.call.apply(t.bind,arguments)}function Vc(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Bc(t,e,n){return(Bc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uc:Vc).apply(null,arguments)}function zc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Hc(){return Date.now()}function qc(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Wc(){this.j=this.j,this.i=this.i}Wc.prototype.j=!1,Wc.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Lc)&&t[Lc]||(t[Lc]=++Fc)}(this)},Wc.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Yc=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},$c=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Gc(t){return Array.prototype.concat.apply([],arguments)}function Xc(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Kc(t){return/^[\s\xa0]*$/.test(t)}var Qc,Jc=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Zc(t,e){return-1!=t.indexOf(e)}function tu(t,e){return t<e?-1:t>e?1:0}t:{var eu=Mc.navigator;if(eu){var nu=eu.userAgent;if(nu){Qc=nu;break t}}Qc=""}function ru(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function iu(t){var e={};for(var n in t)e[n]=t[n];return e}var su="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ou(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<su.length;s++)n=su[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function au(t){return au[" "](t),t}au[" "]=Dc;var cu,uu,lu=Zc(Qc,"Opera"),hu=Zc(Qc,"Trident")||Zc(Qc,"MSIE"),du=Zc(Qc,"Edge"),fu=du||hu,pu=Zc(Qc,"Gecko")&&!(Zc(Qc.toLowerCase(),"webkit")&&!Zc(Qc,"Edge"))&&!(Zc(Qc,"Trident")||Zc(Qc,"MSIE"))&&!Zc(Qc,"Edge"),gu=Zc(Qc.toLowerCase(),"webkit")&&!Zc(Qc,"Edge");function mu(){var t=Mc.document;return t?t.documentMode:void 0}t:{var yu="",vu=(uu=Qc,pu?/rv:([^\);]+)(\)|;)/.exec(uu):du?/Edge\/([\d\.]+)/.exec(uu):hu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(uu):gu?/WebKit\/(\S+)/.exec(uu):lu?/(?:Version)[ \/]?(\S+)/.exec(uu):void 0);if(vu&&(yu=vu?vu[1]:""),hu){var bu=mu();if(null!=bu&&bu>parseFloat(yu)){cu=String(bu);break t}}cu=yu}var _u={};function wu(t){return function(t,e){var n=_u;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Jc(String(cu)).split("."),r=Jc(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=tu(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||tu(0==o[2].length,0==a[2].length)||tu(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Ou=Mc.document&&hu&&(mu()||parseInt(cu,10))||void 0,Su=!hu||9<=Number(Ou),Eu=hu&&!wu("9"),Cu=function(){if(!Mc.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Mc.addEventListener("test",Dc,e),Mc.removeEventListener("test",Dc,e)}catch(n){}return t}();function Tu(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function xu(t,e){if(Tu.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(pu){t:{try{au(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ku[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Tu.prototype.b=function(){this.defaultPrevented=!0},qc(xu,Tu);var ku={2:"touch",3:"pen",4:"mouse"};xu.prototype.b=function(){xu.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Eu)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Iu="closure_listenable_"+(1e6*Math.random()|0),Pu=0;function Au(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Pu,this.Y=this.Z=!1}function ju(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Mu(t){this.src=t,this.a={},this.b=0}function Du(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Yc(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ju(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Nu(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Mu.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Nu(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Au(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Ru="closure_lm_"+(1e6*Math.random()|0),Lu={};function Fu(t,e,n,r,i){if(r&&r.once)return Vu(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Fu(t,e[s],n,r,i);return null}return n=Gu(n),t&&t[Iu]?t.va(e,n,Rc(r)?!!r.capture:!!r,i):Uu(t,e,n,!1,r,i)}function Uu(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Rc(i)?!!i.capture:!!i;if(o&&!Su)return null;var a=Yu(t);if(a||(t[Ru]=a=new Mu(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Wu,e=Su?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Cu||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Hu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Vu(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Vu(t,e[s],n,r,i);return null}return n=Gu(n),t&&t[Iu]?t.wa(e,n,Rc(r)?!!r.capture:!!r,i):Uu(t,e,n,!0,r,i)}function Bu(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Bu(t,e[s],n,r,i);else r=Rc(r)?!!r.capture:!!r,n=Gu(n),t&&t[Iu]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Nu(s=t.a[e],n,r,i))&&(ju(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Yu(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Nu(e,n,r,i)),(n=-1<t?e[t]:null)&&zu(n))}function zu(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Iu])Du(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Hu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Yu(e))?(Du(n,t),0==n.b&&(n.src=null,e[Ru]=null)):ju(t)}}}function Hu(t){return t in Lu?Lu[t]:Lu[t]="on"+t}function qu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&zu(t),n.call(r,e)}function Wu(t,e){if(t.Y)return!0;if(!Su){if(!e)t:{e=["window","event"];for(var n=Mc,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return qu(t,e=new xu(e,this))}return qu(t,new xu(e,this))}function Yu(t){return(t=t[Ru])instanceof Mu?t:null}var $u="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gu(t){return"function"==typeof t?t:(t[$u]||(t[$u]=function(e){return t.handleEvent(e)}),t[$u])}function Xu(){Wc.call(this),this.c=new Mu(this),this.J=this,this.C=null}function Ku(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Tu(e,t);else if(e instanceof Tu)e.target=e.target||t;else{var i=e;ou(e=new Tu(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Qu(o,r,!0,e)&&i}if(i=Qu(o=e.a=t,r,!0,e)&&i,i=Qu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Qu(o=e.a=n[s],r,!1,e)&&i}function Qu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&Du(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}qc(Xu,Wc),Xu.prototype[Iu]=!0,(Pc=Xu.prototype).addEventListener=function(t,e,n,r){Fu(this,t,e,n,r)},Pc.removeEventListener=function(t,e,n,r){Bu(this,t,e,n,r)},Pc.G=function(){if(Xu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ju(n[r]);delete e.a[t],e.b--}}this.C=null},Pc.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Pc.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ju=Mc.JSON.stringify;function Zu(){this.b=this.a=null}var tl,el=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new rl},function(t){t.reset()});function nl(){var t=al,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function rl(){this.next=this.b=this.a=null}function il(t){Mc.setTimeout(function(){throw t},0)}function sl(t,e){tl||function(){var t=Mc.Promise.resolve(void 0);tl=function(){t.then(cl)}}(),ol||(tl(),ol=!0),al.add(t,e)}Zu.prototype.add=function(t,e){var n=el.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},rl.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},rl.prototype.reset=function(){this.next=this.b=this.a=null};var ol=!1,al=new Zu;function cl(){for(var t;t=nl();){try{t.a.call(t.b)}catch(n){il(n)}var e=el;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ol=!1}function ul(t,e){Xu.call(this),this.b=t||1,this.a=e||Mc,this.f=Bc(this.Za,this),this.g=Hc()}function ll(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function hl(t,e,n){if("function"==typeof t)n&&(t=Bc(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Bc(t.handleEvent,t)}return 2147483647<Number(e)?-1:Mc.setTimeout(t,e||0)}function dl(t){t.a=hl(function(){t.a=null,t.c&&(t.c=!1,dl(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}qc(ul,Xu),(Pc=ul.prototype).aa=!1,Pc.M=null,Pc.Za=function(){if(this.aa){var t=Hc()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ku(this,"tick"),this.aa&&(ll(this),this.start()))}},Pc.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Hc())},Pc.G=function(){ul.X.G.call(this),ll(this),delete this.a};var fl=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}kc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:dl(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Mc.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Wc);function pl(t){Wc.call(this),this.b=t,this.a={}}qc(pl,Wc);var gl=[];function ml(t,e,n,r){Array.isArray(n)||(n&&(gl[0]=n.toString()),n=gl);for(var i=0;i<n.length;i++){var s=Fu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function yl(t){ru(t.a,function(t,e){this.a.hasOwnProperty(e)&&zu(t)},t),t.a={}}function vl(){this.a=!0}function bl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ju(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}pl.prototype.G=function(){pl.X.G.call(this),yl(this)},pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vl.prototype.info=function(){};var _l={},wl=null;function Ol(){return wl=wl||new Xu}function Sl(t){Tu.call(this,_l.Fa,t)}function El(t){var e=Ol();Ku(e,new Sl(e,t))}function Cl(t,e){Tu.call(this,_l.STAT_EVENT,t),this.stat=e}function Tl(t){var e=Ol();Ku(e,new Cl(e,t))}function xl(t){Tu.call(this,_l.Ga,t)}function kl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Mc.setTimeout(function(){t()},e)}_l.Fa="serverreachability",qc(Sl,Tu),_l.STAT_EVENT="statevent",qc(Cl,Tu),_l.Ga="timingevent",qc(xl,Tu);var Il={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Pl={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Al(){}function jl(){}Al.prototype.a=null;var Ml,Dl={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Nl(){Tu.call(this,"d")}function Rl(){Tu.call(this,"c")}function Ll(){}function Fl(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new pl(this),this.P=Ul,this.R=new ul(t=fu?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}qc(Nl,Tu),qc(Rl,Tu),qc(Ll,Al),Ml=new Ll;var Ul=45e3,Vl={},Bl={};function zl(t,e,n){t.H=1,t.i=lh(ih(e)),t.j=n,t.I=!0,Hl(t,null)}function Hl(t,e){t.u=Hc(),Yl(t),t.l=ih(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Sh(n.b,"t",r),t.D=0,t.a=yd(t.g,t.g.C?e:null),0<t.O&&(t.F=new fl(Bc(t.Ca,t,t.a),t.O)),ml(t.J,t.a,"readystatechange",t.Xa),e=t.B?iu(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),El(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ql(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Wl(t,n);if(i==Bl){4==e&&(t.h=4,Tl(14),r=!1),bl(t.c,t.f,null,"[Incomplete Response]");break}if(i==Vl){t.h=4,Tl(15),bl(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}bl(t.c,t.f,i,null),Ql(t,i)}4==e&&0==n.length&&(t.h=1,Tl(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ud(e),e.F=!0,Tl(11))):(bl(t.c,t.f,n,"[Invalid Chunked Response]"),Kl(t),Xl(t))}function Wl(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Bl:(n=Number(e.substring(n,r)),isNaN(n)?Vl:(r+=1)+n>e.length?Bl:(e=e.substr(r,n),t.D=r+n,e))}function Yl(t){t.T=Hc()+t.P,$l(t,t.P)}function $l(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=kl(Bc(t.Va,t),e)}function Gl(t){t.o&&(Mc.clearTimeout(t.o),t.o=null)}function Xl(t){0==t.g.v||t.A||dd(t.g,t)}function Kl(t){Gl(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ll(t.R),yl(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ql(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ph(n.b,t)))if(n.I=t.N,!t.C&&Ph(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(eO){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;hd(n),td(n)}cd(n),Tl(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=kl(Bc(n.Sa,n),6e3));if(1>=Ih(n.b)&&n.ea){try{n.ea()}catch(eO){}n.ea=void 0}}else pd(n,11)}else if((t.C||n.a==t)&&hd(n),!Kc(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(Zc(l,"spdy")||Zc(l,"quic")||Zc(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ah(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,uh(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Hc()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=md(c,c.C?c.ga:null,c.fa),f.C){jh(c.b,f);var p=f,g=c.D;g&&p.setTimeout(g),p.o&&(Gl(p),Yl(p)),c.a=f}else ad(c);0<n.g.length&&rd(n)}else"stop"!=i[0]&&"close"!=i[0]||pd(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?pd(n,7):Zh(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);El(4)}catch(eO){}}function Jl(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Nc(t)||"string"==typeof t)$c(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Nc(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Nc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Zl(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Zl)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function th(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];eh(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)eh(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function eh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Pc=Fl.prototype).setTimeout=function(t){this.P=t},Pc.Xa=function(t){t=t.target;var e=this.F;e&&3==Xh(t)?e.f():this.Ca(t)},Pc.Ca=function(t){try{if(t==this.a)t:{var e=Xh(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!fu&&!this.a.$())){this.A||4!=e||7==n||El(8==n||0>=r?3:2),Gl(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kc(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,Tl(12),Kl(this),Xl(this);break t}bl(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ql(this,c)}this.I?(ql(this,e,s),fu&&this.b&&3==e&&(ml(this.J,this.R,"tick",this.Wa),this.R.start())):(bl(this.c,this.f,s,null),Ql(this,s)),4==e&&Kl(this),this.b&&!this.A&&(4==e?dd(this.g,this):(this.b=!1,Yl(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Tl(12)):(this.h=0,Tl(13)),Kl(this),Xl(this)}}}catch(u){}},Pc.Wa=function(){if(this.a){var t=Xh(this.a),e=this.a.$();this.D<e.length&&(Gl(this),ql(this,t,e),this.b&&4!=t&&Yl(this))}},Pc.cancel=function(){this.A=!0,Kl(this)},Pc.Va=function(){this.o=null;var t=Hc();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(El(3),Tl(17)),Kl(this),this.h=2,Xl(this)):$l(this,this.T-t)},(Pc=Zl.prototype).K=function(){th(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Pc.L=function(){return th(this),this.a.concat()},Pc.get=function(t,e){return eh(this.b,t)?this.b[t]:e},Pc.set=function(t,e){eh(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Pc.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var nh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rh(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof rh){this.a=void 0!==e?e:t.a,sh(this,t.f),this.j=t.j,oh(this,t.c),ah(this,t.h),this.g=t.g,e=t.b;var n=new bh;n.c=e.c,e.a&&(n.a=new Zl(e.a),n.b=e.b),ch(this,n),this.i=t.i}else t&&(n=String(t).match(nh))?(this.a=!!e,sh(this,n[1]||"",!0),this.j=hh(n[2]||""),oh(this,n[3]||"",!0),ah(this,n[4]),this.g=hh(n[5]||"",!0),ch(this,n[6]||"",!0),this.i=hh(n[7]||"")):(this.a=!!e,this.b=new bh(null,this.a))}function ih(t){return new rh(t)}function sh(t,e,n){t.f=n?hh(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function oh(t,e,n){t.c=n?hh(e,!0):e}function ah(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ch(t,e,n){e instanceof bh?(t.b=e,function(t,e){e&&!t.f&&(_h(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(wh(this,e),Sh(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=dh(e,yh)),t.b=new bh(e,t.a))}function uh(t,e,n){t.b.set(e,n)}function lh(t){return uh(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Hc()).toString(36)),t}function hh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,fh),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fh(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}rh.prototype.toString=function(){var t=[],e=this.f;e&&t.push(dh(e,ph,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(dh(e,ph,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(dh(n,"/"==n.charAt(0)?mh:gh,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",dh(n,vh)),t.join("")};var ph=/[#\/\?@]/g,gh=/[#\?:]/g,mh=/[#\?]/g,yh=/[#\?@]/g,vh=/#/g;function bh(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function _h(t){t.a||(t.a=new Zl,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function wh(t,e){_h(t),e=Eh(t,e),eh(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,eh((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&th(t)))}function Oh(t,e){return _h(t),e=Eh(t,e),eh(t.a.b,e)}function Sh(t,e,n){wh(t,e),0<n.length&&(t.c=null,t.a.set(Eh(t,e),Xc(n)),t.b+=n.length)}function Eh(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Pc=bh.prototype).add=function(t,e){_h(this),this.c=null,t=Eh(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Pc.forEach=function(t,e){_h(this),this.a.forEach(function(n,r){$c(n,function(n){t.call(e,n,r,this)},this)},this)},Pc.L=function(){_h(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Pc.K=function(t){_h(this);var e=[];if("string"==typeof t)Oh(this,t)&&(e=Gc(e,this.a.get(Eh(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Gc(e,t[n])}return e},Pc.set=function(t,e){return _h(this),this.c=null,Oh(this,t=Eh(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Pc.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Pc.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Ch=function(){return function(t,e){this.b=t,this.a=e}}();function Th(t){this.g=t||xh,t=Mc.PerformanceNavigationTiming?0<(t=Mc.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Mc.ia&&Mc.ia.ya&&Mc.ia.ya()&&Mc.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var xh=10;function kh(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ih(t){return t.b?1:t.a?t.a.size:0}function Ph(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ah(t,e){t.a?t.a.add(e):t.b=e}function jh(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Mh(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ic(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Xc(t.c)}function Dh(){}function Nh(){this.a=new Dh}function Rh(t,e,n){var r=n||"";try{Jl(t,function(t,n){var i=t;Rc(t)&&(i=Ju(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(zO){throw e.push(r+"type="+encodeURIComponent("_badmap")),zO}}function Lh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Th.prototype.cancel=function(){var t,e;if(this.c=Mh(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ic(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Dh.prototype.stringify=function(t){return Mc.JSON.stringify(t,void 0)},Dh.prototype.parse=function(t){return Mc.JSON.parse(t,void 0)};var Fh=Mc.JSON.parse;function Uh(t){Xu.call(this),this.headers=new Zl,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Vh,this.D=this.F=!1}qc(Uh,Xu);var Vh="",Bh=/^https?$/i,zh=["POST","PUT"];function Hh(t){return"content-type"==t.toLowerCase()}function qh(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Wh(t),$h(t)}function Wh(t){t.u||(t.u=!0,Ku(t,"complete"),Ku(t,"error"))}function Yh(t){if(t.b&&void 0!==jc&&(!t.s[1]||4!=Xh(t)||2!=t.W()))if(t.l&&4==Xh(t))hl(t.za,0,t);else if(Ku(t,"readystatechange"),4==Xh(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(nh)[1]||null;if(!s&&Mc.self&&Mc.self.location){var o=Mc.self.location.protocol;s=o.substr(0,o.length-1)}i=!Bh.test(s?s.toLowerCase():"")}e=i}if(e)Ku(t,"complete"),Ku(t,"success");else{t.h=6;try{var a=2<Xh(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Wh(t)}}finally{$h(t)}}}function $h(t,e){if(t.a){Gh(t);var n=t.a,r=t.s[0]?Dc:null;t.a=null,t.s=null,e||Ku(t,"ready");try{n.onreadystatechange=r}catch(zO){}}}function Gh(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Mc.clearTimeout(t.m),t.m=null)}function Xh(t){return t.a?t.a.readyState:0}function Kh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ru(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):uh(t,e,n))}function Qh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Jh(t){this.pa=0,this.g=[],this.c=new vl,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Qh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Qh("baseRetryDelayMs",5e3,t),this.Ra=Qh("retryDelaySeedMs",1e4,t),this.Ma=Qh("forwardChannelMaxRetries",2,t),this.ma=Qh("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Th(t&&t.concurrentRequestLimit),this.ka=new Nh,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Zh(t){if(ed(t),3==t.v){var e=t.R++,n=ih(t.B);uh(n,"SID",t.J),uh(n,"RID",e),uh(n,"TYPE","terminate"),sd(t,n),(e=new Fl(t,t.c,e,void 0)).H=2,e.i=lh(ih(n)),n=!1,Mc.navigator&&Mc.navigator.sendBeacon&&(n=Mc.navigator.sendBeacon(e.i.toString(),"")),!n&&Mc.Image&&((new Image).src=e.i,n=!0),n||(e.a=yd(e.g,null),e.a.ba(e.i)),e.u=Hc(),Yl(e)}gd(t)}function td(t){t.a&&(ud(t),t.a.cancel(),t.a=null)}function ed(t){td(t),t.j&&(Mc.clearTimeout(t.j),t.j=null),hd(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Mc.clearTimeout(t.h),t.h=null)}function nd(t,e){t.g.push(new Ch(t.Oa++,e)),3==t.v&&rd(t)}function rd(t){kh(t.b)||t.h||(t.h=!0,sl(t.Ba,t),t.u=0)}function id(t,e){var n;n=e?e.f:t.R++;var r=ih(t.B);uh(r,"SID",t.J),uh(r,"RID",n),uh(r,"AID",t.P),sd(t,r),t.i&&t.l&&Kh(r,t.i,t.l),n=new Fl(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=od(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ah(t.b,n),zl(n,r,e)}function sd(t,e){t.f&&Jl({},function(t,n){uh(e,n,t)})}function od(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Bc(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=s))s=Math.max(0,i[c].b-100),a=!1;else try{Rh(l,o,"req"+u+"_")}catch(Zd){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ad(t){t.a||t.j||(t.T=1,sl(t.Aa,t),t.o=0)}function cd(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=kl(Bc(t.Aa,t),fd(t,t.o)),t.o++,0))}function ud(t){null!=t.s&&(Mc.clearTimeout(t.s),t.s=null)}function ld(t){t.a=new Fl(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ih(t.la);uh(e,"RID","rpc"),uh(e,"SID",t.J),uh(e,"CI",t.H?"0":"1"),uh(e,"AID",t.P),sd(t,e),uh(e,"TYPE","xmlhttp"),t.i&&t.l&&Kh(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=lh(ih(e)),n.j=null,n.I=!0,Hl(n,t)}function hd(t){null!=t.m&&(Mc.clearTimeout(t.m),t.m=null)}function dd(t,e){var n=null;if(t.a==e){hd(t),ud(t),t.a=null;var r=2}else{if(!Ph(t.b,e))return;n=e.s,jh(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Hc()-e.u;var i=t.u;Ku(r=Ol(),new xl(r,n,e,i)),rd(t)}else ad(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ih(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=kl(Bc(t.Ba,t,e),fd(t,t.u)),t.u++,0)))}(t,e)||2==r&&cd(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:pd(t,5);break;case 4:pd(t,10);break;case 3:pd(t,6);break;default:pd(t,2)}}function fd(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function pd(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Bc(t.Ya,t);n||(n=new rh("//www.google.com/images/cleardot.gif"),Mc.location&&"http"==Mc.location.protocol||sh(n,"https"),lh(n)),function(t,e){var n=new vl;if(Mc.Image){var r=new Image;r.onload=zc(Lh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zc(Lh,n,r,"TestLoadImage: error",!1,e),r.onabort=zc(Lh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zc(Lh,n,r,"TestLoadImage: timeout",!1,e),Mc.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Tl(2);t.v=0,t.f&&t.f.ra(e),gd(t),ed(t)}function gd(t){t.v=0,t.I=-1,t.f&&(0==Mh(t.b).length&&0==t.g.length||(t.b.c.length=0,Xc(t.g),t.g.length=0),t.f.qa())}function md(t,e,n){var r=function(t){return t instanceof rh?ih(t):new rh(t,void 0)}(n);if(""!=r.c)e&&oh(r,e+"."+r.c),ah(r,r.h);else{var i=Mc.location;r=function(t,e,n,r){var i=new rh(null,void 0);return t&&sh(i,t),e&&oh(i,e),n&&ah(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ru(t.V,function(t,e){uh(r,e,t)}),n=t.na,(e=t.A)&&n&&uh(r,e,n),uh(r,"VER",t.ha),sd(t,r),r}function yd(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Uh(t.Na)).F=t.C,e}function vd(){}function bd(){if(hu&&!(10<=Number(Ou)))throw Error("Environmental error: no available transport.")}function _d(t,e){Xu.call(this),this.a=new Jh(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Kc(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kc(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Sd(this)}function wd(t){Nl.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Od(){Rl.call(this),this.status=1}function Sd(t){this.a=t}(Pc=Uh.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ml),this.a.onreadystatechange=Bc(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void qh(this,s)}t=n||"";var i=new Zl(this.headers);r&&Jl(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Hh,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Mc.FormData&&t instanceof Mc.FormData,!(0<=Yc(zh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Gh(this),0<this.o&&((this.D=function(t){return hu&&wu(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Bc(this.xa,this)):this.m=hl(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){qh(this,s)}},Pc.xa=function(){void 0!==jc&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ku(this,"timeout"),this.abort(8))},Pc.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ku(this,"complete"),Ku(this,"abort"),$h(this))},Pc.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),$h(this,!0)),Uh.X.G.call(this)},Pc.za=function(){this.j||(this.A||this.l||this.g?Yh(this):this.Ua())},Pc.Ua=function(){Yh(this)},Pc.W=function(){try{return 2<Xh(this)?this.a.status:-1}catch(uu){return-1}},Pc.$=function(){try{return this.a?this.a.responseText:""}catch(uu){return""}},Pc.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Fh(e)}},Pc.ua=function(){return this.h},Pc.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Pc=Jh.prototype).ha=8,Pc.v=1,Pc.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Fl(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ou(r=iu(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=od(this,n,e),uh(i=ih(this.B),"RID",t),uh(i,"CVER",22),this.A&&uh(i,"X-HTTP-Session-Id",this.A),sd(this,i),this.i&&r&&Kh(i,this.i,r),Ah(this.b,n),this.Ia&&uh(i,"TYPE","init"),this.da?(uh(i,"$req",e),uh(i,"SID","null"),n.U=!0,zl(n,i,null)):zl(n,i,e),this.v=2}}else 3==this.v&&(t?id(this,t):0==this.g.length||kh(this.b)||id(this))},Pc.Aa=function(){if(this.j=null,ld(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=kl(Bc(this.Ta,this),t)}},Pc.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Tl(10),td(this),ld(this))},Pc.Sa=function(){null!=this.m&&(this.m=null,td(this),cd(this),Tl(19))},Pc.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Tl(2)):(this.c.info("Failed to ping google.com"),Tl(1))},(Pc=vd.prototype).ta=function(){},Pc.sa=function(){},Pc.ra=function(){},Pc.qa=function(){},Pc.Ja=function(){},bd.prototype.a=function(t,e){return new _d(t,e)},qc(_d,Xu),_d.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Tl(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=md(t,null,t.fa),rd(t)},_d.prototype.close=function(){Zh(this.a)},_d.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,nd(this.a,e)}else this.l?((e={}).__data__=Ju(t),nd(this.a,e)):nd(this.a,t)},_d.prototype.G=function(){this.a.f=null,delete this.f,Zh(this.a),delete this.a,_d.X.G.call(this)},qc(wd,Nl),qc(Od,Rl),qc(Sd,vd),Sd.prototype.ta=function(){Ku(this.a,"a")},Sd.prototype.sa=function(t){Ku(this.a,new wd(t))},Sd.prototype.ra=function(t){Ku(this.a,new Od(t))},Sd.prototype.qa=function(){Ku(this.a,"b")},bd.prototype.createWebChannel=bd.prototype.a,_d.prototype.send=_d.prototype.h,_d.prototype.open=_d.prototype.g,_d.prototype.close=_d.prototype.close,Il.NO_ERROR=0,Il.TIMEOUT=8,Il.HTTP_ERROR=6,Pl.COMPLETE="complete",jl.EventType=Dl,Dl.OPEN="a",Dl.CLOSE="b",Dl.ERROR="c",Dl.MESSAGE="d",Xu.prototype.listen=Xu.prototype.va,Uh.prototype.listenOnce=Uh.prototype.wa,Uh.prototype.getLastError=Uh.prototype.Qa,Uh.prototype.getLastErrorCode=Uh.prototype.ua,Uh.prototype.getStatus=Uh.prototype.W,Uh.prototype.getResponseJson=Uh.prototype.Pa,Uh.prototype.getResponseText=Uh.prototype.$,Uh.prototype.send=Uh.prototype.ba;var Ed=Il,Cd=Pl,Td=_l,xd=jl,kd=Uh,Id=n("30Go"),Pd=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Ad=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),jd=new Tc.b("@firebase/firestore");function Md(){return jd.logLevel}function Dd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jd.logLevel<=Tc.a.DEBUG){var r=e.map(Ld);jd.debug.apply(jd,Object(Id.g)(["Firestore (8.2.9): "+t],r))}}function Nd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jd.logLevel<=Tc.a.ERROR){var r=e.map(Ld);jd.error.apply(jd,Object(Id.g)(["Firestore (8.2.9): "+t],r))}}function Rd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jd.logLevel<=Tc.a.WARN){var r=e.map(Ld);jd.warn.apply(jd,Object(Id.g)(["Firestore (8.2.9): "+t],r))}}function Ld(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(zO){return t}}function Fd(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Nd(e),new Error(e)}function Ud(t,e){t||Fd()}function Vd(t,e){return t}function Bd(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var zd=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Bd(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Hd(t,e){return t<e?-1:t>e?1:0}function qd(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Wd(t){return t+"\0"}var Yd=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Hd(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Yd.T=new Yd("");var $d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Id.c)(e,t),e}(Error),Xd=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Yd.fromBase64String(e))}catch(e){throw new Gd($d.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Yd.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),Kd=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Kd.UNAUTHENTICATED=new Kd(null),Kd.R=new Kd("google-credentials-uid"),Kd.P=new Kd("first-party-uid");var Qd=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Jd=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(Kd.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),Zd=function(){function t(t){var e=this;this.D=null,this.currentUser=Kd.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(Dd("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ud("string"==typeof n.accessToken),new Qd(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Ud(null===t||"string"==typeof t),new Kd(t)},t}(),tf=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=Kd.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ef=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new tf(this.F,this.O))},t.prototype.v=function(t){t(Kd.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),nf=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();nf.q=-1;var rf=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Gd($d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Gd($d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Gd($d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gd($d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Hd(this.nanoseconds,t.nanoseconds):Hd(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),sf=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new rf(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),of=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Fd(),void 0===n?n=t.length-e:n>t.length-e&&Fd(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),af=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Id.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Gd($d.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(of),cf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,uf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Id.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return cf.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Gd($d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Gd($d.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Gd($d.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Gd($d.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(of),lf=function(){function t(t){this.path=t}return t._t=function(e){return new t(af.ot(e))},t.ft=function(e){return new t(af.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===af.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return af.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new af(e.slice()))},t}();function hf(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function df(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ff(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var pf=function(){function t(t){this.fields=t,t.sort(uf.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return qd(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),gf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mf(t){if(Ud(!!t),"string"==typeof t){var e=0,n=gf.exec(t);if(Ud(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yf(t.seconds),nanos:yf(t.nanos)}}function yf(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function vf(t){return"string"==typeof t?Yd.fromBase64String(t):Yd.fromUint8Array(t)}function bf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _f(t){var e=t.mapValue.fields.__previous_value__;return bf(e)?_f(e):e}function wf(t){var e=mf(t.mapValue.fields.__local_write_time__.timestampValue);return new rf(e.seconds,e.nanos)}function Of(t){return null==t}function Sf(t){return 0===t&&1/t==-1/0}function Ef(t){return"number"==typeof t&&Number.isInteger(t)&&!Sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Cf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bf(t)?4:10:Fd()}function Tf(t,e){var n=Cf(t);if(n!==Cf(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wf(t).isEqual(wf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=mf(t.timestampValue),r=mf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return vf(t.bytesValue).isEqual(vf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return yf(t.geoPointValue.latitude)===yf(e.geoPointValue.latitude)&&yf(t.geoPointValue.longitude)===yf(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return yf(t.integerValue)===yf(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=yf(t.doubleValue),r=yf(e.doubleValue);return n===r?Sf(n)===Sf(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return qd(t.arrayValue.values||[],e.arrayValue.values||[],Tf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(hf(n)!==hf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Tf(n[i],r[i])))return!1;return!0}(t,e);default:return Fd()}}function xf(t,e){return void 0!==(t.values||[]).find(function(t){return Tf(t,e)})}function kf(t,e){var n=Cf(t),r=Cf(e);if(n!==r)return Hd(n,r);switch(n){case 0:return 0;case 1:return Hd(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=yf(t.integerValue||t.doubleValue),r=yf(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return If(t.timestampValue,e.timestampValue);case 4:return If(wf(t),wf(e));case 5:return Hd(t.stringValue,e.stringValue);case 6:return function(t,e){var n=vf(t),r=vf(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Hd(n[i],r[i]);if(0!==s)return s}return Hd(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Hd(yf(t.latitude),yf(e.latitude));return 0!==n?n:Hd(yf(t.longitude),yf(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=kf(n[i],r[i]);if(s)return s}return Hd(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Hd(r[o],s[o]);if(0!==a)return a;var c=kf(n[r[o]],i[s[o]]);if(0!==c)return c}return Hd(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Fd()}}function If(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Hd(t,e);var n=mf(t),r=mf(e),i=Hd(n.seconds,r.seconds);return 0!==i?i:Hd(n.nanos,r.nanos)}function Pf(t){return Af(t)}function Af(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=mf(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vf(t.bytesValue).toBase64():"referenceValue"in t?lf.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Af(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Af(t.fields[s])}return e+"}"}(t.mapValue):Fd();var e}function jf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Mf(t){return!!t&&"integerValue"in t}function Df(t){return!!t&&"arrayValue"in t}function Nf(t){return!!t&&"nullValue"in t}function Rf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lf(t){return!!t&&"mapValue"in t}var Ff=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Lf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Tf(this.proto,t.proto)},t}(),Uf=function(){function t(t){void 0===t&&(t=Ff.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Cf(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(uf.ct(),this.At);return null!=t?new Ff(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),s=Lf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.yt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function Vf(t){var e=[];return df(t.fields||{},function(t,n){var r=new uf([t]);if(Lf(n)){var i=Vf(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new pf(e)}var Bf=function(t,e){this.key=t,this.version=e},zf=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).gt=r,s.Vt=!!i.Vt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Id.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Bf),Hf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Id.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Bf),qf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Id.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Bf),Wf=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.vt=null};function Yf(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Wf(t,e,n,r,i,s,o)}function $f(t){var e=Vd(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+Pf(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=op(e.startAt)),e.endAt&&(n+="|ub:",n+=op(e.endAt)),e.vt=n}return e.vt}function Gf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!cp(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Tf(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lp(t.startAt,e.startAt)&&lp(t.endAt,e.endAt)}function Xf(t){return lf.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Kf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Id.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Qf(t,n,r):"array-contains"===n?new ep(t,r):"in"===n?new np(t,r):"not-in"===n?new rp(t,r):"array-contains-any"===n?new ip(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Jf(t,n):new Zf(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(kf(e,this.value)):null!==e&&Cf(this.value)===Cf(e)&&this.Dt(kf(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Fd()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Qf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=lf.ft(r.referenceValue),i}return Object(Id.c)(e,t),e.prototype.matches=function(t){var e=lf.H(t.key,this.key);return this.Dt(e)},e}(Kf),Jf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=tp(0,n),r}return Object(Id.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Kf),Zf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=tp(0,n),r}return Object(Id.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Kf);function tp(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return lf.ft(t.referenceValue)})}var ep=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Id.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Df(e)&&xf(e.arrayValue,this.value)},e}(Kf),np=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Id.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&xf(this.value.arrayValue,e)},e}(Kf),rp=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Id.c)(e,t),e.prototype.matches=function(t){if(xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!xf(this.value.arrayValue,e)},e}(Kf),ip=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Id.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Df(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return xf(e.value.arrayValue,t)})},e}(Kf),sp=function(t,e){this.position=t,this.before=e};function op(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Pf(t)}).join(",")}var ap=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function cp(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function up(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ut()?lf.H(lf.ft(o.referenceValue),n.key):kf(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function lp(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Tf(t.position[n],e.position[n]))return!1;return!0}var hp=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Nt=null,this.$t=null};function dp(t,e,n,r,i,s,o,a){return new hp(t,e,n,r,i,s,o,a)}function fp(t){return new hp(t)}function pp(t){return!Of(t.limit)&&"F"===t.limitType}function gp(t){return!Of(t.limit)&&"L"===t.limitType}function mp(t){return t.xt.length>0?t.xt[0].field:null}function yp(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function vp(t){return null!==t.collectionGroup}function bp(t){var e=Vd(t);if(null===e.Nt){e.Nt=[];var n=yp(e),r=mp(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new ap(n)),e.Nt.push(new ap(uf.ht(),"asc"));else{for(var i=!1,s=0,o=e.xt;s<o.length;s++){var a=o[s];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var c=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new ap(uf.ht(),c))}}}return e.Nt}function _p(t){var e=Vd(t);if(!e.$t)if("F"===e.limitType)e.$t=Yf(e.path,e.collectionGroup,bp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=bp(e);r<i.length;r++){var s=i[r];n.push(new ap(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new sp(e.endAt.position,!e.endAt.before):null,a=e.startAt?new sp(e.startAt.position,!e.startAt.before):null;e.$t=Yf(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.$t}function wp(t,e,n){return new hp(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Op(t,e){return Gf(_p(t),_p(e))&&t.limitType===e.limitType}function Sp(t){return $f(_p(t))+"|lt:"+t.limitType}function Ep(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+Pf(e.value);var e}).join(", ")+"]"),Of(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+op(t.startAt)),t.endAt&&(e+=", endAt: "+op(t.endAt)),"Target("+e+")"}(_p(t))+"; limitType="+t.limitType+")"}function Cp(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):lf.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!up(t.startAt,bp(t),e)||t.endAt&&up(t.endAt,bp(t),e))}(t,e)}function Tp(t){return function(e,n){for(var r=!1,i=0,s=bp(t);i<s.length;i++){var o=s[i],a=xp(o,e,n);if(0!==a)return a;r=r||o.field.ut()}return 0}}function xp(t,e,n){var r=t.field.ut()?lf.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?kf(r,i):Fd()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fd()}}var kp=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=sf.min()),void 0===s&&(s=sf.min()),void 0===o&&(o=Yd.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function Ip(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function Pp(t){return{integerValue:""+t}}function Ap(t,e){return Ef(e)?Pp(e):Ip(t,e)}var jp=function(){this.qt=void 0};function Mp(t,e,n){return t instanceof Rp?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Lp?Fp(t,e):t instanceof Up?Vp(t,e):function(t,e){var n=Np(t,e),r=zp(n)+zp(t.Ut);return Mf(n)&&Mf(t.Ut)?Pp(r):Ip(t.Qt,r)}(t,e)}function Dp(t,e,n){return t instanceof Lp?Fp(t,e):t instanceof Up?Vp(t,e):n}function Np(t,e){return t instanceof Bp?Mf(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Rp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Id.c)(e,t),e}(jp),Lp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Id.c)(e,t),e}(jp);function Fp(t,e){for(var n=Hp(e),r=function(t){n.some(function(e){return Tf(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Up=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Id.c)(e,t),e}(jp);function Vp(t,e){for(var n=Hp(e),r=function(t){n=n.filter(function(e){return!Tf(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Bp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(Id.c)(e,t),e}(jp);function zp(t){return yf(t.integerValue||t.doubleValue)}function Hp(t){return Df(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var qp=function(t,e){this.field=t,this.transform=e},Wp=function(t,e){this.version=t,this.transformResults=e},Yp=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function $p(t,e){return void 0!==t.updateTime?e instanceof zf&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof zf}var Gp=function(){};function Xp(t,e,n){return t instanceof tg?function(t,e,n){var r=t.value;if(n.transformResults){var i=rg(t.fieldTransforms,e,n.transformResults);r=sg(t.fieldTransforms,r,i)}return new zf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof eg?function(t,e,n){if(!$p(t.jt,e))return new qf(t.key,n.version);var r=ng(t,e,n.transformResults?rg(t.fieldTransforms,e,n.transformResults):[]);return new zf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Hf(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Kp(t,e,n){return t instanceof tg?function(t,e,n){if(!$p(t.jt,e))return e;var r=t.value,i=ig(t.fieldTransforms,n,e);r=sg(t.fieldTransforms,r,i);var s=Zp(e);return new zf(t.key,s,r,{Vt:!0})}(t,e,n):t instanceof eg?function(t,e,n){if(!$p(t.jt,e))return e;var r=Zp(e),i=ng(t,e,ig(t.fieldTransforms,n,e));return new zf(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return $p(t.jt,e)?new Hf(t.key,sf.min()):e}(t,e)}function Qp(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof zf?e.field(s.field):void 0,a=Np(s.transform,o||null);null!=a&&(n=null==n?(new Uf).set(s.field,a):n.set(s.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function Jp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&qd(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Lp&&e instanceof Lp||t instanceof Up&&e instanceof Up?qd(t.elements,e.elements,Tf):t instanceof Bp&&e instanceof Bp?Tf(t.Ut,e.Ut):t instanceof Rp&&e instanceof Rp}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function Zp(t){return t instanceof zf?t.version:sf.min()}var tg=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.jt=r,s.fieldTransforms=i,s.type=0,s}return Object(Id.c)(e,t),e}(Gp),eg=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Gt=r,o.jt=i,o.fieldTransforms=s,o.type=1,o}return Object(Id.c)(e,t),e}(Gp);function ng(t,e,n){var r;return r=function(t,e){var n=new Uf(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof zf?e.data():Ff.empty()),sg(t.fieldTransforms,r,n)}function rg(t,e,n){var r=[];Ud(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof zf&&(a=e.field(s.field)),r.push(Dp(o,a,n[i]))}return r}function ig(t,e,n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,c=null;n instanceof zf&&(c=n.field(o.field)),r.push(Mp(a,c,e))}return r}function sg(t,e,n){for(var r=new Uf(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var og,ag,cg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(Id.c)(e,t),e}(Gp),ug=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(Id.c)(e,t),e}(Gp),lg=function(t){this.count=t};function hg(t){switch(t){case $d.OK:return Fd();case $d.CANCELLED:case $d.UNKNOWN:case $d.DEADLINE_EXCEEDED:case $d.RESOURCE_EXHAUSTED:case $d.INTERNAL:case $d.UNAVAILABLE:case $d.UNAUTHENTICATED:return!1;case $d.INVALID_ARGUMENT:case $d.NOT_FOUND:case $d.ALREADY_EXISTS:case $d.PERMISSION_DENIED:case $d.FAILED_PRECONDITION:case $d.ABORTED:case $d.OUT_OF_RANGE:case $d.UNIMPLEMENTED:case $d.DATA_LOSS:return!0;default:return Fd()}}function dg(t){if(void 0===t)return Nd("GRPC error has no .code"),$d.UNKNOWN;switch(t){case og.OK:return $d.OK;case og.CANCELLED:return $d.CANCELLED;case og.UNKNOWN:return $d.UNKNOWN;case og.DEADLINE_EXCEEDED:return $d.DEADLINE_EXCEEDED;case og.RESOURCE_EXHAUSTED:return $d.RESOURCE_EXHAUSTED;case og.INTERNAL:return $d.INTERNAL;case og.UNAVAILABLE:return $d.UNAVAILABLE;case og.UNAUTHENTICATED:return $d.UNAUTHENTICATED;case og.INVALID_ARGUMENT:return $d.INVALID_ARGUMENT;case og.NOT_FOUND:return $d.NOT_FOUND;case og.ALREADY_EXISTS:return $d.ALREADY_EXISTS;case og.PERMISSION_DENIED:return $d.PERMISSION_DENIED;case og.FAILED_PRECONDITION:return $d.FAILED_PRECONDITION;case og.ABORTED:return $d.ABORTED;case og.OUT_OF_RANGE:return $d.OUT_OF_RANGE;case og.UNIMPLEMENTED:return $d.UNIMPLEMENTED;case og.DATA_LOSS:return $d.DATA_LOSS;default:return Fd()}}(ag=og||(og={}))[ag.OK=0]="OK",ag[ag.CANCELLED=1]="CANCELLED",ag[ag.UNKNOWN=2]="UNKNOWN",ag[ag.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ag[ag.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ag[ag.NOT_FOUND=5]="NOT_FOUND",ag[ag.ALREADY_EXISTS=6]="ALREADY_EXISTS",ag[ag.PERMISSION_DENIED=7]="PERMISSION_DENIED",ag[ag.UNAUTHENTICATED=16]="UNAUTHENTICATED",ag[ag.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ag[ag.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ag[ag.ABORTED=10]="ABORTED",ag[ag.OUT_OF_RANGE=11]="OUT_OF_RANGE",ag[ag.UNIMPLEMENTED=12]="UNIMPLEMENTED",ag[ag.INTERNAL=13]="INTERNAL",ag[ag.UNAVAILABLE=14]="UNAVAILABLE",ag[ag.DATA_LOSS=15]="DATA_LOSS";var fg=function(){function t(t,e){this.H=t,this.root=e||gg.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,gg.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,gg.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new pg(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new pg(this.root,t,this.H,!1)},t.prototype.ne=function(){return new pg(this.root,null,this.H,!0)},t.prototype.se=function(t){return new pg(this.root,t,this.H,!0)},t}(),pg=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),gg=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Fd();if(this.right.le())throw Fd();var t=this.left.Ie();if(t!==this.right.Ie())throw Fd();return t+(this.le()?0:1)},t}();gg.EMPTY=null,gg.RED=!0,gg.Ht=!1,gg.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Fd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Fd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Fd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Fd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Fd()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new gg(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var mg=function(){function t(t){this.H=t,this.data=new fg(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new yg(this.data.te())},t.prototype.ee=function(t){return new yg(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(0!==this.H(i,s))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),yg=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),vg=new fg(lf.H);function bg(){return vg}function _g(){return bg()}var wg=new fg(lf.H);function Og(){return wg}var Sg=new fg(lf.H);function Eg(){return Sg}var Cg=new mg(lf.H);function Tg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Cg,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var xg=new mg(Hd);function kg(){return xg}var Ig=function(){function t(t){this.H=t?function(e,n){return t(e,n)||lf.H(e.key,n.key)}:function(t,e){return lf.H(t.key,e.key)},this.ge=Og(),this.Ve=new fg(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Pg=function(){function t(){this.be=new fg(lf.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Fd():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),Ag=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=s,this.Ce=o,this.xe=a}return t.Ne=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Ig.pe(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Op(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),jg=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Mg.Le(e,n)),new t(sf.min(),r,kg(),bg(),Tg())},t}(),Mg=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Yd.T,n,Tg(),Tg(),Tg())},t}(),Dg=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Ng=function(t,e){this.targetId=t,this.je=e},Rg=function(t,e,n,r){void 0===n&&(n=Yd.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Lg=function(){function t(){this.Ge=0,this.ze=Vg(),this.He=Yd.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Tg(),e=Tg(),n=Tg();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Fd()}}),new Mg(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Vg()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Fg=function(){function t(t){this.un=t,this.hn=new Map,this.ln=bg(),this._n=Ug(),this.fn=new mg(Hd)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof zf?this.wn(r,t.We):t.We instanceof Hf&&this.En(r,t.key,t.We)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.En(r=s[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Fd()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(Xf(i))if(0===n){var s=new lf(i.path);this.En(e,s,new Hf(s,sf.min()))}else Ud(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var s=e.yn(i);if(s){if(r.Be&&Xf(s.target)){var o=new lf(s.target.path);null!==e.ln.get(o)||e.pn(i,o)||e.En(i,o,new Hf(o,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=Tg();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new jg(t,n,this.fn,this.ln,r);return this.ln=bg(),this._n=Ug(),this.fn=new mg(Hd),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Lg,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new mg(Hd),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Dd("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Lg),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Ug(){return new fg(lf.H)}function Vg(){return new fg(lf.H)}var Bg={asc:"ASCENDING",desc:"DESCENDING"},zg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hg=function(t,e){this.t=t,this.Bt=e};function qg(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wg(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Yg(t,e){return qg(t,e.j())}function $g(t){return Ud(!!t),sf.K(function(t){var e=mf(t);return new rf(e.seconds,e.nanos)}(t))}function Gg(t,e){return function(t){return new af(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Xg(t){var e=af.ot(t);return Ud(bm(e)),e}function Kg(t,e){return Gg(t.t,e.path)}function Qg(t,e){var n=Xg(e);if(n.get(1)!==t.t.projectId)throw new Gd($d.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Gd($d.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new lf(em(n))}function Jg(t,e){return Gg(t.t,e)}function Zg(t){var e=Xg(t);return 4===e.length?af.ct():em(e)}function tm(t){return new af(["projects",t.t.projectId,"databases",t.t.database]).rt()}function em(t){return Ud(t.length>4&&"documents"===t.get(4)),t.Y(5)}function nm(t,e,n){return{name:Kg(t,e),fields:n.proto.mapValue.fields}}function rm(t,e,n){var r=Qg(t,e.name),i=$g(e.updateTime),s=new Ff({mapValue:{fields:e.fields}});return new zf(r,i,s,{hasCommittedMutations:!!n})}function im(t,e){var n;if(e instanceof tg)n={update:nm(t,e.key,e.value)};else if(e instanceof cg)n={delete:Kg(t,e.key)};else if(e instanceof eg)n={update:nm(t,e.key,e.data),updateMask:vm(e.Gt)};else{if(!(e instanceof ug))return Fd();n={verify:Kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Rp)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lp)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Up)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Bp)return{fieldPath:e.field.rt(),increment:n.Ut};throw Fd()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Yg(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Fd()}(t,e.jt)),n}function sm(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Yp.updateTime($g(t.updateTime)):void 0!==t.exists?Yp.exists(t.exists):Yp.Kt()}(e.currentDocument):Yp.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ud("REQUEST_TIME"===e.setToServerValue),n=new Rp):"appendMissingElements"in e?n=new Lp(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Up(e.removeAllFromArray.values||[]):"increment"in e?n=new Bp(t,e.increment):Fd();var r=uf.lt(e.fieldPath);return new qp(r,n)}(t,e)}):[];if(e.update){var i=Qg(t,e.update.name),s=new Ff({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new pf((t.fieldPaths||[]).map(function(t){return uf.lt(t)}))}(e.updateMask);return new eg(i,s,o,n,r)}return new tg(i,s,n,r)}if(e.delete){var a=Qg(t,e.delete);return new cg(a,n)}if(e.verify){var c=Qg(t,e.verify);return new ug(c,n)}return Fd()}function om(t,e){return{documents:[Jg(t,e.path)]}}function am(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Jg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Jg(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Rf(t.value))return{unaryFilter:{field:pm(t.field),op:"IS_NAN"}};if(Nf(t.value))return{unaryFilter:{field:pm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Rf(t.value))return{unaryFilter:{field:pm(t.field),op:"IS_NOT_NAN"}};if(Nf(t.value))return{unaryFilter:{field:pm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pm(t.field),op:fm(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:pm(t.field),direction:dm(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Bt||Of(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=lm(e.startAt)),e.endAt&&(n.structuredQuery.endAt=lm(e.endAt)),n}function cm(t){var e=Zg(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ud(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=um(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ap(gm(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return Of(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=hm(n.startAt));var l=null;return n.endAt&&(l=hm(n.endAt)),dp(e,i,a,o,c,"F",u,l)}function um(t){return t?void 0!==t.unaryFilter?[ym(t)]:void 0!==t.fieldFilter?[mm(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return um(t)}).reduce(function(t,e){return t.concat(e)}):Fd():[]}function lm(t){return{before:t.before,values:t.position}}function hm(t){return new sp(t.values||[],!!t.before)}function dm(t){return Bg[t]}function fm(t){return zg[t]}function pm(t){return{fieldPath:t.rt()}}function gm(t){return uf.lt(t.fieldPath)}function mm(t){return Kf.create(gm(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Fd()}}(t.fieldFilter.op),t.fieldFilter.value)}function ym(t){switch(t.unaryFilter.op){case"IS_NAN":var e=gm(t.unaryFilter.field);return Kf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=gm(t.unaryFilter.field);return Kf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gm(t.unaryFilter.field);return Kf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gm(t.unaryFilter.field);return Kf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Fd()}}function vm(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function bm(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var _m=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},wm=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Fd(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),Om=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new _m,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new Cm(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=Pm(e.target.error);n.Bn.reject(new Cm(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Cm(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Dd("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new xm(e)},t}(),Sm=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(xc.g)())&&Nd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Dd("SimpleDb","Removing database:",t),km(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(xc.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(Id.b)(this,void 0,void 0,function(){var e,n=this;return Object(Id.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Dd("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Cm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Gd($d.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Cm(t,n))},i.onupgradeneeded=function(t){Dd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Dd("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Id.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(Id.d)(this,function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(Id.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=Om.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),wm.reject(t)}).On(),c={},o.catch(function(){}),[4,e.qn];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return Dd("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Em=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return km(this.Zn.delete())},t}(),Cm=function(t){function e(e,n){var r=this;return(r=t.call(this,$d.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Id.c)(e,t),e}(Gd);function Tm(t){return"IndexedDbTransactionError"===t.name}var xm=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Dd("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Dd("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),km(n)},t.prototype.add=function(t){return Dd("SimpleDb","ADD",this.store.name,t,t),km(this.store.add(t))},t.prototype.get=function(t){var e=this;return km(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Dd("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Dd("SimpleDb","DELETE",this.store.name,t),km(this.store.delete(t))},t.prototype.count=function(){return Dd("SimpleDb","COUNT",this.store.name),km(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){Dd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new wm(function(n,r){e.onerror=function(t){var e=Pm(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new wm(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Em(i),o=e(i.primaryKey,i.value,s);if(o instanceof wm){var a=o.catch(function(t){return s.done(),wm.reject(t)});n.push(a)}s.xn?r():null===s.ns?i.continue():i.continue(s.ns)}else r()}}).next(function(){return wm.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function km(t){return new wm(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Pm(t.target.error);n(e)}})}var Im=!1;function Pm(t){var e=Sm.Qn(Object(xc.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Gd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Im||(Im=!0,setTimeout(function(){throw r},0)),r}}return t}var Am=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new _m,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Gd($d.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function jm(t,e){if(Nd("AsyncQueue",e+": "+t),Tm(t))return new Gd($d.UNAVAILABLE,e+": "+t);throw t}var Mm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dm=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function Nm(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Lm(e)),e=Rm(t.get(n),e);return Lm(e)}function Rm(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Lm(t){return t+"\x01\x01"}function Fm(t){var e=t.length;if(Ud(e>=2),2===e)return Ud("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),af.ct();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Fd(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Fd()}s=o+2}return new af(r)}var Um=function(t,e){this.seconds=t,this.nanoseconds=e},Vm=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Vm.store="owner",Vm.key="owner";var Bm=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Bm.store="mutationQueues",Bm.keyPath="userId";var zm=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};zm.store="mutations",zm.keyPath="batchId",zm.userMutationsIndex="userMutationsIndex",zm.userMutationsKeyPath=["userId","batchId"];var Hm=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Nm(e)]},t.key=function(t,e,n){return[t,Nm(e),n]},t}();Hm.store="documentMutations",Hm.PLACEHOLDER=new Hm;var qm=function(t,e){this.path=t,this.readTime=e},Wm=function(t,e){this.path=t,this.version=e},Ym=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Ym.store="remoteDocuments",Ym.readTimeIndex="readTimeIndex",Ym.readTimeIndexPath="readTime",Ym.collectionReadTimeIndex="collectionReadTimeIndex",Ym.collectionReadTimeIndexPath=["parentPath","readTime"];var $m=function(t){this.byteSize=t};$m.store="remoteDocumentGlobal",$m.key="remoteDocumentGlobalKey";var Gm=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Gm.store="targets",Gm.keyPath="targetId",Gm.queryTargetsIndexName="queryTargetsIndex",Gm.queryTargetsKeyPath=["canonicalId","targetId"];var Xm=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Xm.store="targetDocuments",Xm.keyPath=["targetId","path"],Xm.documentTargetsIndex="documentTargetsIndex",Xm.documentTargetsKeyPath=["path","targetId"];var Km=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Km.key="targetGlobalKey",Km.store="targetGlobal";var Qm=function(t,e){this.collectionId=t,this.parent=e};Qm.store="collectionParents",Qm.keyPath=["collectionId","parent"];var Jm=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Jm.store="clientMetadata",Jm.keyPath="clientId";var Zm=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Zm.store="bundles",Zm.keyPath="bundleId";var ty=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ty.store="namedQueries",ty.keyPath="name";var ey=Object(Id.g)(Object(Id.g)(Object(Id.g)(Object(Id.g)([Bm.store,zm.store,Hm.store,Ym.store,Gm.store,Vm.store,Km.store,Xm.store],[Jm.store]),[$m.store]),[Qm.store]),[Zm.store,ty.store]),ny=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(Id.c)(e,t),e}(Dm);function ry(t,e){var n=Vd(t);return Sm.zn(n.ps,e)}var iy=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Xp(s,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=Kp(o,e,this.vs));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=Kp(o,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Tg())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&qd(this.mutations,t.mutations,function(t,e){return Jp(t,e)})&&qd(this.baseMutations,t.baseMutations,function(t,e){return Jp(t,e)})},t}(),sy=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){Ud(e.mutations.length===r.length);for(var i=Eg(),s=e.mutations,o=0;o<s.length;o++)i=i.zt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),oy=function(t){this.Fs=t};function ay(t,e){if(e.document)return rm(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=lf.Et(e.noDocument.path),r=dy(e.noDocument.readTime);return new Hf(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=lf.Et(e.unknownDocument.path);return r=dy(e.unknownDocument.version),new qf(i,r)}return Fd()}function cy(t,e,n){var r=uy(n),i=e.key.path.X().it();if(e instanceof zf){var s=function(t,e){return{name:Kg(t,e.key),fields:e.bt().mapValue.fields,updateTime:qg(t,e.version.j())}}(t.Fs,e),o=e.hasCommittedMutations;return new Ym(null,null,s,o,r,i)}if(e instanceof Hf){var a=e.key.path.it(),c=hy(e.version);return o=e.hasCommittedMutations,new Ym(null,new qm(a,c),null,o,r,i)}if(e instanceof qf){var u=e.key.path.it(),l=hy(e.version);return new Ym(new Wm(u,l),null,null,!0,r,i)}return Fd()}function uy(t){var e=t.j();return[e.seconds,e.nanoseconds]}function ly(t){var e=new rf(t[0],t[1]);return sf.K(e)}function hy(t){var e=t.j();return new Um(e.seconds,e.nanoseconds)}function dy(t){var e=new rf(t.seconds,t.nanoseconds);return sf.K(e)}function fy(t,e){for(var n=(e.baseMutations||[]).map(function(e){return sm(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return sm(t.Fs,e)}),s=rf.fromMillis(e.localWriteTimeMs);return new iy(e.batchId,s,n,i)}function py(t){var e,n,r=dy(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?dy(t.lastLimboFreeSnapshotVersion):sf.min();return void 0!==t.query.documents?(Ud(1===(n=t.query).documents.length),e=_p(fp(Zg(n.documents[0])))):e=function(t){return _p(cm(t))}(t.query),new kp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Yd.fromBase64String(t.resumeToken))}function gy(t,e){var n,r=hy(e.Ot),i=hy(e.lastLimboFreeSnapshotVersion);n=Xf(e.target)?om(t.Fs,e.target):am(t.Fs,e.target);var s=e.resumeToken.toBase64();return new Gm(e.targetId,$f(e.target),r,s,e.sequenceNumber,i,n)}function my(t){var e=cm({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wp(e,e.limit,"L"):e}var yy=function(){function t(){}return t.prototype.Os=function(t,e){return vy(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:dy(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return vy(t).put({bundleId:(n=e).id,createTime:hy($g(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return by(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:my(e.bundledQuery),readTime:dy(e.readTime)};var e})},t.prototype.Ls=function(t,e){return by(t).put(function(t){return{name:t.name,readTime:hy($g(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function vy(t){return ry(t,Zm.store)}function by(t){return ry(t,ty.store)}var _y=function(){function t(){this.Bs=new wy}return t.prototype.qs=function(t,e){return this.Bs.add(e),wm.resolve()},t.prototype.Us=function(t,e){return wm.resolve(this.Bs.getEntries(e))},t}(),wy=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new mg(af.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new mg(af.H)).it()},t}(),Oy=function(){function t(){this.Qs=new wy}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var s={collectionId:r,parent:Nm(i)};return Sy(t).put(s)}return wm.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Wd(e),""],!1,!0);return Sy(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Fm(s.parent))}return n})},t}();function Sy(t){return ry(t,Qm.store)}var Ey={Ks:!1,Ws:0,js:0,Gs:0},Cy=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function Ty(t){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(e){if(t.code!==$d.FAILED_PRECONDITION||t.message!==Mm)throw t;return Dd("LocalStore","Unexpectedly lost primary lease"),[2]})})}Cy.Xs=10,Cy.Zs=1e3,Cy.ti=new Cy(41943040,Cy.Xs,Cy.Zs),Cy.ei=new Cy(-1,0,0);var xy=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.si(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){df(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.et=function(){return ff(this.ii)},t}(),ky=function(){function t(){this.ri=new xy(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:sf.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?wm.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function Iy(t,e,n){var r=t.store(zm.store),i=t.store(Hm.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.hs({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){Ud(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Hm.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return wm.Mn(s).next(function(){return u})}function Py(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Fd();e=t.noDocument}return JSON.stringify(e).length}var Ay=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Ud(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return My(t).hs({index:zm.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,s=Dy(t),o=My(t);return o.add({}).next(function(a){Ud("number"==typeof a);for(var c=new iy(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return im(t.Fs,e)}),i=n.mutations.map(function(e){return im(t.Fs,e)});return new zm(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,c),l=[],h=new mg(function(t,e){return Hd(t.rt(),e.rt())}),d=0,f=r;d<f.length;d++){var p=f[d],g=Hm.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),l.push(o.put(u)),l.push(s.put(g,Hm.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[a]=c.keys()}),wm.Mn(l).next(function(){return c})})},t.prototype.Pi=function(t,e){var n=this;return My(t).get(e).next(function(t){return t?(Ud(t.userId===n.userId),fy(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?wm.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return My(t).hs({index:zm.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Ud(e.batchId>=r),s=fy(n.Qt,e)),i.done()}).next(function(){return s})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return My(t).hs({index:zm.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return My(t).rs(zm.userMutationsIndex,n).next(function(t){return t.map(function(t){return fy(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=Hm.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Dy(t).hs({range:i},function(r,i,o){var a=r[0],c=r[2],u=Fm(r[1]);if(a===n.userId&&e.path.isEqual(u))return My(t).get(c).next(function(t){if(!t)throw Fd();Ud(t.userId===n.userId),s.push(fy(n.Qt,t))});o.done()}).next(function(){return s})},t.prototype.vi=function(t,e){var n=this,r=new mg(Hd),i=[];return e.forEach(function(e){var s=Hm.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Dy(t).hs({range:o},function(t,i,s){var o=t[0],a=t[2],c=Fm(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()});i.push(a)}),wm.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,s=Hm.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new mg(Hd);return Dy(t).hs({range:o},function(t,e,s){var o=t[0],c=t[2],u=Fm(t[1]);o===n.userId&&r.nt(u)?u.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.Si(t,a)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(My(t).get(e).next(function(t){if(null===t)throw Fd();Ud(t.userId===n.userId),r.push(fy(n.Qt,t))}))}),wm.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return Iy(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),wm.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return wm.resolve();var r=IDBKeyRange.lowerBound(Hm.prefixForUser(e.userId)),i=[];return Dy(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var s=Fm(t[1]);i.push(s)}else r.done()}).next(function(){Ud(0===i.length)})})},t.prototype.Fi=function(t,e){return jy(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Ny(t).get(this.userId).next(function(t){return t||new Bm(e.userId,-1,"")})},t}();function jy(t,e,n){var r=Hm.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Dy(t).hs({range:s,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function My(t){return ry(t,zm.store)}function Dy(t){return ry(t,Hm.store)}function Ny(t){return ry(t,Bm.store)}var Ry=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Ly=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new Ry(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return sf.K(new rf(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return Fy(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return Ud(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,s=[];return Fy(t).hs(function(o,a){var c=py(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.Ji(t,c)))}).next(function(){return wm.Mn(s)}).next(function(){return i})},t.prototype.In=function(t,e){return Fy(t).hs(function(t,n){var r=py(n);e(r)})},t.prototype.qi=function(t){return Uy(t).get(Km.key).next(function(t){return Ud(null!==t),t})},t.prototype.Ui=function(t,e){return Uy(t).put(Km.key,e)},t.prototype.Gi=function(t,e){return Fy(t).put(gy(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=$f(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fy(t).hs({range:r,index:Gm.queryTargetsIndexName},function(t,n,r){var s=py(n);Gf(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],s=Vy(t);return e.forEach(function(e){var o=Nm(e.path);i.push(s.put(new Xm(n,o))),i.push(r.Ti.nr(t,n,e))}),wm.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=Vy(t);return wm.forEach(e,function(e){var s=Nm(e.path);return wm.Mn([i.delete([n,s]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=Vy(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Vy(t),i=Tg();return r.hs({range:n,us:!0},function(t,e,n){var r=Fm(t[1]),s=new lf(r);i=i.add(s)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=Nm(e.path),r=IDBKeyRange.bound([n],[Wd(n)],!1,!0),i=0;return Vy(t).hs({index:Xm.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return Fy(t).get(e).next(function(t){return t?py(t):null})},t}();function Fy(t){return ry(t,Gm.store)}function Uy(t){return ry(t,Km.store)}function Vy(t){return ry(t,Xm.store)}function By(t,e){var n=t[1],r=e[1],i=Hd(t[0],e[0]);return 0===i?Hd(n,r):i}var zy=function(){function t(t){this.cr=t,this.buffer=new mg(By),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();By(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Hy=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Dd("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(Id.b)(e,void 0,void 0,function(){var e;return Object(Id.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return Tm(e=n.sent())?(Dd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ty(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),qy=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return wm.resolve(nf.q);var r=new zy(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Dd("LruGarbageCollector","Garbage collection skipped; disabled"),wm.resolve(Ey)):this.pr(t).next(function(r){return r<n.params.zs?(Dd("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Ey):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,s,o,a,c,u=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>u.params.Js?(Dd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.Js+" from "+e),r=u.params.Js):r=e,s=Date.now(),u.Pr(t,r)}).next(function(r){return n=r,o=Date.now(),u.Xi(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.gr(t,n)}).next(function(t){return c=Date.now(),Md()<=Tc.a.DEBUG&&Dd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),wm.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),Wy=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new qy(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return Yy(t,n)},t.prototype.ir=function(t,e,n){return Yy(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Yy(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Ny(t).ls(function(r){return jy(t,r,e).next(function(t){return t&&(n=!0),wm.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],s=0;return this.Dr(t,function(o,a){if(a<=e){var c=n.Cr(t,o).next(function(e){if(!e)return s++,r._i(t,o).next(function(){return r.li(o),Vy(t).delete([0,Nm(o.path)])})});i.push(c)}}).next(function(){return wm.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Yy(t,e)},t.prototype.Dr=function(t,e){var n,r=Vy(t),i=nf.q;return r.hs({index:Xm.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==nf.q&&e(new lf(Fm(n)),i),i=o,n=s):i=nf.q}).next(function(){i!==nf.q&&e(new lf(Fm(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Yy(t,e){return Vy(t).put(function(t,e){return new Xm(0,Nm(t.path),e)}(e,t.bs))}var $y=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return Ky(t).put(Qy(e),n)},t.prototype.li=function(t,e){var n=Ky(t),r=Qy(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return Ky(t).get(Qy(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return Ky(t).get(Qy(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:Py(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=_g();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=_g(),i=new fg(lf.H);return this.Br(t,e,function(t,e){var s=n.Mr(e);s?(r=r.zt(t,s),i=i.zt(t,Py(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return wm.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),s=i.oe();return Ky(t).hs({range:r},function(t,e,r){for(var o=lf.Et(t);s&&lf.H(s,o)<0;)n(s,null),s=i.oe();s&&s.isEqual(o)&&(n(s,e),s=i.ce()?i.oe():null),s?r.ss(s.path.it()):r.done()}).next(function(){for(;s;)n(s,null),s=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=Og(),s=e.path.length+1,o={};if(n.isEqual(sf.min())){var a=e.path.it();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.it(),u=uy(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=Ym.collectionReadTimeIndex}return Ky(t).hs(o,function(t,n,o){if(t.length===s){var a=ay(r.Qt,n);e.path.nt(a.key.path)?a instanceof zf&&Cp(e,a)&&(i=i.zt(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new Gy(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Xy(t).get($m.key).next(function(t){return Ud(!!t),t})},t.prototype.kr=function(t,e){return Xy(t).put($m.key,e)},t.prototype.Mr=function(t){if(t){var e=ay(this.Qt,t);return e instanceof Hf&&e.version.isEqual(sf.min())?null:e}return null},t}(),Gy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new xy(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Id.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new mg(function(t,e){return Hd(t.rt(),e.rt())});return this.ri.forEach(function(s,o){var a=e.Gr.get(s);if(o.hi){var c=cy(e.jr.Qt,o.hi,e.ci(s));i=i.add(s.path.X());var u=Py(c);r+=u-a,n.push(e.jr.ai(t,s,c))}else if(r-=a,e.Wr){var l=cy(e.jr.Qt,new Hf(s,sf.min()),e.ci(s));n.push(e.jr.ai(t,s,l))}else n.push(e.jr.li(t,s))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),wm.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(ky);function Xy(t){return ry(t,$m.store)}function Ky(t){return ry(t,Ym.store)}function Qy(t){return t.path.it()}var Jy=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Ud(n<r&&n>=0&&r<=11);var s=new Om("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Vm.store)}(t),function(t){t.createObjectStore(Bm.store,{keyPath:Bm.keyPath}),t.createObjectStore(zm.store,{keyPath:zm.keyPath,autoIncrement:!0}).createIndex(zm.userMutationsIndex,zm.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Hm.store)}(t),Zy(t),function(t){t.createObjectStore(Ym.store)}(t));var o=wm.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Xm.store),t.deleteObjectStore(Gm.store),t.deleteObjectStore(Km.store)}(t),Zy(t)),o=o.next(function(){return function(t){var e=t.store(Km.store),n=new Km(0,0,sf.min().j(),0);return e.put(Km.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(zm.store).rs().next(function(n){t.deleteObjectStore(zm.store),t.createObjectStore(zm.store,{keyPath:zm.keyPath,autoIncrement:!0}).createIndex(zm.userMutationsIndex,zm.userMutationsKeyPath,{unique:!0});var r=e.store(zm.store),i=n.map(function(t){return r.put(t)});return wm.Mn(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Jm.store,{keyPath:Jm.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.zr(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore($m.store)}(t),i.Hr(s)})),n<7&&r>=7&&(o=o.next(function(){return i.Jr(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Yr(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ym.store);e.createIndex(Ym.readTimeIndex,Ym.readTimeIndexPath,{unique:!1}),e.createIndex(Ym.collectionReadTimeIndex,Ym.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Xr(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Zm.store,{keyPath:Zm.keyPath})}(t),function(t){t.createObjectStore(ty.store,{keyPath:ty.keyPath})}(t)})),o},t.prototype.Hr=function(t){var e=0;return t.store(Ym.store).hs(function(t,n){e+=Py(n)}).next(function(){var n=new $m(e);return t.store($m.store).put($m.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(Bm.store),r=t.store(zm.store);return n.rs().next(function(n){return wm.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(zm.userMutationsIndex,i).next(function(r){return wm.forEach(r,function(r){Ud(r.userId===n.userId);var i=fy(e.Qt,r);return Iy(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(Xm.store),n=t.store(Ym.store);return t.store(Km.store).get(Km.key).next(function(t){var r=[];return n.hs(function(n,i){var s=new af(n),o=function(t){return[0,Nm(t)]}(s);r.push(e.get(o).next(function(n){return n?wm.resolve():function(n){return e.put(new Xm(0,Nm(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return wm.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(Qm.store,{keyPath:Qm.keyPath});var n=e.store(Qm.store),r=new wy,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Nm(i)})}};return e.store(Ym.store).hs({us:!0},function(t,e){var n=new af(t);return i(n.X())}).next(function(){return e.store(Hm.store).hs({us:!0},function(t,e){var n=Fm(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(Gm.store);return n.hs(function(t,r){var i=py(r),s=gy(e.Qt,i);return n.put(s)})},t}();function Zy(t){t.createObjectStore(Xm.store,{keyPath:Xm.keyPath}).createIndex(Xm.documentTargetsIndex,Xm.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gm.store,{keyPath:Gm.keyPath}).createIndex(Gm.queryTargetsIndexName,Gm.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Km.store)}var tv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ev=function(){function t(e,n,r,i,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=o,this.document=a,this.eo=u,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Gd($d.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Wy(this,i),this.ho=n+"main",this.Qt=new oy(c),this.lo=new Sm(this.ho,11,new Jy(this.Qt)),this._o=new Ly(this.Ti,this.Qt),this.Ei=new Oy,this.fo=function(t,e){return new $y(t,e)}(this.Qt,this.Ei),this.wo=new yy,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Nd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Gd($d.FAILED_PRECONDITION,tv);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new nf(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(Id.b)(e,void 0,void 0,function(){return Object(Id.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(Id.b)(e,void 0,void 0,function(){return Object(Id.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(Id.b)(e,void 0,void 0,function(){return Object(Id.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return rv(e).put(new Jm(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(Tm(e))return Dd("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Dd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return nv(t).get(Vm.key).next(function(t){return wm.resolve(e.Do(t))})},t.prototype.Co=function(t){return rv(t).delete(this.clientId)},t.prototype.xo=function(){return Object(Id.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Id.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=ry(t,Jm.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return wm.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?wm.resolve(!0):nv(t).get(Vm.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Gd($d.FAILED_PRECONDITION,tv);return!1}}return!(!e.networkEnabled||!e.inForeground)||rv(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Dd("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(Id.b)(this,void 0,void 0,function(){var t=this;return Object(Id.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Vm.store,Jm.store],function(e){var n=new ny(e,nf.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return rv(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return Ay.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Dd("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",ey,function(s){return r=new ny(s,i.so?i.so.next():nf.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Nd("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new Gd($d.FAILED_PRECONDITION,Mm);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return nv(t).get(Vm.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Gd($d.FAILED_PRECONDITION,tv)})},t.prototype.So=function(t){var e=new Vm(this.clientId,this.allowTabSynchronization,Date.now());return nv(t).put(Vm.key,e)},t.Kn=function(){return Sm.Kn()},t.prototype.vo=function(t){var e=this,n=nv(t);return n.get(Vm.key).next(function(t){return e.Do(t)?(Dd("IndexedDbPersistence","Releasing primary lease."),n.delete(Vm.key)):wm.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Nd("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Dd("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Nd("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Nd("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function nv(t){return ry(t,Vm.store)}function rv(t){return ry(t,Jm.store)}function iv(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var sv=function(t,e){this.progress=t,this.Go=e},ov=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=_g();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),s=bg();return i.forEach(function(t,e){e||(e=new Hf(t,sf.min())),s=s.zt(t,e)}),s})},t.prototype.Kr=function(t,e,n){return function(t){return lf.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):vp(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new lf(e)).next(function(t){var e=Og();return t instanceof zf&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,s=Og();return this.Ei.Us(t,i).next(function(o){return wm.forEach(o,function(o){var a=function(t,e){return new hp(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.nc(t,a,n).next(function(t){t.forEach(function(t,e){s=s.zt(t,e)})})}).next(function(){return s})})},t.prototype.nc=function(t,e,n){var r,i,s=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,s.zo.Di(t,e)}).next(function(e){return s.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=Kp(c,r.get(u),s.vs);r=l instanceof zf?r.zt(u,l):r.remove(u)}})}).next(function(){return r.forEach(function(t,n){Cp(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=Tg(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof eg&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof zf&&(u=u.zt(t,e))}),u})},t}(),av=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Tg(),i=Tg(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),cv=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(sf.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(s){var o=i.hc(e,s);return(pp(e)||gp(e))&&i.lc(e.limitType,o,r,n)?i.uc(t,e):(Md()<=Tc.a.DEBUG&&Dd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ep(e)),i.ac.Kr(t,e,n).next(function(t){return o.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new mg(Tp(t));return e.forEach(function(e,r){r instanceof zf&&Cp(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Md()<=Tc.a.DEBUG&&Dd("QueryEngine","Using full collection scan to execute query:",Ep(e)),this.ac.Kr(t,e,sf.min())},t}(),uv=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new fg(Hd),this.dc=new xy(function(t){return $f(t)},Gf),this.wc=sf.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new ov(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function lv(t,e,n,r){return new uv(t,e,n,r)}function hv(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Id.d)(this,function(o){switch(o.label){case 0:return n=Vd(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.zo.pi(t).next(function(o){return s=o,r=n.persistence.Qo(e),i=new ov(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],o=Tg(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.Xo(t,o).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return s=o.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}})})}function dv(t,e){var n=Vd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=wm.resolve();return s.forEach(function(t){o=o.next(function(){return r._i(e,t)}).next(function(e){var s=e,o=n.$s.get(t);Ud(null!==o),(!s||s.version._(o)<0)&&(s=i.Ss(t,s,n))&&r.ai(s,n.Ns)})}),o.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function fv(t){var e=Vd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function pv(t,e){var n=Vd(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Ec.Nr({Wr:!0});i=n.fc;var o=[];e.$e.forEach(function(e,s){var a=i.get(s);if(a){o.push(n._o.sr(t,e.Qe,s).next(function(){return n._o.er(t,e.qe,s)}));var c=e.resumeToken;if(c.l()>0){var u=a.Mt(c,r).kt(t.bs);i=i.zt(s,u),function(t,e,n){return Ud(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,u,e)&&o.push(n._o.Hi(t,u))}}});var a=bg();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&o.push(n.persistence.Ti.Fr(t,r))}),o.push(gv(t,s,e.Oe,r,void 0).next(function(t){a=t})),!r.isEqual(sf.min())){var c=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});o.push(c)}return wm.Mn(o).next(function(){return s.apply(t)}).next(function(){return n.Tc.Zo(t,a)})}).then(function(t){return n.fc=i,t})}function gv(t,e,n,r,i){var s=Tg();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=bg();return n.forEach(function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o instanceof Hf&&o.version.isEqual(sf.min())?(e.li(n,c),s=s.zt(n,o)):null==a||o.version._(a.version)>0||0===o.version._(a.version)&&a.hasPendingWrites?(e.ai(o,c),s=s.zt(n,o)):Dd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function mv(t,e){var n=Vd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function yv(t,e){var n=Vd(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?wm.resolve(r=i):n._o.Bi(t).next(function(i){return r=new kp(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function vv(t,e,n){return Object(Id.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Id.d)(this,function(a){switch(a.label){case 0:r=Vd(t),i=r.fc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Tm(o=a.sent()))throw o;return Dd("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function bv(t,e,n){var r=Vd(t),i=sf.min(),s=Tg();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Vd(t),i=r.dc.get(n);return void 0!==i?wm.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,_p(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){s=t})}).next(function(){return r._c.Kr(t,e,n?i:sf.min(),n?s:Tg())}).next(function(t){return{documents:t,Rc:s}})})}function _v(t,e){var n=Vd(t),r=Vd(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function wv(t){var e=Vd(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Vd(t),i=bg(),s=uy(n),o=Ky(e),a=IDBKeyRange.lowerBound(s,!0);return o.hs({index:Ym.readTimeIndex,range:a},function(t,e){var n=ay(r.Qt,e);i=i.zt(n.key,n),s=e.readTime}).next(function(){return{Go:i,readTime:ly(s)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function Ov(t){return Object(Id.b)(this,void 0,void 0,function(){var e;return Object(Id.d)(this,function(n){return[2,(e=Vd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Ky(t),n=sf.min();return e.hs({index:Ym.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ly(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function Sv(t,e,n,r){return Object(Id.b)(this,void 0,void 0,function(){var i,s,o,a,c,u,l,h,d,f;return Object(Id.d)(this,function(p){switch(p.label){case 0:for(i=Vd(t),s=Tg(),o=bg(),a=Eg(),c=0,u=n;c<u.length;c++)h=e.Pc((l=u[c]).metadata.name),l.document&&(s=s.add(h)),o=o.zt(h,e.yc(l)),a=a.zt(h,e.gc(l.metadata.readTime));return d=i.Ec.Nr({Wr:!0}),[4,yv(i,function(t){return _p(fp(af.ot("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return gv(t,d,o,sf.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i._o.Yi(t,f.targetId).next(function(){return i._o.er(t,s,f.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Ev(t,e,n){return void 0===n&&(n=Tg()),Object(Id.b)(this,void 0,void 0,function(){var r,i;return Object(Id.d)(this,function(s){switch(s.label){case 0:return[4,yv(t,_p(my(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Vd(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=$g(e.readTime);if(r.Ot._(s)>=0)return i.wo.Ls(t,e);var o=r.Mt(Yd.T,s);return i.fc=i.fc.zt(o.targetId,o),i._o.Hi(t,o).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var Cv=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return wm.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:$g(n.createTime)}),wm.resolve()},t.prototype.Ms=function(t,e){return wm.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:my(t.bundledQuery),readTime:$g(t.readTime)}}(e)),wm.resolve()},t}(),Tv=function(){function t(){this.vc=new mg(xv.Sc),this.Dc=new mg(xv.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new xv(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new xv(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new lf(new af([])),r=new xv(n,t),i=new xv(n,t+1),s=[];return this.Dc.me([r,i],function(t){e.Nc(t),s.push(t.key)}),s},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new lf(new af([])),n=new xv(e,t),r=new xv(e,t+1),i=Tg();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new xv(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),xv=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return lf.H(t.key,e.key)||Hd(t.Mc,e.Mc)},t.Cc=function(t,e){return Hd(t.Mc,e.Mc)||lf.H(t.key,e.key)},t}(),kv=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new mg(xv.Sc)}return t.prototype.Ai=function(t){return wm.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var s=new iy(i,e,n,r);this.zo.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.Bc=this.Bc.add(new xv(c.key,i)),this.Ei.qs(t,c.key.path.X())}return wm.resolve(s)},t.prototype.Pi=function(t,e){return wm.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return wm.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return wm.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return wm.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new xv(e,0),i=new xv(e,Number.POSITIVE_INFINITY),s=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);s.push(e)}),wm.resolve(s)},t.prototype.vi=function(t,e){var n=this,r=new mg(Hd);return e.forEach(function(t){var e=new xv(t,0),i=new xv(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),wm.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;lf.wt(i)||(i=i.child(""));var s=new xv(new lf(i),0),o=new mg(Hd);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(o=o.add(t.Mc)),!0)},s),wm.resolve(this.Qc(o))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;Ud(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return wm.forEach(e.mutations,function(i){var s=new xv(i.key,e.batchId);return r=r.delete(s),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new xv(e,0),r=this.Bc.Re(n);return wm.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return wm.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Iv=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new fg(lf.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:o,readTime:n}),this.size+=o-s,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return wm.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=_g();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),wm.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Og(),i=new lf(e.path.child("")),s=this.docs.ee(i);s.ce();){var o=s.oe(),a=o.value,c=a.hi,u=a.readTime;if(!e.path.nt(o.key.path))break;u._(n)<=0||c instanceof zf&&Cp(e,c)&&(r=r.zt(c.key,c))}return wm.resolve(r)},t.prototype.jc=function(t,e){return wm.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new Pv(this)},t.prototype.Or=function(t){return wm.resolve(this.size)},t}(),Pv=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(Id.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),wm.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(ky),Av=function(){function t(t){this.persistence=t,this.Gc=new xy(function(t){return $f(t)},Gf),this.lastRemoteSnapshotVersion=sf.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Tv,this.targetCount=0,this.Jc=Ry.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),wm.resolve()},t.prototype.Qi=function(t){return wm.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return wm.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),wm.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),wm.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Ry(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,wm.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),wm.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,wm.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,s=[];return this.Gc.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(o),s.push(r.Yi(t,a.targetId)),i++)}),wm.Mn(s).next(function(){return i})},t.prototype.Zi=function(t){return wm.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return wm.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),wm.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),wm.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),wm.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return wm.resolve(n)},t.prototype.Fi=function(t,e){return wm.resolve(this.Hc.Fi(e))},t}(),jv=function(){function t(t,e){var n=this;this.Yc={},this.so=new nf(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Av(this),this.Ei=new _y,this.fo=function(t,e){return new Iv(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new oy(e),this.wo=new Cv(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new kv(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Dd("MemoryPersistence","Starting transaction:",t);var i=new Mv(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return wm.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),Mv=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(Id.c)(e,t),e}(Dm),Dv=function(){function t(t){this.persistence=t,this.na=new Tv,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Fd()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),wm.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),wm.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),wm.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return wm.forEach(this.ra,function(r){var i=lf._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return wm.Ln([function(){return wm.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Nv(t,e){return"firestore_clients_"+t+"_"+e}function Rv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Lv(t,e){return"firestore_targets_"+t+"_"+e}var Fv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Gd(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Nd("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Uv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Gd(i.error.code,i.error.message)),s?new t(e,i.state,r):(Nd("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=kg(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ef(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Nd("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Bv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Nd("SharedClientState","Failed to parse online state: "+e),null)},t}(),zv=function(){function t(){this.activeTargetIds=kg()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hv=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new fg(Hd),this.Er=!1,this.Ta=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Nv(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new zv),this.Aa=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Id.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,u,l=this;return Object(Id.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Nv(this.persistenceKey,r)))&&(s=Vv.ca(r,i))&&(this.Ea=this.Ea.zt(s.clientId,s));for(this.Va(),(o=this.storage.getItem(this.ya))&&(a=this.pa(o))&&this.ba(a),c=0,u=this.Ta;c<u.length;c++)this.wa(u[c]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Lv(this.persistenceKey,t));if(n){var r=Uv.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Lv(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Dd("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Dd("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Dd("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Dd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Nd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(Id.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Id.d)(this,function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(s=this.pa(n.newValue)))return[2,this.ba(s)]}else if(n.key===this.ma)(o=function(t){var e=nf.q;if(null!=t)try{var n=JSON.parse(t);Ud("number"==typeof n),e=n}catch(t){Nd("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==nf.q&&this.k(o);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Fv(this.currentUser,t,e,n),i=Rv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Rv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Lv(this.persistenceKey,t),i=new Uv(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Vv.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Fv.ca(new Kd(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Uv.ca(r,e)},t.prototype.pa=function(t){return Bv.ca(t)},t.prototype.Ya=function(t){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Dd("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),s=this.Sa(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this._a.su(o,a).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=kg();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),qv=function(){function t(){this.iu=new zv,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new zv,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Wv=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Yv=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Dd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Dd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),$v={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Gv=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Xv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Id.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,s){var o=new kd;o.listenOnce(Cd.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Ed.NO_ERROR:var e=o.getResponseJson();Dd("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ed.TIMEOUT:Dd("Connection",'RPC "'+t+'" timed out'),s(new Gd($d.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:var n=o.getStatus();if(Dd("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values($d).indexOf(e)>=0?e:$d.UNKNOWN}(r.status);s(new Gd(a,r.message))}else s(new Gd($d.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Gd($d.UNAVAILABLE,"Connection failed."));break;default:Fd()}}finally{Dd("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new bd,i=Ol(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(s.initMessageHeaders,e),Object(xc.l)()||Object(xc.n)()||Object(xc.j)()||Object(xc.k)()||Object(xc.o)()||Object(xc.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Dd("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,u=!1,l=new Gv({fu:function(t){u?Dd("Connection","Not sending because WebChannel is closed:",t):(c||(Dd("Connection","Opening WebChannel transport."),a.open(),c=!0),Dd("Connection","WebChannel sending:",t),a.send(t))},du:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,xd.EventType.OPEN,function(){u||Dd("Connection","WebChannel transport opened.")}),h(a,xd.EventType.CLOSE,function(){u||(u=!0,Dd("Connection","WebChannel transport closed"),l.Ru())}),h(a,xd.EventType.ERROR,function(t){u||(u=!0,Rd("Connection","WebChannel transport errored:",t),l.Ru(new Gd($d.UNAVAILABLE,"The operation could not be completed")))}),h(a,xd.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];Ud(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Dd("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=og[t];if(void 0!==e)return dg(e)}(i),o=r.message;void 0===s&&(s=$d.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),u=!0,l.Ru(new Gd(s,o)),a.close()}else Dd("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,Td.STAT_EVENT,function(t){10===t.stat?Dd("Connection","Detected buffering proxy"):11===t.stat&&Dd("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Dd("RestConnection","Sending: ",i,n);var s={};return this.vu(s,r),this.Su(t,i,s,n).then(function(t){return Dd("RestConnection","Received: ",t),t},function(e){throw Rd("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+$v[t]},t}());function Kv(){return"undefined"!=typeof window?window:null}function Qv(){return"undefined"!=typeof document?document:null}function Jv(t){return new Hg(t,!0)}var Zv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Dd("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),tb=function(){function t(t,e,n,r,i,s){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=s,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Zv(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===$d.RESOURCE_EXHAUSTED?(Nd(e.toString()),Nd("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===$d.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new Gd($d.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(Id.b)(t,void 0,void 0,function(){return Object(Id.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return Dd("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(Dd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),eb=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Qt=i,o}return Object(Id.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Fd()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Bt?(Ud(void 0===e||"string"==typeof e),Yd.fromBase64String(e||"")):(Ud(void 0===e||e instanceof Uint8Array),Yd.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?$d.UNKNOWN:dg(t.code);return new Gd(e,t.message||"")}(a);n=new Rg(r,i,s,o||null)}else if("documentChange"in e){i=Qg(t,(r=e.documentChange).document.name),s=$g(r.document.updateTime);var a=new Ff({mapValue:{fields:r.document.fields}}),c=(o=new zf(i,s,a,{}),r.targetIds||[]);n=new Dg(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Qg(t,(r=e.documentDelete).document),s=r.readTime?$g(r.readTime):sf.min(),a=new Hf(i,s),n=new Dg([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Qg(t,(r=e.documentRemove).document),n=new Dg([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Fd();var u=e.filter;i=new lg(r=u.count||0),n=new Ng(s=u.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return sf.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?sf.min():e.readTime?$g(e.readTime):sf.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=tm(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=Xf(r)?{documents:om(t,r)}:{query:am(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Wg(t,e.resumeToken):e.Ot._(sf.min())>0&&(n.readTime=qg(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fd()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=tm(this.Qt),e.removeTarget=t,this.th(e)},e}(tb),nb=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Qt=i,o.lh=!1,o}return Object(Id.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Ud(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Ud(void 0!==e),t.map(function(t){return function(t,e){var n=$g(t.updateTime?t.updateTime:e);n.isEqual(sf.min())&&(n=$g(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Wp(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=$g(t.commitTime);return this.listener.dh(n,e)}return Ud(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=tm(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return im(e.Qt,t)})};this.th(n)},e}(tb),rb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(Id.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new Gd($d.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===$d.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===$d.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),ib=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Nd(e),this.Rh=!1):Dd("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),sb=function(t,e,n,r,i){var s=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(Id.b)(s,void 0,void 0,function(){return Object(Id.d)(this,function(t){switch(t.label){case 0:return pb(this)?(Dd("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Id.b)(this,void 0,void 0,function(){var e;return Object(Id.d)(this,function(n){switch(n.label){case 0:return(e=Vd(t)).Nh.add(4),[4,ab(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,ob(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new ib(n,r)};function ob(t){return Object(Id.b)(this,void 0,void 0,function(){var e,n;return Object(Id.d)(this,function(r){switch(r.label){case 0:if(!pb(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ab(t){return Object(Id.b)(this,void 0,void 0,function(){var e,n;return Object(Id.d)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function cb(t,e){var n=Vd(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),fb(n)?db(n):Ib(n).Hu()&&lb(n,e))}function ub(t,e){var n=Vd(t),r=Ib(n);n.xh.delete(e),r.Hu()&&hb(n,e),0===n.xh.size&&(r.Hu()?r.Xu():pb(n)&&n.Oh.set("Unknown"))}function lb(t,e){t.kh.on(e.targetId),Ib(t).uh(e)}function hb(t,e){t.kh.on(e),Ib(t).hh(e)}function db(t){t.kh=new Fg({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Ib(t).start(),t.Oh.Ph()}function fb(t){return pb(t)&&!Ib(t).zu()&&t.xh.size>0}function pb(t){return 0===Vd(t).Nh.size}function gb(t){t.kh=void 0}function mb(t){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(e){return t.xh.forEach(function(e,n){lb(t,e)}),[2]})})}function yb(t,e){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(n){return gb(t),fb(t)?(t.Oh.Vh(e),db(t)):t.Oh.set("Unknown"),[2]})})}function vb(t,e,n){return Object(Id.b)(this,void 0,void 0,function(){var r,i,s;return Object(Id.d)(this,function(o){switch(o.label){case 0:if(t.Oh.set("Online"),!(e instanceof Rg&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Id.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.xh.has(s=i[r])?[4,t.Dh.Mh(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.xh.delete(s),t.kh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Dd("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,bb(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Dg?t.kh.dn(e):e instanceof Ng?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(sf.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,fv(t.bh)];case 8:return i=o.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(Yd.T,n.Ot)),hb(t,e);var r=new kp(n.target,e,1,n.sequenceNumber);lb(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Dd("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,bb(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function bb(t,e,n){return Object(Id.b)(this,void 0,void 0,function(){var r=this;return Object(Id.d)(this,function(i){switch(i.label){case 0:if(!Tm(e))throw e;return t.Nh.add(1),[4,ab(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return fv(t.bh)}),t._s.po(function(){return Object(Id.b)(r,void 0,void 0,function(){return Object(Id.d)(this,function(e){switch(e.label){case 0:return Dd("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,ob(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function _b(t,e){return e().catch(function(n){return bb(t,n,e)})}function wb(t){return Object(Id.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Id.d)(this,function(o){switch(o.label){case 0:e=Vd(t),n=Pb(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return pb(t)&&t.Ch.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,mv(e.bh,r)];case 3:return null===(i=o.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=Pb(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,bb(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Ob(e)&&Sb(e),[2]}})})}function Ob(t){return pb(t)&&!Pb(t).zu()&&t.Ch.length>0}function Sb(t){Pb(t).start()}function Eb(t){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(e){return Pb(t).Eh(),[2]})})}function Cb(t){return Object(Id.b)(this,void 0,void 0,function(){var e,n,r;return Object(Id.d)(this,function(i){for(e=Pb(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function Tb(t,e,n){return Object(Id.b)(this,void 0,void 0,function(){var r,i;return Object(Id.d)(this,function(s){switch(s.label){case 0:return r=t.Ch.shift(),i=sy.from(r,e,n),[4,_b(t,function(){return t.Dh.Bh(i)})];case 1:return s.sent(),[4,wb(t)];case 2:return s.sent(),[2]}})})}function xb(t,e){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(n){switch(n.label){case 0:return e&&Pb(t)._h?[4,function(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r;return Object(Id.d)(this,function(i){switch(i.label){case 0:return hg(r=e.code)&&r!==$d.ABORTED?(n=t.Ch.shift(),Pb(t).Yu(),[4,_b(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,wb(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ob(t)&&Sb(t),[2]}})})}function kb(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n;return Object(Id.d)(this,function(r){switch(r.label){case 0:return n=Vd(t),e?(n.Nh.delete(2),[4,ob(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,ab(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ib(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Vd(t);return r.Ih(),new eb(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:mb.bind(null,t),Tu:yb.bind(null,t),ah:vb.bind(null,t)}),t.$h.push(function(n){return Object(Id.b)(e,void 0,void 0,function(){return Object(Id.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),fb(t)?db(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),gb(t),e.label=3;case 3:return[2]}})})})),t.Uh}function Pb(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Vd(t);return r.Ih(),new nb(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Eb.bind(null,t),Tu:xb.bind(null,t),wh:Cb.bind(null,t),dh:Tb.bind(null,t)}),t.$h.push(function(n){return Object(Id.b)(e,void 0,void 0,function(){return Object(Id.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,wb(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Dd("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var Ab=function(){this.Kh=void 0,this.listeners=[]},jb=function(){this.queries=new xy(function(t){return Sp(t)},Op),this.onlineState="Unknown",this.Wh=new Set};function Mb(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Id.d)(this,function(u){switch(u.label){case 0:if(n=Vd(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Ab),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.jh(r)];case 2:return o.Kh=u.sent(),[3,4];case 3:return a=u.sent(),c=jm(a,"Initialization of query '"+Ep(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Gh(n.onlineState),s.Kh&&e.zh(s.Kh)&&Lb(n),[2]}})})}function Db(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Id.d)(this,function(a){return n=Vd(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Nb(t,e){for(var n=Vd(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].zh(o)&&(r=!0);a.Kh=o}}r&&Lb(n)}function Rb(t,e,n){var r=Vd(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Lb(t){t.Wh.forEach(function(t){t.next()})}var Fb=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ag(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var s=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),s=!0):this.tl(t,this.onlineState)&&(this.el(t),s=!0),this.Xh=t,s},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=Ag.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Ub=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Vb=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Qg(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?rm(this.Qt,t.document,!1):new Hf(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return $g(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Vb(this.Qt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.Pc(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||Tg()).add(o);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(Id.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Id.d)(this,function(s){switch(s.label){case 0:return[4,Sv(this.bh,new Vb(this.Qt),this.documents,this.il.id)];case 1:t=s.sent(),e=this.ol(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Ev(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new sv(Object.assign({},this.progress),t))]}})})}}();var Bb=function(t){this.key=t},zb=function(t){this.key=t},Hb=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Tg(),this.De=Tg(),this.hl=Tp(t),this.ll=new Ig(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Pg,i=e?e.ll:this.ll,s=e?e.De:this.De,o=i,a=!1,c=pp(this.query)&&i.size===this.query.limit?i.last():null,u=gp(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof zf?e:null;h&&(h=Cp(n.query,h)?h:null);var d=!!l&&n.De.has(l.key),f=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.hl(h,c)>0||u&&n.hl(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),pp(this.query)||gp(this.query))for(;o.size>this.query.limit;){var l=pp(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ll:o,dl:r,lc:a,De:s}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var s=t.dl.ve();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fd()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var o=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,c=a!==this.al;return this.al=a,0!==s.length||c?{snapshot:new Ag(this.query,t.ll,i,s,t.De,0===a,c,!1),Il:o}:{Il:o}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Pg,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Tg(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new zb(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new Bb(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Tg();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return Ag.Ne(this.query,this.ll,this.De,0===this.al)},t}(),qb=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Wb=function(t){this.key=t,this.Pl=!1},Yb=function(){function t(t,e,n,r,i,s){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=s,this.bl={},this.vl=new xy(function(t){return Sp(t)},Op),this.Sl=new Map,this.Dl=new Set,this.Cl=new fg(lf.H),this.xl=new Map,this.Nl=new Tv,this.$l={},this.Fl=new Map,this.Ol=Ry.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function $b(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Id.d)(this,function(a){switch(a.label){case 0:return n=O_(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,yv(n.bh,_p(e))];case 2:return s=a.sent(),o=n.Vl.Fa(s.targetId),[4,Gb(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Ml&&cb(n.yl,s),a.label=4;case 4:return[2,r]}})})}function Gb(t,e,n,r){return Object(Id.b)(this,void 0,void 0,function(){var i,s,o,a,c,u;return Object(Id.d)(this,function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(Id.b)(this,void 0,void 0,function(){var i,s,o;return Object(Id.d)(this,function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,bv(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.$e.get(e.targetId),o=e.view.wi(i,t.Ml,s),[2,(a_(t,e.targetId,o.Il),o.snapshot)]}})})}(t,e,n,r)},[4,bv(t.bh,e,!0)];case 1:return i=l.sent(),s=new Hb(e,i.Rc),o=s.fl(i.documents),a=Mg.Le(n,r&&"Offline"!==t.onlineState),c=s.wi(o,t.Ml,a),a_(t,n,c.Il),u=new qb(e,n,s),[2,(t.vl.set(e,u),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),c.snapshot)]}})})}function Xb(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i;return Object(Id.d)(this,function(s){switch(s.label){case 0:return n=Vd(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!Op(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,vv(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),ub(n.yl,r.targetId),s_(n,r.targetId)}).catch(Ty)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return s_(n,r.targetId),[4,vv(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Kb(t,e,n){return Object(Id.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Id.d)(this,function(a){switch(a.label){case 0:r=S_(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Vd(t),i=rf.now(),s=e.reduce(function(t,e){return t.add(e.key)},Tg());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=Qp(u,n.get(u.key));null!=l&&o.push(new eg(u.key,l,Vf(l.proto.mapValue),Yp.exists(!0)))}return r.zo.Ri(t,i,o,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new fg(Hd)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,l_(r,i.ri)];case 3:return a.sent(),[4,wb(r.yl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=jm(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Qb(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r;return Object(Id.d)(this,function(i){switch(i.label){case 0:n=Vd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,pv(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(Ud(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Ud(r.Pl):t.Qe.size>0&&(Ud(r.Pl),r.Pl=!1))}),[4,l_(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ty(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Jb(t,e,n){var r=Vd(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Vd(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Gh(e)&&(r=!0)}),r&&Lb(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function Zb(t,e,n){return Object(Id.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(Id.d)(this,function(u){switch(u.label){case 0:return(r=Vd(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(s=i&&i.key)?(o=(o=new fg(lf.H)).zt(s,new Hf(s,sf.min())),a=Tg().add(s),c=new jg(sf.min(),new Map,new mg(Hd),o,a),[4,Qb(r,c)]):[3,2];case 1:return u.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(e),u_(r),[3,4];case 2:return[4,vv(r.bh,e,!1).then(function(){return s_(r,e,n)}).catch(Ty)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function t_(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i;return Object(Id.d)(this,function(s){switch(s.label){case 0:n=Vd(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,dv(n.bh,e)];case 2:return i=s.sent(),i_(n,r,null),r_(n,r),n.Vl.Na(r,"acknowledged"),[4,l_(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ty(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function e_(t,e,n){return Object(Id.b)(this,void 0,void 0,function(){var r,i;return Object(Id.d)(this,function(s){switch(s.label){case 0:r=Vd(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Vd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return Ud(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=s.sent(),i_(r,e,n),r_(r,e),r.Vl.Na(e,"rejected",n),[4,l_(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ty(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function n_(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Id.d)(this,function(a){switch(a.label){case 0:pb((n=Vd(t)).yl)||Dd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Vd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return s=a.sent(),o=jm(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function r_(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function i_(t,e,n){var r=Vd(t),i=r.$l[r.currentUser.A()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function s_(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var s=i[r];t.vl.delete(s),n&&t.bl.Bl(s,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||o_(t,e)})}function o_(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(ub(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),u_(t))}function a_(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Bb?(t.Nl.nr(s.key,e),c_(t,s)):s instanceof zb?(Dd("SyncEngine","Document no longer in limbo: "+s.key),t.Nl.ir(s.key,e),t.Nl.Fi(s.key)||o_(t,s.key)):Fd()}}function c_(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Dd("SyncEngine","New document in limbo: "+n),t.Dl.add(r),u_(t))}function u_(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new lf(af.ot(e)),r=t.Ol.next();t.xl.set(r,new Wb(n)),t.Cl=t.Cl.zt(n,r),cb(t.yl,new kp(_p(fp(n.path)),r,2,nf.q))}}function l_(t,e,n){return Object(Id.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Id.d)(this,function(a){switch(a.label){case 0:return r=Vd(t),i=[],s=[],o=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,a){o.push(r.Ll(a,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=av.oc(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u;return Object(Id.d)(this,function(l){switch(l.label){case 0:n=Vd(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return wm.forEach(e,function(e){return wm.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return wm.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Tm(r=l.sent()))throw r;return Dd("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.fc.get(a),u=c.Lt(c.Ot),n.fc=n.fc.zt(a,u));return[2]}})})}(r.bh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function h_(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r;return Object(Id.d)(this,function(i){switch(i.label){case 0:return(n=Vd(t)).currentUser.isEqual(e)?[3,3]:(Dd("SyncEngine","User change. New user:",e.A()),[4,hv(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new Gd($d.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,l_(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function d_(t,e){var n=Vd(t),r=n.xl.get(e);if(r&&r.Pl)return Tg().add(r.key);var i=Tg(),s=n.Sl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.vl.get(a[o]);i=i.Pe(c.view._l)}return i}function f_(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i;return Object(Id.d)(this,function(s){switch(s.label){case 0:return[4,bv((n=Vd(t)).bh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Al(r),[2,(n.Ml&&a_(n,e.targetId,i.Il),i)]}})})}function p_(t){return Object(Id.b)(this,void 0,void 0,function(){var e;return Object(Id.d)(this,function(n){return[2,wv((e=Vd(t)).bh).then(function(t){return l_(e,t)})]})})}function g_(t,e,n,r){return Object(Id.b)(this,void 0,void 0,function(){var i,s;return Object(Id.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Vd(t),r=Vd(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):wm.resolve(null)})})}((i=Vd(t)).bh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,wb(i.yl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(i_(i,e,r||null),r_(i,e),function(t,e){Vd(Vd(t).zo).xi(e)}(i.bh,e)):Fd(),o.label=4;case 4:return[4,l_(i,s)];case 5:return o.sent(),[3,7];case 6:Dd("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function m_(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Id.d)(this,function(u){switch(u.label){case 0:return O_(n=Vd(t)),S_(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,y_(n,r.it())]);case 1:return i=u.sent(),n.kl=!0,[4,kb(n.yl,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)cb(n.yl,o[s]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(a=[],c=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?a.push(e):c=c.then(function(){return s_(n,e),vv(n.bh,e,!0)}),ub(n.yl,e)}),[4,c]);case 4:return u.sent(),[4,y_(n,a)];case 5:return u.sent(),function(t){var e=Vd(t);e.xl.forEach(function(t,n){ub(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new fg(lf.H)}(n),n.kl=!1,[4,kb(n.yl,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function y_(t,e,n){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u,l,h,d,f,p;return Object(Id.d)(this,function(g){switch(g.label){case 0:n=Vd(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(c=void 0,(u=n.Sl.get(a=o[s]))&&0!==u.length?[4,yv(n.bh,_p(u[0]))]:[3,7]):[3,13];case 2:c=g.sent(),l=0,h=u,g.label=3;case 3:return l<h.length?(d=n.vl.get(h[l]),[4,f_(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,_v(n.bh,a)];case 8:return p=g.sent(),[4,yv(n.bh,p)];case 9:return c=g.sent(),[4,Gb(n,v_(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(c),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function v_(t){return dp(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function b_(t){var e=Vd(t);return Vd(Vd(e.bh).persistence).Uo()}function __(t,e,n,r){return Object(Id.b)(this,void 0,void 0,function(){var i,s,o;return Object(Id.d)(this,function(a){switch(a.label){case 0:return(i=Vd(t)).kl?(Dd("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,wv(i.bh)];case 3:return s=a.sent(),o=jg.Me(e,"current"===n),[4,l_(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,vv(i.bh,e,!0)];case 6:return a.sent(),s_(i,e,r),[3,8];case 7:Fd(),a.label=8;case 8:return[2]}})})}function w_(t,e,n){return Object(Id.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,u,l,h;return Object(Id.d)(this,function(d){switch(d.label){case 0:if(!(r=O_(t)).kl)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Sl.has(o=s[i])?(Dd("SyncEngine","Adding an already active target "+o),[3,5]):[4,_v(r.bh,o)]:[3,6];case 2:return a=d.sent(),[4,yv(r.bh,a)];case 3:return c=d.sent(),[4,Gb(r,v_(a),c.targetId,!1)];case 4:d.sent(),cb(r.yl,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(Id.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,vv(r.bh,t,!1).then(function(){ub(r.yl,t),s_(r,t)}).catch(Ty)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function O_(t){var e=Vd(t);return e.yl.Dh.Lh=Qb.bind(null,e),e.yl.Dh.vn=d_.bind(null,e),e.yl.Dh.Mh=Zb.bind(null,e),e.bl.ah=Nb.bind(null,e.gl),e.bl.Bl=Rb.bind(null,e.gl),e}function S_(t){var e=Vd(t);return e.yl.Dh.Bh=t_.bind(null,e),e.yl.Dh.qh=e_.bind(null,e),e}var E_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(e){switch(e.label){case 0:return this.Qt=Jv(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return lv(this.persistence,new cv,t.Jl,this.Qt)},t.prototype.jl=function(t){return new jv(Dv.ia,this.Qt)},t.prototype.Wl=function(t){return new qv},t.prototype.terminate=function(){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),C_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Id.c)(e,t),e.prototype.initialize=function(e){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ov(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,S_(this.Yl._a)];case 4:return n.sent(),[4,wb(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return lv(this.persistence,new cv,t.Jl,this.Qt)},e.prototype.zl=function(t){return new Hy(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=iv(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?Cy.Ys(this.cacheSizeBytes):Cy.ti;return new ev(this.synchronizeTabs,e,t.clientId,n,t._s,Kv(),Qv(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new qv},e}(E_),T_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Id.c)(e,t),e.prototype.initialize=function(e){return Object(Id.b)(this,void 0,void 0,function(){var n,r=this;return Object(Id.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Hv?(this.Vl._a={eu:g_.bind(null,n),nu:__.bind(null,n),su:w_.bind(null,n),Uo:b_.bind(null,n),tu:p_.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(Id.b)(r,void 0,void 0,function(){return Object(Id.d)(this,function(e){switch(e.label){case 0:return[4,m_(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Kv();if(!Hv.Kn(e))throw new Gd($d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=iv(t.yu.t,t.yu.persistenceKey);return new Hv(e,t._s,n,t.clientId,t.Jl)},e}(C_),x_=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n=this;return Object(Id.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Jb(n._a,t,1)},this.yl.Dh.n_=h_.bind(null,this._a),[4,kb(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new jb},t.prototype.Xl=function(t){var e=Jv(t.yu.t),n=new Xv(t.yu);return function(t,e,n){return new rb(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,s,o=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Jb(o._a,t,0)},s=Yv.Kn()?new Yv:new Wv,new sb(e,n,r,i,s)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Yb(t,e,n,r,i,s);return o&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(Id.b)(this,void 0,void 0,function(){var e;return Object(Id.d)(this,function(n){switch(n.label){case 0:return e=Vd(t),Dd("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,ab(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),k_=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),I_=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new _m,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(Id.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Id.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new Ub(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(Id.b)(this,void 0,void 0,function(){var t,e;return Object(Id.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(Id.b)(this,void 0,void 0,function(){var e;return Object(Id.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(Id.b)(this,void 0,void 0,function(){var t,e;return Object(Id.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Gd($d.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new uf(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),P_=function(t){this._methodName=t},A_=function(t){this.d_=t};function j_(t,e,n){if(!n)throw new Gd($d.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function M_(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Gd($d.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function D_(t,e,n,r){if(!0===e&&!0===r)throw new Gd($d.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function N_(t){if(!lf.wt(t))throw new Gd($d.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function R_(t){if(lf.wt(t))throw new Gd($d.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function L_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Fd()}function F_(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Gd($d.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=L_(t);throw new Gd($d.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function U_(t,e){if(e<=0)throw new Gd($d.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var V_=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Gd($d.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gd($d.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,D_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),B_=new Map,z_=function(){function t(t,e){this.w_="(lite)",this.E_=new V_({}),this.T_=!1,t instanceof Ad?(this.I_=t,this.m_=new Jd):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Gd($d.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ad(t.options.projectId)}(t),this.m_=new Zd(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Gd($d.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Gd($d.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new V_(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Jd;switch(t.type){case"gapi":var e=t.client;return Ud(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ef(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Gd($d.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=B_.get(this))&&(Dd("ComponentProvider","Removing Datastore"),B_.delete(this),t.terminate()),Promise.resolve();var t},t}(),H_=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new W_(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),q_=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),W_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,fp(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Id.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new H_(this.firestore,null,new lf(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(q_);function Y_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof A_&&(t=t.d_),j_("collection","path",e),t instanceof z_)return R_(n=af.ot.apply(af,Object(Id.g)([e],r))),new W_(t,null,n);if(!(t instanceof H_||t instanceof W_))throw new Gd($d.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return R_(n=af.ot.apply(af,Object(Id.g)([t.path],r)).child(af.ot(e))),new W_(t.firestore,null,n)}function $_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof A_&&(t=t.d_),1===arguments.length&&(e=zd.u()),j_("doc","path",e),t instanceof z_)return N_(n=af.ot.apply(af,Object(Id.g)([e],r))),new H_(t,null,new lf(n));if(!(t instanceof H_||t instanceof W_))throw new Gd($d.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return N_(n=t.D_.child(af.ot.apply(af,Object(Id.g)([e],r)))),new H_(t.firestore,t instanceof W_?t.v_:null,new lf(n))}function G_(t,e){return t instanceof A_&&(t=t.d_),e instanceof A_&&(e=e.d_),(t instanceof H_||t instanceof W_)&&(e instanceof H_||e instanceof W_)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function X_(t,e){return t instanceof A_&&(t=t.d_),e instanceof A_&&(e=e.d_),t instanceof q_&&e instanceof q_&&t.firestore===e.firestore&&Op(t.C_,e.C_)&&t.v_===e.v_}var K_=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Gd($d.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Gd($d.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Hd(this.x_,t.x_)||Hd(this.N_,t.N_)},t}(),Q_=/^__.*__$/,J_=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new eg(t,this.data,this.Gt,e,this.fieldTransforms):new tg(t,this.data,e,this.fieldTransforms)},t}(),Z_=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new eg(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function tw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fd()}}var ew=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return ww(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(tw(this.k_)&&Q_.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),nw=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Jv(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new ew({k_:t,methodName:e,j_:n,path:uf.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function rw(t){var e=t.p_(),n=Jv(t.I_);return new nw(t.I_,!!e.ignoreUndefinedProperties,n)}function iw(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);yw("Data must be an object, but it was:",o,r);var a,c,u=gw(r,o);if(s.merge)a=new pf(o.Gt),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=vw(e,d[h],n);if(!o.contains(f))throw new Gd($d.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Ow(l,f)||l.push(f)}a=new pf(l),c=o.fieldTransforms.filter(function(t){return a.Tt(t.field)})}else a=null,c=o.fieldTransforms;return new J_(new Ff(u),a,c)}var sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Id.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(P_);function ow(t,e,n){return new ew({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var aw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Id.c)(e,t),e.prototype.z_=function(t){return new qp(t.path,new Rp)},e.prototype.isEqual=function(t){return t instanceof e},e}(P_),cw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Id.c)(e,t),e.prototype.z_=function(t){var e=ow(this,t,!0),n=this.H_.map(function(t){return pw(t,e)}),r=new Lp(n);return new qp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(P_),uw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Id.c)(e,t),e.prototype.z_=function(t){var e=ow(this,t,!0),n=this.H_.map(function(t){return pw(t,e)}),r=new Up(n);return new qp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(P_),lw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Id.c)(e,t),e.prototype.z_=function(t){var e=new Bp(t.Qt,Ap(t.Qt,this.J_));return new qp(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(P_);function hw(t,e,n,r){var i=t.G_(1,e,n);yw("Data must be an object, but it was:",i,r);var s=[],o=new Uf;df(r,function(t,r){var a=_w(e,t,n);r instanceof A_&&(r=r.d_);var c=i.U_(a);if(r instanceof sw)s.push(a);else{var u=pw(r,c);null!=u&&(s.push(a),o.set(a,u))}});var a=new pf(s);return new Z_(o.Pt(),a,i.fieldTransforms)}function dw(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[vw(e,r,n)],c=[i];if(s.length%2!=0)throw new Gd($d.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(vw(e,s[u])),c.push(s[u+1]);for(var l=[],h=new Uf,d=a.length-1;d>=0;--d)if(!Ow(l,a[d])){var f=a[d],p=c[d];p instanceof A_&&(p=p.d_);var g=o.U_(f);if(p instanceof sw)l.push(f);else{var m=pw(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new pf(l);return new Z_(h.Pt(),y,o.fieldTransforms)}function fw(t,e,n,r){return void 0===r&&(r=!1),pw(n,t.G_(r?4:3,e))}function pw(t,e){if(t instanceof A_&&(t=t.d_),mw(t))return yw("Unsupported field value:",e,t),gw(t,e);if(t instanceof P_)return function(t,e){if(!tw(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=pw(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof A_&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ap(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=rf.fromDate(t);return{timestampValue:qg(e.Qt,n)}}if(t instanceof rf)return n=new rf(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:qg(e.Qt,n)};if(t instanceof K_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xd)return{bytesValue:Wg(e.Qt,t.I)};if(t instanceof H_){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Gg(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+L_(t))}(t,e)}function gw(t,e){var n={};return ff(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):df(t,function(t,r){var i=pw(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function mw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof rf||t instanceof K_||t instanceof Xd||t instanceof H_||t instanceof P_)}function yw(t,e,n){if(!mw(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=L_(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function vw(t,e,n){if(e instanceof A_&&(e=e.d_),e instanceof I_)return e.f_;if("string"==typeof e)return _w(t,e);throw ww("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var bw=new RegExp("[~\\*/\\[\\]]");function _w(t,e,n){if(e.search(bw)>=0)throw ww("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(I_.bind.apply(I_,Object(Id.g)([void 0],e.split("."))))).f_}catch(r){throw ww("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ww(t,e,n,r,i){var s=r&&!r.et(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new Gd($d.INVALID_ARGUMENT,(a+=". ")+t+c)}function Ow(t,e){return t.some(function(t){return t.isEqual(e)})}var Sw=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Id.b)(this,void 0,void 0,function(){var e,n=this;return Object(Id.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Gd($d.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Id.d)(this,function(c){switch(c.label){case 0:return n=Vd(t),r=tm(n.Qt)+"/documents",i={documents:e.map(function(t){return Kg(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Ud(!!e.found);var n=Qg(t,e.found.name),r=$g(e.found.updateTime),i=new Ff({mapValue:{fields:e.found.fields}});return new zf(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ud(!!e.missing),Ud(!!e.readTime);var n=Qg(t,e.missing),r=$g(e.readTime);return new Hf(n,r)}(t,e):Fd()}(n.Qt,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Ud(!!e),a.push(e)}),a)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Hf||t instanceof zf?n.sf(t):Fd()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new cg(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Id.b)(this,void 0,void 0,function(){var t,e=this;return Object(Id.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=lf._t(n);e.mutations.push(new ug(r,e.jt(r)))}),[4,function(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i;return Object(Id.d)(this,function(s){switch(s.label){case 0:return n=Vd(t),r=tm(n.Qt)+"/documents",i={writes:e.map(function(t){return im(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof zf)e=t.version;else{if(!(t instanceof Hf))throw Fd();e=sf.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Gd($d.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Yp.updateTime(e):Yp.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(sf.min()))throw new Gd($d.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yp.updateTime(e)}return Yp.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Ew=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new Zv(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(Id.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Id.d)(this,function(r){return t=new Sw(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Of(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!hg(e)}return!1},t}(),Cw=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=Kd.UNAUTHENTICATED,this.clientId=zd.u(),this._f=function(){},this.C=new _m,this.credentials.v(function(t){Dd("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new Gd($d.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new _m;return this._s.Tf(function(){return Object(Id.b)(t,void 0,void 0,function(){var t,n;return Object(Id.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=jm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Tw(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Id.d)(this,function(s){switch(s.label){case 0:return t._s.Af(),Dd("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(Id.b)(i,void 0,void 0,function(){return Object(Id.d)(this,function(t){switch(t.label){case 0:return[4,hv(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function xw(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r;return Object(Id.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,kw(t)];case 1:return n=i.sent(),Dd("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(Id.b)(this,void 0,void 0,function(){var n,r;return Object(Id.d)(this,function(i){switch(i.label){case 0:return(n=Vd(t))._s.Af(),Dd("RemoteStore","RemoteStore received new credentials"),r=pb(n),n.Nh.add(3),[4,ab(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,ob(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function kw(t){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Dd("FirestoreClient","Using default OfflineComponentProvider"),[4,Tw(t,new E_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Iw(t){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Dd("FirestoreClient","Using default OnlineComponentProvider"),[4,xw(t,new x_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Pw(t){return kw(t).then(function(t){return t.persistence})}function Aw(t){return kw(t).then(function(t){return t.bh})}function jw(t){return Iw(t).then(function(t){return t.yl})}function Mw(t){return Iw(t).then(function(t){return t._a})}function Dw(t){return Object(Id.b)(this,void 0,void 0,function(){var e,n;return Object(Id.d)(this,function(r){switch(r.label){case 0:return[4,Iw(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=$b.bind(null,e._a),n.Hh=Xb.bind(null,e._a),n)]}})})}function Nw(t,e,n){var r=this;void 0===n&&(n={});var i=new _m;return t._s.Ps(function(){return Object(Id.b)(r,void 0,void 0,function(){var r;return Object(Id.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new k_({next:function(s){e.Ps(function(){return Db(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Gd($d.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Gd($d.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Fb(fp(n.path),s,{includeMetadataChanges:!0,nl:!0});return Mb(t,o)},[4,Dw(t)];case 1:return[2,r.apply(void 0,[s.sent(),t._s,e,n,i])]}})})}),i.promise}function Rw(t,e,n){var r=this;void 0===n&&(n={});var i=new _m;return t._s.Ps(function(){return Object(Id.b)(r,void 0,void 0,function(){var r;return Object(Id.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new k_({next:function(n){e.Ps(function(){return Db(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Gd($d.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Fb(n,s,{includeMetadataChanges:!0,nl:!0});return Mb(t,o)},[4,Dw(t)];case 1:return[2,r.apply(void 0,[s.sent(),t._s,e,n,i])]}})})}),i.promise}var Lw=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Zv(this,"async_queue_retry"),this.vf=function(){var e=Qv();e&&Dd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Qv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Qv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Id.b)(this,void 0,void 0,function(){var t,e=this;return Object(Id.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Tm(t=n.sent()))throw t;return Dd("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Nd("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Am.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Fd()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Id.b)(this,void 0,void 0,function(){var t;return Object(Id.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Fw(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new _m,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var Uw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Lw,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Id.c)(e,t),e.prototype.b_=function(){return this.qf||Bw(this),this.qf.terminate()},e}(z_);function Vw(t){return t.qf||Bw(t),t.qf.df(),t.qf}function Bw(t){var e=t.p_(),n=function(t,e,n){return new Pd(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new Cw(t.m_,t.Bf,n)}function zw(t,e,n){var r=this,i=new _m;return t._s.enqueue(function(){return Object(Id.b)(r,void 0,void 0,function(){var r;return Object(Id.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Tw(t,n)];case 1:return s.sent(),[4,xw(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===$d.FAILED_PRECONDITION||t.code===$d.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Hw(t){if(t.R_||t.P_)throw new Gd($d.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var qw=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Cf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yf(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(vf(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Fd()}},t.prototype.Hf=function(t,e){var n=this,r={};return df(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new K_(yf(t.latitude),yf(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=_f(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(wf(t));default:return null}},t.prototype.Qf=function(t){var e=mf(t);return new rf(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=af.ot(t);Ud(bm(n));var r=new Ad(n.get(1),n.get(3)),i=new lf(n.Y(5));return r.isEqual(e)||Nd("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Ww=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new H_(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Yw(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field($w("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Yw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Id.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ww);function $w(t,e){return"string"==typeof e?_w(t,e):e instanceof A_?e.d_.f_:e.f_}function Gw(t){if(gp(t)&&0===t.xt.length)throw new Gd($d.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xw=function(){};function Kw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.td(t)}return t}var Qw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(Id.c)(e,t),e.prototype.td=function(t){var e=rw(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ut()){if("array-contains"===s||"array-contains-any"===s)throw new Gd($d.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){iO(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(rO(r,t,l[u]));a={arrayValue:{values:c}}}else a=rO(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||iO(o,s),a=fw(n,"where",o,"in"===s||"not-in"===s);var h=Kf.create(i,s,a);return function(t,e){if(e.Ct()){var n=yp(t);if(null!==n&&!n.isEqual(e.field))throw new Gd($d.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=mp(t);null!==r&&sO(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Gd($d.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new q_(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new hp(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Xw),Jw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(Id.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Gd($d.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Gd($d.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ap(e,n);return function(t,e){if(null===mp(t)){var n=yp(t);null!==n&&sO(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new q_(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new hp(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Xw),Zw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(Id.c)(e,t),e.prototype.td=function(t){return new q_(t.firestore,t.v_,wp(t.C_,this.od,this.ad))},e}(Xw),tO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Id.c)(e,t),e.prototype.td=function(t){var e=nO(t,this.type,this.ud,this.hd);return new q_(t.firestore,t.v_,function(t,e){return new hp(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Xw),eO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Id.c)(e,t),e.prototype.td=function(t){var e=nO(t,this.type,this.ud,this.hd);return new q_(t.firestore,t.v_,function(t,e){return new hp(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Xw);function nO(t,e,n,r){if(n[0]instanceof A_&&(n[0]=n[0].d_),n[0]instanceof Ww)return function(t,e,n,r,i){if(!r)throw new Gd($d.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=bp(t);o<a.length;o++){var c=a[o];if(c.field.ut())s.push(jf(e,r.key));else{var u=r.field(c.field);if(bf(u))throw new Gd($d.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.rt();throw new Gd($d.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new sp(s,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=rw(t.firestore);return function(t,e,n,r,i,s){var o=t.xt;if(i.length>o.length)throw new Gd($d.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(o[c].field.ut()){if("string"!=typeof u)throw new Gd($d.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!vp(t)&&-1!==u.indexOf("/"))throw new Gd($d.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(af.ot(u));if(!lf.wt(l))throw new Gd($d.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new lf(l);a.push(jf(e,h))}else{var d=fw(n,r,u);a.push(d)}}return new sp(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function rO(t,e,n){if(n instanceof A_&&(n=n.d_),"string"==typeof n){if(""===n)throw new Gd($d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vp(e)&&-1!==n.indexOf("/"))throw new Gd($d.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(af.ot(n));if(!lf.wt(r))throw new Gd($d.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return jf(t,new lf(r))}if(n instanceof H_)return jf(t,n.S_);throw new Gd($d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+L_(n)+".")}function iO(t,e){if(!Array.isArray(t)||0===t.length)throw new Gd($d.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Gd($d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function sO(t,e,n){if(!n.isEqual(e))throw new Gd($d.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function oO(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var aO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Id.c)(e,t),e.prototype.Wf=function(t){return new Xd(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new H_(this.firestore,null,e)},e}(qw),cO=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),uO=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).Yf=e,a.ld=e,a.metadata=s,a}return Object(Id.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new lO(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field($w("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Ww),lO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Id.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(uO),hO=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new cO(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new lO(n.Yf,n.Xf,r.key,r,new cO(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Gd($d.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new lO(t.Yf,t.Xf,e.doc.key,e.doc,new cO(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new lO(t.Yf,t.Xf,e.doc.key,e.doc,new cO(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:dO(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.dd=e),this.fd},t}();function dO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fd()}}function fO(t,e){return t instanceof uO&&e instanceof uO?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof hO&&e instanceof hO&&t.Yf===e.Yf&&X_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var pO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Id.c)(e,t),e.prototype.Wf=function(t){return new Xd(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new H_(this.firestore,null,e)},e}(qw);function gO(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=F_(t,H_);var s=F_(t.firestore,Uw),o=rw(s);return e instanceof A_&&(e=e.d_),yO(s,[("string"==typeof e||e instanceof I_?dw(o,"updateDoc",t.S_,e,n,r):hw(o,"updateDoc",t.S_,e)).F_(t.S_,Yp.exists(!0))])}function mO(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof A_&&(t=t.d_);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Fw(i[a])||(o=i[a],a++);var c,u,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Fw(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof H_)u=F_(t.firestore,Uw),l=fp(t.S_.path),c={next:function(e){i[a]&&i[a](vO(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=F_(t,q_);u=F_(f.firestore,Uw),l=f.C_;var p=new pO(u);c={next:function(t){i[a]&&i[a](new hO(u,p,f,t))},error:i[a+1],complete:i[a+2]},Gw(t.C_)}return function(t,e,n,r){var i=this,s=new k_(r),o=new Fb(e,s,n);return t._s.Ps(function(){return Object(Id.b)(i,void 0,void 0,function(){var e;return Object(Id.d)(this,function(n){switch(n.label){case 0:return e=Mb,[4,Dw(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.i_(),t._s.Ps(function(){return Object(Id.b)(i,void 0,void 0,function(){var e;return Object(Id.d)(this,function(n){switch(n.label){case 0:return e=Db,[4,Dw(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Vw(u),l,h,c)}function yO(t,e){return function(t,e){var n=this,r=new _m;return t._s.Ps(function(){return Object(Id.b)(n,void 0,void 0,function(){var n;return Object(Id.d)(this,function(i){switch(i.label){case 0:return n=Kb,[4,Mw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Vw(t),e)}function vO(t,e,n){var r=n.docs.get(e.S_),i=new pO(t);return new uO(t,i,e.S_,r,new cO(n.hasPendingWrites,n.fromCache),e.v_)}var bO=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=rw(t)}return t.prototype.set=function(t,e,n){this.md();var r=_O(t,this.Yf),i=oO(r.v_,e,n),s=iw(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(s.F_(r.S_,Yp.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var s,o=_O(t,this.Yf);return e instanceof A_&&(e=e.d_),s="string"==typeof e||e instanceof I_?dw(this.Id,"WriteBatch.update",o.S_,e,n,r):hw(this.Id,"WriteBatch.update",o.S_,e),this.Ed.push(s.F_(o.S_,Yp.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=_O(t,this.Yf);return this.Ed=this.Ed.concat(new cg(e.S_,Yp.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Gd($d.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function _O(t,e){if(t instanceof A_&&(t=t.d_),t.firestore!==e)throw new Gd($d.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var wO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(Id.c)(e,t),e.prototype.get=function(e){var n=this,r=_O(e,this.Yf),i=new pO(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new uO(n.Yf,i,r.S_,t.Zf,new cO(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=rw(t)}return t.prototype.get=function(t){var e=this,n=_O(t,this.Yf),r=new aO(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Fd();var i=t[0];if(i instanceof Hf)return new Ww(e.Yf,r,n.S_,null,n.v_);if(i instanceof zf)return new Ww(e.Yf,r,i.key,i,n.v_);throw Fd()})},t.prototype.set=function(t,e,n){var r=_O(t,this.Yf),i=oO(r.v_,e,n),s=iw(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=_O(t,this.Yf);return e instanceof A_&&(e=e.d_),s="string"==typeof e||e instanceof I_?dw(this.Id,"Transaction.update",o.S_,e,n,r):hw(this.Id,"Transaction.update",o.S_,e),this.Ad.update(o.S_,s),this},t.prototype.delete=function(t){var e=_O(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function OO(){if("undefined"==typeof Uint8Array)throw new Gd($d.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function SO(){if("undefined"==typeof atob)throw new Gd($d.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var EO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Id.c)(e,t),e.fromBase64String=function(t){return SO(),new e(Xd.fromBase64String(t))},e.fromUint8Array=function(t){return OO(),new e(Xd.fromUint8Array(t))},e.prototype.toBase64=function(){return SO(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return OO(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(A_),CO=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Hw(t=F_(t,Uw));var n=Vw(t),r=t.p_(),i=new x_;return zw(n,i,new C_(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Hw(t=F_(t,Uw));var e=Vw(t),n=t.p_(),r=new x_;return zw(e,r,new T_(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Gd($d.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new _m;return t.Bf.Tf(function(){return Object(Id.b)(e,void 0,void 0,function(){var e;return Object(Id.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Id.b)(this,void 0,void 0,function(){return Object(Id.d)(this,function(e){switch(e.label){case 0:return Sm.Kn()?[4,Sm.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(iv(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),TO=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Ad||(i.Pd=e),i}return Object(Id.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=F_(t,z_)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Rd("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Id.b)(e,void 0,void 0,function(){var e,n;return Object(Id.d)(this,function(r){switch(r.label){case 0:return[4,Pw(t)];case 1:return e=r.sent(),[4,jw(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Vd(t);return e.Nh.delete(0),ob(e)}(n))]}})})})}(Vw(F_(this.d_,Uw)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Id.b)(e,void 0,void 0,function(){var e,n;return Object(Id.d)(this,function(r){switch(r.label){case 0:return[4,Pw(t)];case 1:return e=r.sent(),[4,jw(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(Id.b)(this,void 0,void 0,function(){var e;return Object(Id.d)(this,function(n){switch(n.label){case 0:return(e=Vd(t)).Nh.add(0),[4,ab(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(Vw(F_(this.d_,Uw)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&D_("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new _m;return t._s.Ps(function(){return Object(Id.b)(e,void 0,void 0,function(){var e;return Object(Id.d)(this,function(r){switch(r.label){case 0:return e=n_,[4,Mw(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Vw(F_(this.d_,Uw)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new k_(e);return t._s.Ps(function(){return Object(Id.b)(n,void 0,void 0,function(){var e;return Object(Id.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Vd(t).Wh.add(e),e.next()},[4,Dw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(Id.b)(n,void 0,void 0,function(){var e;return Object(Id.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Vd(t).Wh.delete(e)},[4,Dw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Vw(t=F_(t,Uw)),Fw(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Gd($d.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new VO(this,Y_(this.d_,t))}catch(t){throw jO(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new AO(this,$_(this.d_,t))}catch(t){throw jO(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new LO(this,function(t,e){if(t=F_(t,z_),j_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Gd($d.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new q_(t,null,function(t){return new hp(af.ct(),t)}(e))}(this.d_,t))}catch(t){throw jO(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new _m;return t._s.Ps(function(){return Object(Id.b)(n,void 0,void 0,function(){var n;return Object(Id.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Iw(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new Ew(t._s,n,e,r).run(),[2]}})})}),r.promise}(Vw(t),function(n){return e(new wO(t,n))})}(this.d_,function(n){return t(new kO(e,n))})},e.prototype.batch=function(){var t=this;return Vw(this.d_),new IO(new bO(this.d_,function(e){return yO(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new Gd($d.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Gd($d.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(A_),xO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Id.c)(e,t),e.prototype.Wf=function(t){return new EO(new Xd(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return AO.yd(e,this.firestore,null)},e}(qw),kO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new xO(e),r}return Object(Id.c)(e,t),e.prototype.get=function(t){var e=this,n=BO(t);return this.d_.get(n).then(function(t){return new NO(e.Yf,new uO(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=BO(t);return n?(M_("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=BO(t);return 2===arguments.length?this.d_.update(o,e):(r=this.d_).update.apply(r,Object(Id.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=BO(t);return this.d_.delete(e),this},e}(A_),IO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Id.c)(e,t),e.prototype.set=function(t,e,n){var r=BO(t);return n?(M_("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=BO(t);return 2===arguments.length?this.d_.update(o,e):(r=this.d_).update.apply(r,Object(Id.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=BO(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(A_),PO=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(Id.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new lO(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new RO(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new xO(t),n),i.set(n,s)),s},e}(A_);PO.Vd=new WeakMap;var AO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new xO(e),r}return Object(Id.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Gd($d.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new H_(n.d_,r,new lf(t)))},e.yd=function(t,n,r){return new e(n,new H_(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new VO(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new VO(this.firestore,Y_(this.d_,t))}catch(t){throw jO(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof A_&&(t=t.d_),t instanceof H_&&G_(this.d_,t)},e.prototype.set=function(t,e){e=M_("DocumentReference.set",e);try{return function(t,e,n){t=F_(t,H_);var r=F_(t.firestore,Uw),i=oO(t.v_,e,n);return yO(r,[iw(rw(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Yp.Kt())])}(this.d_,t,e)}catch(t){throw jO(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?gO(this.d_,t):gO.apply(void 0,Object(Id.g)([this.d_,t,e],n))}catch(t){throw jO(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return yO(F_((t=this.d_).firestore,Uw),[new cg(t.S_,Yp.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=MO(e),i=DO(e,function(e){return new NO(t.firestore,new uO(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return mO(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=F_(t,H_);var e=F_(t.firestore,Uw),n=Vw(e),r=new pO(e);return function(t,e){var n=this,r=new _m;return t._s.Ps(function(){return Object(Id.b)(n,void 0,void 0,function(){var n;return Object(Id.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Id.b)(this,void 0,void 0,function(){var r,i;return Object(Id.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Vd(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof zf?n.resolve(i):i instanceof Hf?n.resolve(null):n.reject(new Gd($d.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=jm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Aw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new uO(e,r,t.S_,n,new cO(n instanceof zf&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=F_(t,H_);var e=F_(t.firestore,Uw);return Nw(Vw(e),t.S_,{source:"server"}).then(function(n){return vO(e,t,n)})}(this.d_):function(t){t=F_(t,H_);var e=F_(t.firestore,Uw);return Nw(Vw(e),t.S_).then(function(n){return vO(e,t,n)})}(this.d_)).then(function(t){return new NO(e.firestore,new uO(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(PO.gd(this.firestore,t)))},e}(A_);function jO(t,e,n){return t.message=t.message.replace(e,n),t}function MO(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Fw(r))return r}return{}}function DO(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Fw(t[0])?t[0]:Fw(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var NO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Id.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new AO(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return fO(this.d_,t.d_)},e}(A_),RO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Id.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(NO),LO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new xO(e),r}return Object(Id.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Kw(this.d_,function(t,e,n){var r=e,i=$w("where",t);return new Qw(i,r,n)}(t,n,r)))}catch(t){throw jO(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Kw(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=$w("orderBy",t);return new Jw(r,n)}(t,n)))}catch(t){throw jO(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Kw(this.d_,function(t){return U_("limit",t),new Zw("limit",t,"F")}(t)))}catch(t){throw jO(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Kw(this.d_,function(t){return U_("limitToLast",t),new Zw("limitToLast",t,"L")}(t)))}catch(t){throw jO(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Kw(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tO("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw jO(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Kw(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tO("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw jO(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Kw(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eO("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw jO(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Kw(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eO("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw jO(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return X_(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=F_(t,q_);var e=F_(t.firestore,Uw),n=Vw(e),r=new pO(e);return function(t,e){var n=this,r=new _m;return t._s.Ps(function(){return Object(Id.b)(n,void 0,void 0,function(){var n;return Object(Id.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Id.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Id.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,bv(t,e,!0)];case 1:return a=c.sent(),r=new Hb(e,a.Rc),i=r.fl(a.documents),s=r.wi(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=jm(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Aw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new hO(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=F_(t,q_);var e=F_(t.firestore,Uw),n=Vw(e),r=new pO(e);return Rw(n,t.C_,{source:"server"}).then(function(n){return new hO(e,r,t,n)})}(this.d_):function(t){t=F_(t,q_);var e=F_(t.firestore,Uw),n=Vw(e),r=new pO(e);return Gw(t.C_),Rw(n,t.C_).then(function(n){return new hO(e,r,t,n)})}(this.d_)).then(function(t){return new UO(e.firestore,new hO(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=MO(e),i=DO(e,function(e){return new UO(t.firestore,new hO(t.firestore.d_,t.Xf,t.d_,e._d))});return mO(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(PO.gd(this.firestore,t)))},e}(A_),FO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Id.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new RO(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(A_),UO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Id.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new LO(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new RO(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new FO(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new RO(n.Yf,r))})},e.prototype.isEqual=function(t){return fO(this.d_,t.d_)},e}(A_),VO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(Id.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new AO(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new AO(this.firestore,void 0===t?$_(this.d_):$_(this.d_,t))}catch(t){throw jO(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=F_(t.firestore,Uw),r=$_(t),i=oO(t.v_,e);return yO(n,[iw(rw(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Yp.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new AO(e.firestore,t)})},e.prototype.isEqual=function(t){return G_(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(PO.gd(this.firestore,t)))},e}(LO);function BO(t){return t instanceof A_&&(t=t.d_),F_(t,H_)}var zO,HO=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(I_.bind.apply(I_,Object(Id.g)([void 0],e))))||this}return Object(Id.c)(e,t),e.documentId=function(){return new e(uf.ht().rt())},e.prototype.isEqual=function(t){return t instanceof A_&&(t=t.d_),t instanceof I_&&this.d_.f_.isEqual(t.f_)},e}(A_),qO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Id.c)(e,t),e.serverTimestamp=function(){var t=new aw("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new sw("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cw("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uw("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new lw("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(A_),WO=n("/6Yf"),YO={Firestore:TO,GeoPoint:K_,Timestamp:rf,Blob:EO,Transaction:kO,WriteBatch:IO,DocumentReference:AO,DocumentSnapshot:NO,Query:LO,QueryDocumentSnapshot:RO,QuerySnapshot:UO,CollectionReference:VO,FieldPath:HO,FieldValue:qO,setLogLevel:function(t){jd.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new WO.a("firestore",function(t){return function(t,e){return new TO(t,new Uw(t,e),new CO)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},YO)))})(zO=Cc.a),zO.registerVersion("@firebase/firestore","2.1.7");var $O=n("VRyK"),GO=n("qgXg"),XO=n("Ylt2");class KO extends mn.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new QO(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new yn.a;if(this.isStopped||this.hasError?s=vr.a.EMPTY:(this.observers.push(t),s=new XO.a(this,t)),r&&t.add(t=new Oc.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||GO.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class QO{constructor(t,e){this.time=t,this.value=e}}function JO(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(u){let l;o++,!i||a?(a=!1,i=new KO(t,e,r),l=i.subscribe(this),s=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function ZO(t,e){return e?Un(()=>t,e):Un(()=>t)}var tS=n("tf+s");const eS=new s.t("angularfire2.auth.use-emulator"),nS=new s.t("angularfire2.auth.settings"),rS=new s.t("angularfire2.auth.tenant-id"),iS=new s.t("angularfire2.auth.langugage-code"),sS=new s.t("angularfire2.auth.use-device-language"),oS=new s.t("angularfire.auth.persistence");let aS=(()=>{class t{constructor(t,e,r,i,s,o,a,c,u,l){const h=new Sc.d(i),d=Object(Sc.h)(h),f=new mn.a,p=Object(gn.a)(void 0).pipe(Object(Oc.b)(h.outsideAngular),Un(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(Ln.a)(()=>Object(Sc.g)(t,i,e)),Object(Ln.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Sc.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),JO({bufferSize:1,refCount:!1}));if(W(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(gn.a)(null);else{p.pipe(gr()).subscribe();const t=p.pipe(Un(t=>t.getRedirectResult().then(t=>t,()=>null)),d,JO({bufferSize:1,refCount:!1})),e=t=>new Cn.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Un(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Un(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(ZO(n),Object(tS.a)(h.outsideAngular),Object(Oc.b)(h.insideAngular)),this.user=t.pipe(ZO(r),Object(tS.a)(h.outsideAngular),Object(Oc.b)(h.insideAngular)),this.idToken=this.user.pipe(Un(t=>t?Object(pn.a)(t.getIdToken()):Object(gn.a)(null))),this.idTokenResult=this.user.pipe(Un(t=>t?Object(pn.a)(t.getIdTokenResult()):Object(gn.a)(null))),this.credential=Object($O.a)(t,f,this.authState.pipe(Kn(t=>!t))).pipe(Object(Ln.a)(t=>(null==t?void 0:t.user)?t:null),Object(tS.a)(h.outsideAngular),Object(Oc.b)(h.insideAngular))}return Object(Sc.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(Sc.c),s.Yb(Sc.b,8),s.Yb(s.F),s.Yb(s.D),s.Yb(eS,8),s.Yb(nS,8),s.Yb(rS,8),s.Yb(iS,8),s.Yb(sS,8),s.Yb(oS,8))},t.\u0275prov=Object(s.Kb)({factory:function(){return new t(Object(s.Yb)(Sc.c),Object(s.Yb)(Sc.b,8),Object(s.Yb)(s.F),Object(s.Yb)(s.D),Object(s.Yb)(eS,8),Object(s.Yb)(nS,8),Object(s.Yb)(rS,8),Object(s.Yb)(iS,8),Object(s.Yb)(sS,8),Object(s.Yb)(oS,8))},token:t,providedIn:"any"}),t})();function cS(t,e){return function(t,e=gc.b){return new Cn.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function uS(t,e){return cS(t,e).pipe(Object(Ln.a)(t=>({payload:t,type:"query"})))}function lS(t,e){return uS(t,e).pipe(Yn(void 0),mc(),Object(Ln.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function hS(t,e,n){return lS(t,n).pipe($n((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return dS(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return dS(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return dS(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),bc(),Object(Ln.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function dS(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function fS(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Sc.e)(aS,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class pS{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=lS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ln.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Yn(void 0),mc(),Kn(([t,e])=>e.length>0||!t),Object(Ln.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe($n((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=fS(t);return hS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return uS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ln.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(pn.a)(this.query.get(t)).pipe(Object(Oc.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new gS(this.ref.doc(t),this.afs)}}class gS{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=wS(n,e);return new pS(r,i,this.afs)}snapshotChanges(){return cS(this.ref,this.afs.schedulers.outsideAngular).pipe(Yn(void 0),mc(),Object(Ln.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ln.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(pn.a)(this.ref.get(t)).pipe(Object(Oc.b)(this.afs.schedulers.insideAngular))}}class mS{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?lS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ln.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Kn(t=>t.length>0),this.afs.keepUnstableUntilFirst):lS(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe($n((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=fS(t);return hS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return uS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ln.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(pn.a)(this.query.get(t)).pipe(Object(Oc.b)(this.afs.schedulers.insideAngular))}}const yS=new s.t("angularfire2.enableFirestorePersistence"),vS=new s.t("angularfire2.firestore.persistenceSettings"),bS=new s.t("angularfire2.firestore.settings"),_S=new s.t("angularfire2.firestore.use-emulator");function wS(t,e=(t=>t)){return{query:e(t),ref:t}}let OS=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new Sc.d(s),this.keepUnstableUntilFirst=Object(Sc.h)(this.schedulers);const u=Object(Sc.g)(t,s,e);!Ec.a.auth&&c&&Object(Sc.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Sc.f)(`${u.name}.firestore`,"AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!W(i)){const e=()=>{try{return Object(pn.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(zO){return"undefined"!=typeof console&&console.warn(zO),Object(gn.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(gn.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=wS(n,e),s=this.schedulers.ngZone.run(()=>r);return new pS(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new mS(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new gS(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(Sc.c),s.Yb(Sc.b,8),s.Yb(yS,8),s.Yb(bS,8),s.Yb(s.F),s.Yb(s.D),s.Yb(vS,8),s.Yb(_S,8),s.Yb(eS,8))},t.\u0275prov=Object(s.Kb)({factory:function(){return new t(Object(s.Yb)(Sc.c),Object(s.Yb)(Sc.b,8),Object(s.Yb)(yS,8),Object(s.Yb)(bS,8),Object(s.Yb)(s.F),Object(s.Yb)(s.D),Object(s.Yb)(vS,8),Object(s.Yb)(_S,8),Object(s.Yb)(eS,8))},token:t,providedIn:"any"}),t})(),SS=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:yS,useValue:!0},{provide:vS,useValue:e}]}}}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},providers:[OS]}),t})(),ES=(()=>{class t{constructor(t,e,n){this.backendService=t,this.popTriggerService=e,this.db=n,this.newMessages=0,this.widgetIsActive=!1,this.windowIsActive=!0,this.shouldNotify=!0,this.chatIsAvailable=!0,this.chatStatus="closed",this.widgetOnRight=!0,this.fullHeight=!1,this.freeDivMode=!1,this.removeReferral=!1,this.referralIsLink=!0,this.windowWidth=300,this.isMobileDisplay=!1,this.isMobile=!1,this.openCloseSubject=new mn.a,this.launcherAnimationSubject=new mn.a,this.hrefChangedSubject=new mn.a,this.setUserSubject=new mn.a,this.chatStyle={launcherButtonStyle:{},launcherAnimationUrl:void 0,launcherAnimationDelay:void 0,headerStyle:{background:"",textAndLogo:{color:""}},welcomeHeaderStyle:{},bgStyle:{},messageStyle:{},visitorMessageStyle:{},headerText:{title:"",text:""},popNotifStyle:{},buttonsStyle:{buttons:{},item:{},hoveredItem:{},itemContent:{},hoveredItemContent:{}},sendButtonColor:"",iframeOpenStyle:"",iframeOpenMobileStyle:"",iframeClosedStyle:"",iframeClosedMobileStyle:"",enableHeaderImage:null},this.pendingOrderValidationEventData=null,this.pendingBcConsentCollectedEvent=!1,this.widget=null,parent.window.postMessage({type:"bc_initialized"},"*"),window.addEventListener("message",t=>{if(t.data.type)switch(t.data.type){case"bc_onpage":this.windowIsActive=!0,this.updateNotificationStatus();break;case"bc_leftpage":this.windowIsActive=!1,setTimeout(()=>this.updateNotificationStatus(),10);break;case"bc_sendWidth":this.windowWidth=t.data.data,e.sendRefreshIframeSignal();break;case"bc_hrefChange":this.hrefChange(t.data.data);break;case"bc_customEvent":Object.assign(t.data.data,{isMobile:this.isMobile,userAgent:window.navigator.userAgent,pageUrl:Da(this.widget?this.widget.parentPageUrl:void 0),pageTitle:this.widget?this.widget.parentPageTitle:void 0,language:this.widget?this.widget.language:void 0}),this.backendService.logEvent(Ma.CUSTOM_EVENT,void 0,t.data.data);break;case"bc_orderValidatedEvent":if(this.widget){switch(Object.assign(t.data.data,{isMobile:this.isMobile,userAgent:window.navigator.userAgent,pageUrl:Da(this.widget.parentPageUrl),pageTitle:this.widget.parentPageTitle,language:this.widget.language}),this.widget.session.triggerStatus){case Pa.ENGAGING:case Pa.WELCOMING_ENGAGING:case Pa.ENGAGED:this.widget.session.triggerData&&Object.assign(t.data.data,{triggerId:this.widget.session.triggerData.triggerId});break;case Pa.WELCOMING:this.widget.session.welcomeTriggerData&&Object.assign(t.data.data,{triggerId:this.widget.session.welcomeTriggerData.triggerId});break;default:t.data.data.triggerId=null}if("number"!=typeof t.data.data.orderAmount&&(t.data.data.orderAmount=Number(t.data.data.orderAmount)),isNaN(t.data.data.orderAmount))return void console.error("orderAmount is Not a Number");this.backendService.logEvent(Ma.ORDER_VALIDATED,t.data.data.transactionId,t.data.data),this.pendingOrderValidationEventData=null}else this.pendingOrderValidationEventData=t.data.data;break;case"bc_setUser":if(this.widget.ghostMode)if(t.data.data.email)this.widget.leaveGhostMode().then(()=>{this.backendService.setUserIdentity(t.data.data).then(t=>{const e=new Ia(t.email,t.firstName,t.lastName,t.type,t.id,t.avatar,t.customData);this.setUserSubject.next(e)})});else{this.widget.session.customer.firstName=t.data.data.firstName,this.widget.session.customer.lastName=t.data.data.lastName,t.data.data.customData&&t.data.data.customData.length&&(this.widget.session.customer.customData=t.data.data.customData);const e=this.widget.session.customer,n=new Ia(e.email,e.firstName,e.lastName,e.type,e.id,e.avatar,e.customData);this.setUserSubject.next(n)}else this.backendService.setUserIdentity(t.data.data).then(t=>{const e=new Ia(t.email,t.firstName,t.lastName,t.type,t.id,t.avatar,t.customData);this.setUserSubject.next(e)});break;case"bc_resetUser":this.widget.ghostMode?this.backendService.resetGhostSession(this.widget.session).then(t=>{this.widget.messagesClear(),this.widget.setSession(t),this.backendService.getNewLead(t.id,t.accountId).then(t=>{const e=new Ia(t.email,t.firstName,t.lastName,t.type,t.id,t.avatar,t.customData);this.setUserSubject.next(e)})}):this.backendService.resetUser().then(t=>{const e=new Ia(t.email,t.firstName,t.lastName,t.type,t.id,t.avatar,t.customData);this.setUserSubject.next(e)});break;case"bc_sendIsMobile":this.isMobileDisplay=t.data.data.isMobileDisplay,this.isMobile=t.data.data.isMobile,t.data.data.ghostMode||this.backendService.sendIsMobile(t.data.data.isMobile);break;case"bc_consentCollected":this.bcConsentCollectedEvent();break;case"bc_consentReceivedOnInit":"string"==typeof t.data.data&&t.data.data&&this.backendService.logEvent(Ma.GDPR_ACCEPT_ON_INIT,`gdpr_accept-${t.data.data}`);break;case"bc_openWidgetGhost":this.setChatStatus(t.data.data?"open":"closed",!1,!1,this.widget);break;default:return}},!1),window.addEventListener("focus",t=>{this.widgetIsActive=!0,this.updateNotificationStatus()}),window.addEventListener("blur",t=>{this.widgetIsActive=!1,setTimeout(()=>this.updateNotificationStatus(),10)})}onNewMessage(t,e){this.chatIsAvailable&&"closed"===this.chatStatus&&!t.noNotif&&(this.newMessages+=1,t.popNotif&&!e&&this.popTriggerService.addMessage(t),this.updateNewMessagesStatus())}enable(t,e,n,r){const i=!this.widget;this.widget=n,"open"===e?this.openChat(!1,n):"closed"===e&&this.closeChat(),parent.window.postMessage({type:"bc_enable",data:{style:r.style?r.style:""}},"*"),this.chatStyle.launcherAnimationDelay&&this.chatStyle.launcherAnimationUrl&&this.launcherAnimationSubject.next({delay:this.chatStyle.launcherAnimationDelay,url:this.chatStyle.launcherAnimationUrl}),i&&this.pendingOrderValidationEventData&&(Object.assign(this.pendingOrderValidationEventData,{isMobile:this.isMobile,userAgent:window.navigator.userAgent,pageUrl:Da(this.widget.parentPageUrl),pageTitle:this.widget.parentPageTitle,language:this.widget.language}),t.triggerData&&Object.assign(this.pendingOrderValidationEventData,{triggerId:t.triggerData.triggerId}),"number"!=typeof this.pendingOrderValidationEventData.orderAmount&&(this.pendingOrderValidationEventData.orderAmount=Number(this.pendingOrderValidationEventData.orderAmount)),isNaN(this.pendingOrderValidationEventData.orderAmount)?console.error("orderAmount is Not a Number"):this.backendService.logEvent(Ma.ORDER_VALIDATED,this.pendingOrderValidationEventData.transactionId,this.pendingOrderValidationEventData).then(()=>{this.pendingOrderValidationEventData=null}))}disable(){this.chatStatus="closed",this.newMessages=0,this.updateNewMessagesStatus(),this.chatStyle.launcherButtonStyle.style?"circle"===this.chatStyle.launcherButtonStyle.style?parent.window.postMessage({type:"bc_close_circle"},"*"):"square"===this.chatStyle.launcherButtonStyle.style?parent.window.postMessage({type:"bc_close_square"},"*"):""===this.chatStyle.launcherButtonStyle.style&&parent.window.postMessage({type:"bc_close_circle"},"*"):parent.window.postMessage({type:"bc_close"},"*"),parent.window.postMessage({type:"bc_disable"},"*")}sleep(t){return new Promise(e=>setTimeout(e,t))}updateNotificationStatus(){this.shouldNotify=!this.widgetIsActive&&!this.windowIsActive||"closed"===this.chatStatus}getlauncherButtonStyle(){let t="30",e={background:this.chatStyle.launcherButtonStyle.background};this.chatStyle.launcherButtonStyle.style&&""!==this.chatStyle.launcherButtonStyle.style&&(t="circle"===this.chatStyle.launcherButtonStyle.style?"30":"15"),this.chatStyle.launcherButtonStyle.url&&""!==this.chatStyle.launcherButtonStyle.url&&(e={"background-color":this.chatStyle.launcherButtonStyle.background,"background-image":`url("${this.chatStyle.launcherButtonStyle.url}")`,"background-size":"cover","background-position-x":"center","background-position-y":"center",color:"transparent"});const n={display:"closed"===this.chatStatus?"block":"none",right:this.widgetOnRight?"0px":"auto",left:this.widgetOnRight?"auto":"0px",borderRadius:`${t}px`};return this.fullHeight&&(n.borderRadius=this.widgetOnRight?`${t}px 0px 0px ${t}px`:`0px ${t}px ${t}px 0px`),Object.assign(Object.assign({},n),e)}getMessageStyle(t,e){return Object.assign({opacity:e?"1":"0.8"},t?this.chatStyle.visitorMessageStyle:this.chatStyle.messageStyle)}getPopNotifStyle(){const t=Math.min(270,Math.round(.9*this.windowWidth));return{display:this.popTriggerService.messages.length?"flex":"none",float:this.widgetOnRight?"right":"left",width:`${t}px`}}closeChat(t=!0){return Ea(this,void 0,void 0,function*(){this.chatStyle.launcherButtonStyle.style?"circle"===this.chatStyle.launcherButtonStyle.style?parent.window.postMessage({type:"bc_close_circle"},"*"):"square"===this.chatStyle.launcherButtonStyle.style?parent.window.postMessage({type:"bc_close_square"},"*"):""===this.chatStyle.launcherButtonStyle.style&&parent.window.postMessage({type:"bc_close_circle"},"*"):parent.window.postMessage({type:"bc_close"},"*");const e=this.chatStatus;return yield this.sleep(1),this.chatStatus="closed",t&&(this.widget.ghostMode?this.widget.session.open=!1:yield this.db.collection(`${this.environment}-sessions`).doc(this.backendService.sessionId).update({open:!1})),"closed"!==e&&(parent.window.postMessage({type:"bc_analytics",data:{type:"Botmind_ChatClosed"}},"*"),t&&this.backendService.logEvent(Ma.CLOSE)),this.updateNotificationStatus(),this.chatStatus})}openChat(t,e,n=!0){return Ea(this,void 0,void 0,function*(){parent.window.postMessage({type:"bc_open"},"*");const r=this.chatStatus;return yield this.sleep(1),this.chatStatus="open",n&&(this.widget.ghostMode?this.widget.session.open=!0:yield this.db.collection(`${this.environment}-sessions`).doc(this.backendService.sessionId).update({open:!0})),this.newMessages=0,this.popTriggerService.clearMessages(),this.updateNewMessagesStatus(),this.openCloseSubject.next(this.chatStatus),"open"!==r&&t&&(parent.window.postMessage({type:"bc_analytics",data:{type:"Botmind_ChatOpened"}},"*"),n&&this.backendService.logEvent(Ma.OPEN,void 0,{isActorAction:t,isMobile:this.isMobile,userAgent:window.navigator.userAgent,pageUrl:Da(e.parentPageUrl),pageTitle:e.parentPageTitle,language:e.language,date:new Date,isEngageOpen:[Pa.ENGAGING,Pa.WELCOMING_ENGAGING].includes(e.session.triggerStatus),actorId:e.session.customer?e.session.customer.id:"act_00000000-0000-0000-0000-000000000000"})),this.updateNotificationStatus(),this.chatStatus})}toggleChatStatus(t,e){return Ea(this,void 0,void 0,function*(){return"open"===this.chatStatus?this.closeChat():"closed"===this.chatStatus?this.openChat(t,e):void 0})}setChatStatus(t,e,n,r){return Ea(this,void 0,void 0,function*(){return"open"===this.chatStatus&&"closed"===t?this.closeChat(n):"closed"===this.chatStatus&&"open"===t?this.openChat(e,r,n):t})}setEnvironment(t){this.environment=t}updateNewMessagesStatus(){const t={type:""};parent.window.postMessage(this.newMessages?{type:"bc_newMessages"}:{type:"bc_noNewMessages"},"*"),t.type=this.newMessages?"bc_newMessages":"bc_noNewMessages",parent.window.postMessage(t,"*")}refreshIframeStyle(){this.chatStyle.iframeOpenStyle&&parent.window.postMessage({type:"bc_set_iframe_open_css",data:this.chatStyle.iframeOpenStyle},"*"),this.chatStyle.iframeOpenMobileStyle&&parent.window.postMessage({type:"bc_set_iframe_open_mobile_css",data:this.chatStyle.iframeOpenMobileStyle},"*"),this.chatStyle.iframeClosedStyle&&parent.window.postMessage({type:"bc_set_iframe_closed_css",data:this.chatStyle.iframeClosedStyle},"*"),this.chatStyle.iframeClosedMobileStyle&&parent.window.postMessage({type:"bc_set_iframe_closed_mobile_css",data:this.chatStyle.iframeClosedMobileStyle},"*")}setAdditionalIframeHeight(t){parent.window.postMessage({type:"bc_setAddHeight",data:t},"*")}triggerDismissed(){this.widget.ghostMode?this.widget.session.dismissedPopUp=!0:this.db.collection(`${this.environment}-sessions`).doc(this.backendService.sessionId).update({dismissedPopUp:!0})}hrefChange(t){this.hrefChangedSubject.next(t)}getCustomerStorage(t){const e=Date.now();return parent.window.postMessage({type:"bc_getStorage",data:{key:t,stamp:e}},"*"),Ta(window,"message").pipe(Kn(t=>t.data&&"bc_returnGet"===t.data.type&&t.data.data.stamp===e),Object(Ln.a)(t=>t.data.data.value),gr()).toPromise()}setCustomerStorage(t,e){const n=Date.now();return parent.window.postMessage({type:"bc_setStorage",data:{key:t,stamp:n,value:e}},"*"),Ta(window,"message").pipe(Kn(t=>t.data&&"bc_returnSet"===t.data.type&&t.data.data.stamp===n),Object(Ln.a)(t=>t.data.data.value),gr()).toPromise()}removeCustomerStorage(t){const e=Date.now();return parent.window.postMessage({type:"bc_removeStorage",data:{key:t,stamp:e}},"*"),Ta(window,"message").pipe(Kn(t=>t.data&&"bc_returnRemove"===t.data.type&&t.data.data.stamp===e),Object(Ln.a)(t=>t.data.data.value),gr()).toPromise()}bcConsentCollectedEvent(){console.log("bcConsentCollectedEvent called"),this.pendingBcConsentCollectedEvent&&this.widget&&this.widget.session?(this.widget.leaveGhostMode().then(()=>{this.widget&&this.widget.session&&this.widget.session.id&&"string"==typeof this.widget.session.id&&this.backendService.logEvent(Ma.GDPR_ACCEPT_THROUGH_API,`gdpr_accept-${this.widget.session.id}`)}),this.pendingBcConsentCollectedEvent=!1):(this.pendingBcConsentCollectedEvent=!0,window.setTimeout(()=>{this.bcConsentCollectedEvent()},200))}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(fc),s.Yb(pc),s.Yb(OS))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var CS=function(){function t(t){this._options=Object(It.a)({logErrors:!0},t)}return t.prototype.handleError=function(t){var e=this._extractError(t)||"Handled unknown error",n=Qe(e);this._options.logErrors&&console.error(e),this._options.showDialog&&function(t){void 0===t&&(t={}),t.eventId||(t.eventId=Wt().lastEventId());var e=Wt().getClient();e&&e.showReportDialog(t)}(Object(It.a)(Object(It.a)({},this._options.dialogOptions),{eventId:n}))},t.prototype._extractError=function(t){if(this._options.extractor){var e=this._defaultExtractor.bind(this);return this._options.extractor(t,e)}return this._defaultExtractor(t)},t.prototype._defaultExtractor=function(t){var e=t;return e&&e.ngOriginalError&&(e=e.ngOriginalError),"string"==typeof e||e instanceof Error?e:e instanceof Xa?e.error instanceof Error?e.error:e.error instanceof ErrorEvent&&e.error.message?e.error.message:"string"==typeof e.error?"Server returned code "+e.status+' with body "'+e.error+'"':e.message:null},Object(It.b)([Object(s.s)({providedIn:"root"})],t)}(),TS=n("XoHu");function xS(...t){if(1===t.length){const e=t[0];if(Object(_n.a)(e))return kS(e,null);if(Object(TS.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return kS(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return kS(t=1===t.length&&Object(_n.a)(t[0])?t[0]:t,null).pipe(Object(Ln.a)(t=>e(...t)))}return kS(t,null)}function kS(t,e){return new Cn.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(pn.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const IS=new s.t("NgValueAccessor"),PS={provide:IS,useExisting:Object(s.X)(()=>AS),multi:!0};let AS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.H),s.Ob(s.m))},t.\u0275dir=s.Jb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&s.bc("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[s.Cb([PS])]}),t})();const jS={provide:IS,useExisting:Object(s.X)(()=>DS),multi:!0},MS=new s.t("CompositionEventMode");let DS=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=a()?a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.H),s.Ob(s.m),s.Ob(MS,8))},t.\u0275dir=s.Jb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&s.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[s.Cb([jS])]}),t})();function NS(t){return null==t||0===t.length}function RS(t){return null!=t&&"number"==typeof t.length}const LS=new s.t("NgValidators"),FS=new s.t("NgAsyncValidators"),US=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class VS{static min(t){return e=>{if(NS(e.value)||NS(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(NS(e.value)||NS(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return NS(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return NS(t.value)||US.test(t.value)?null:{email:!0}}static minLength(t){return e=>NS(e.value)||!RS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>RS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return VS.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(NS(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(BS);return 0==e.length?null:function(t){return HS(qS(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(BS);return 0==e.length?null:function(t){return xS(qS(t,e).map(zS)).pipe(Object(Ln.a)(HS))}}}function BS(t){return null!=t}function zS(t){const e=Object(s.ub)(t)?Object(pn.a)(t):t;return Object(s.tb)(e),e}function HS(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function qS(t,e){return e.map(e=>e(t))}function WS(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function YS(t){return null!=t?VS.compose(WS(t)):null}function $S(t){return null!=t?VS.composeAsync(WS(t)):null}function GS(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let XS=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=YS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=$S(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Jb({type:t}),t})(),KS=(()=>{class t extends XS{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return QS(e||t)},t.\u0275dir=s.Jb({type:t,features:[s.Ab]}),t})();const QS=s.Wb(KS);class JS extends XS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let ZS=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(JS,2))},t.\u0275dir=s.Jb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&s.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[s.Ab]}),t})();const tE={provide:IS,useExisting:Object(s.X)(()=>eE),multi:!0};let eE=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.H),s.Ob(s.m))},t.\u0275dir=s.Jb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&s.bc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[s.Cb([tE])]}),t})();const nE={provide:IS,useExisting:Object(s.X)(()=>iE),multi:!0};let rE=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),iE=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(JS),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.H),s.Ob(s.m),s.Ob(rE),s.Ob(s.u))},t.\u0275dir=s.Jb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&s.bc("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[s.Cb([nE])]}),t})();const sE={provide:IS,useExisting:Object(s.X)(()=>oE),multi:!0};let oE=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.H),s.Ob(s.m))},t.\u0275dir=s.Jb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&s.bc("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[s.Cb([sE])]}),t})();const aE={provide:IS,useExisting:Object(s.X)(()=>uE),multi:!0};function cE(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let uE=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=cE(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.H),s.Ob(s.m))},t.\u0275dir=s.Jb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&s.bc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[s.Cb([aE])]}),t})(),lE=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(cE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.m),s.Ob(s.H),s.Ob(uE,9))},t.\u0275dir=s.Jb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const hE={provide:IS,useExisting:Object(s.X)(()=>fE),multi:!0};function dE(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let fE=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.H),s.Ob(s.m))},t.\u0275dir=s.Jb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&s.bc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[s.Cb([hE])]}),t})(),pE=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(dE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(dE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.m),s.Ob(s.H),s.Ob(fE,9))},t.\u0275dir=s.Jb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function gE(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const yE=[AS,oE,eE,uE,fE,iE];function vE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function bE(t){return(SE(t)?t.validators:t)||null}function _E(t){return Array.isArray(t)?YS(t):t||null}function wE(t,e){return(SE(e)?e.asyncValidators:t)||null}function OE(t){return Array.isArray(t)?$S(t):t||null}function SE(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class EE{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=_E(this._rawValidators),this._composedAsyncValidatorFn=OE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=_E(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=OE(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=zS(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof TE?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof xE&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.o,this.statusChanges=new s.o}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){SE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class CE extends EE{constructor(t=null,e,n){super(bE(e),wE(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){vE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){vE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class TE extends EE{constructor(t,e,n){super(bE(e),wE(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof CE?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class xE extends EE{constructor(t,e,n){super(bE(e),wE(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof CE?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const kE={provide:JS,useExisting:Object(s.X)(()=>PE)},IE=(()=>Promise.resolve(null))();let PE=(()=>{class t extends JS{constructor(t,e,n,r){super(),this.control=new CE,this._registered=!1,this.update=new s.o,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===DS?n=t:(e=t,yE.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(GS(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(GS(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);{const n=()=>t.updateValueAndValidity();gE(e._rawValidators,n),gE(e._rawAsyncValidators,n)}})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&mE(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&mE(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){IE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;IE.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(KS,9),s.Ob(LS,10),s.Ob(FS,10),s.Ob(IS,10))},t.\u0275dir=s.Jb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s.Cb([kE]),s.Ab,s.Bb]}),t})();const AE={provide:LS,useExisting:Object(s.X)(()=>jE),multi:!0};let jE=(()=>{class t{constructor(){this._validator=VS.nullValidator}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=VS.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Jb({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&s.Eb("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[s.Cb([AE]),s.Bb]}),t})(),ME=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)}}),t})(),DE=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},providers:[rE],imports:[ME]}),t})();function NE(t){return(NE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){RE(t,e,n[e])})}return t}function FE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(c){i=!0,s=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var UE={},VE={};try{"undefined"!=typeof window&&(UE=window),"undefined"!=typeof document&&(VE=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(zO){}var BE=(UE.navigator||{}).userAgent,zE=void 0===BE?"":BE,HE=UE,qE=VE,WE=!!qE.documentElement&&!!qE.head&&"function"==typeof qE.addEventListener&&"function"==typeof qE.createElement,YE=(~zE.indexOf("MSIE")||zE.indexOf("Trident/"),[1,2,3,4,5,6,7,8,9,10]),$E=YE.concat([11,12,13,14,15,16,17,18,19,20]),GE={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},XE=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",GE.GROUP,GE.SWAP_OPACITY,GE.PRIMARY,GE.SECONDARY].concat(YE.map(function(t){return"".concat(t,"x")})).concat($E.map(function(t){return"w-".concat(t)})),HE.FontAwesomeConfig||{});qE&&"function"==typeof qE.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=FE(t,2),n=e[1],r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=qE.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(XE[n]=r)});var KE=LE({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},XE);KE.autoReplaceSvg||(KE.observeMutations=!1);var QE=LE({},KE);HE.FontAwesomeConfig=QE;var JE=HE||{};JE.___FONT_AWESOME___||(JE.___FONT_AWESOME___={}),JE.___FONT_AWESOME___.styles||(JE.___FONT_AWESOME___.styles={}),JE.___FONT_AWESOME___.hooks||(JE.___FONT_AWESOME___.hooks={}),JE.___FONT_AWESOME___.shims||(JE.___FONT_AWESOME___.shims=[]);var ZE=JE.___FONT_AWESOME___,tC=[];WE&&((qE.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(qE.readyState)||qE.addEventListener("DOMContentLoaded",function t(){qE.removeEventListener("DOMContentLoaded",t),tC.map(function(t){return t()})}));var eC,nC=function(){},rC="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,iC="undefined"==typeof setImmediate?setTimeout:setImmediate,sC=[];function oC(){for(var t=0;t<sC.length;t++)sC[t][0](sC[t][1]);sC=[],eC=!1}function aC(t,e){sC.push([t,e]),eC||(eC=!0,iC(oC,0))}function cC(t){var e=t.owner,n=e._state,r=e._data,i=t[n],s=t.then;if("function"==typeof i){n="fulfilled";try{r=i(r)}catch(zO){dC(s,zO)}}uC(s,r)||("fulfilled"===n&&lC(s,r),"rejected"===n&&dC(s,r))}function uC(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===NE(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(r){n||(n=!0,e===r?hC(t,r):lC(t,r))},function(e){n||(n=!0,dC(t,e))}),!0}}catch(zO){return n||dC(t,zO),!0}return!1}function lC(t,e){t!==e&&uC(t,e)||hC(t,e)}function hC(t,e){"pending"===t._state&&(t._state="settled",t._data=e,aC(pC,t))}function dC(t,e){"pending"===t._state&&(t._state="settled",t._data=e,aC(gC,t))}function fC(t){t._then=t._then.forEach(cC)}function pC(t){t._state="fulfilled",fC(t)}function gC(t){t._state="rejected",fC(t),!t._handled&&rC&&global.process.emit("unhandledRejection",t._data,t)}function mC(t){global.process.emit("rejectionHandled",t)}function yC(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof yC==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){dC(e,t)}try{t(function(t){lC(e,t)},n)}catch(zO){n(zO)}}(t,this)}yC.prototype={constructor:yC,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(nC),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,"rejected"===this._state&&rC&&aC(mC,this)),"fulfilled"===this._state||"rejected"===this._state?aC(cC,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},yC.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new yC(function(e,n){var r=[],i=0;function s(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var o,a=0;a<t.length;a++)(o=t[a])&&"function"==typeof o.then?o.then(s(a),n):r[a]=o;i||e(r)})},yC.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new yC(function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)})},yC.resolve=function(t){return t&&"object"===NE(t)&&t.constructor===yC?t:new yC(function(e){e(t)})},yC.reject=function(t){return new yC(function(e,n){n(t)})};var vC={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function bC(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function _C(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function wC(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function OC(t){return t.size!==vC.size||t.x!==vC.x||t.y!==vC.y||t.rotate!==vC.rotate||t.flipX||t.flipY}function SC(t){var e=t.transform,n=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},i="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(s," ").concat(o)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var EC={x:0,y:0,width:"100%",height:"100%"};function CC(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function TC(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,u=t.maskId,l=t.titleId,h=t.extra,d=t.watchable,f=void 0!==d&&d,p=r.found?r:n,g=p.width,m=p.height,y="fak"===i,v=y?"":"fa-w-".concat(Math.ceil(g/m*16)),b=[QE.replacementClass,s?"".concat(QE.familyPrefix,"-").concat(s):"",v].filter(function(t){return-1===h.classes.indexOf(t)}).filter(function(t){return""!==t||!!t}).concat(h.classes).join(" "),_={children:[],attributes:LE({},h.attributes,{"data-prefix":i,"data-icon":s,class:b,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},w=y&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};f&&(_.attributes["data-fa-i2svg"]=""),c&&_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(l||bC())},children:[c]});var O=LE({},_,{prefix:i,iconName:s,main:n,mask:r,maskId:u,transform:o,symbol:a,styles:LE({},w,h.styles)}),S=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,s=t.mask,o=t.maskId,a=i.icon,c=s.icon,u=SC({transform:t.transform,containerWidth:s.width,iconWidth:i.width}),l={tag:"rect",attributes:LE({},EC,{fill:"white"})},h=a.children?{children:a.children.map(CC)}:{},d={tag:"g",attributes:LE({},u.inner),children:[CC(LE({tag:a.tag,attributes:LE({},a.attributes,u.path)},h))]},f={tag:"g",attributes:LE({},u.outer),children:[d]},p="mask-".concat(o||bC()),g="clip-".concat(o||bC()),m={tag:"mask",attributes:LE({},EC,{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[l,f]},y={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(e=c,"g"===e.tag?e.children:[e])},m]};return n.push(y,{tag:"rect",attributes:LE({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(p,")")},EC)}),{children:n,attributes:r}}(O):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,s=wC(t.styles);if(s.length>0&&(n.style=s),OC(i)){var o=SC({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:LE({},o.outer),children:[{tag:"g",attributes:LE({},o.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:LE({},r.icon.attributes,o.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(O),E=S.attributes;return O.children=S.children,O.attributes=E,a?function(t){var e=t.iconName,n=t.children,r=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:LE({},t.attributes,{id:!0===r?"".concat(t.prefix,"-").concat(QE.familyPrefix,"-").concat(e):r}),children:n}]}]}(O):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(OC(o)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=wC(LE({},s,{"transform-origin":"".concat(a.x+o.x/16,"em ").concat(a.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(O)}var xC=function(t,e,n,r){var i,s,o,a=Object.keys(t),c=a.length,u=void 0!==r?function(t,e){return function(n,r,i,s){return t.call(e,n,r,i,s)}}(e,r):e;for(void 0===n?(i=1,o=t[a[0]]):(i=0,o=n);i<c;i++)o=u(o,t[s=a[i]],s,t);return o};function kC(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,s=Object.keys(e).reduce(function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t},{});"function"!=typeof ZE.hooks.addPack||i?ZE.styles[t]=LE({},ZE.styles[t]||{},s):ZE.hooks.addPack(t,s),"fas"===t&&kC("fa",e)}var IC=ZE.styles,PC=ZE.shims,AC=function(){var t=function(t){return xC(IC,function(e,n,r){return e[r]=xC(n,t,{}),e},{})};t(function(t,e,n){return e[3]&&(t[e[3]]=n),t}),t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in IC;xC(PC,function(t,n){var r=n[1];return"far"!==r||e||(r="fas"),t[n[0]]={prefix:r,iconName:n[2]},t},{})};function jC(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function MC(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?_C(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(_C(t[n]),'" ')},"").trim()}(r),">").concat(s.map(MC).join(""),"</").concat(e,">")}function DC(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}AC(),(DC.prototype=Object.create(Error.prototype)).constructor=DC;var NC={fill:"currentColor"},RC={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},LC=(LE({},NC,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),LE({},RC,{attributeName:"opacity"}));function FC(t){var e=t[0],n=t[1],r=FE(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(QE.familyPrefix,"-").concat(GE.GROUP)},children:[{tag:"path",attributes:{class:"".concat(QE.familyPrefix,"-").concat(GE.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(QE.familyPrefix,"-").concat(GE.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function UC(){QE.autoAddCss&&!qC&&(function(t){if(t&&WE){var e=qE.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=qE.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}qE.head.insertBefore(e,r)}}(function(){var t="svg-inline--fa",e=QE.familyPrefix,n=QE.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==e||n!==t){var i=new RegExp("\\.".concat("fa","\\-"),"g"),s=new RegExp("\\--".concat("fa","\\-"),"g"),o=new RegExp("\\.".concat(t),"g");r=r.replace(i,".".concat(e,"-")).replace(s,"--".concat(e,"-")).replace(o,".".concat(n))}return r}()),qC=!0)}function VC(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return MC(t)})}}),Object.defineProperty(t,"node",{get:function(){if(WE){var e=qE.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function BC(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return jC(HC.definitions,n,r)||jC(ZE.styles,n,r)}LE({},NC,{cx:"256",cy:"364",r:"28"}),LE({},RC,{attributeName:"r",values:"28;14;28;28;14;28;"}),LE({},LC,{values:"1;0;1;1;0;1;"}),LE({},NC,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),LE({},LC,{values:"1;0;0;0;0;1;"}),LE({},NC,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),LE({},LC,{values:"0;0;1;1;0;0;"});var zC,HC=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){t.definitions[e]=LE({},t.definitions[e]||{},i[e]),kC(e,i[e]),AC()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],i=r.prefix,s=r.iconName,o=r.icon;t[i]||(t[i]={}),t[i][s]=o}),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()),qC=!1,WC=(zC=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?vC:n,i=e.symbol,s=void 0!==i&&i,o=e.mask,a=void 0===o?null:o,c=e.maskId,u=void 0===c?null:c,l=e.title,h=void 0===l?null:l,d=e.titleId,f=void 0===d?null:d,p=e.classes,g=void 0===p?[]:p,m=e.attributes,y=void 0===m?{}:m,v=e.styles,b=void 0===v?{}:v;if(t){var _=t.prefix,w=t.iconName,O=t.icon;return VC(LE({type:"icon"},t),function(){return UC(),QE.autoA11y&&(h?y["aria-labelledby"]="".concat(QE.replacementClass,"-title-").concat(f||bC()):(y["aria-hidden"]="true",y.focusable="false")),TC({icons:{main:FC(O),mask:a?FC(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:w,transform:LE({},vC,r),symbol:s,title:h,maskId:u,titleId:f,extra:{attributes:y,styles:b,classes:g}})})}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:BC(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:BC(r||{})),zC(n,LE({},e,{mask:r}))});const YC=["*"];let $C=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),GC=(()=>{class t{constructor(){this.definitions={}}addIcons(...t){for(const e of t)e.prefix in this.definitions||(this.definitions[e.prefix]={}),this.definitions[e.prefix][e.iconName]=e}addIconPacks(...t){for(const e of t){const t=Object.keys(e).map(t=>e[t]);this.addIcons(...t)}}getIconDefinition(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const XC=t=>{const e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let KC=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Jb({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[s.Bb]}),t})(),QC=(()=>{class t{constructor(t,e){this.renderer=t,this.elementRef=e}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.H),s.Ob(s.m))},t.\u0275cmp=s.Ib({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[s.Bb],ngContentSelectors:YC,decls:1,vars:0,template:function(t,e){1&t&&(s.jc(),s.ic(0))},encapsulation:2}),t})(),JC=(()=>{class t{constructor(t,e,n,r,i){this.sanitizer=t,this.config=e,this.iconLibrary=n,this.stackItem=r,this.classes=[],null!=i&&null==r&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let e=null;if(e=null==this.icon?this.config.fallbackIcon:this.icon,t){const t=this.findIconDefinition(e);if(null!=t){const e=this.buildParams();this.renderIcon(t,e)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const e=((t,e)=>{return void 0!==(n=t).prefix&&void 0!==n.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;var n})(t,this.config.defaultPrefix);if("icon"in e)return e;const n=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);if(null!=n)return n;const r=BC(e);if(null!=r){const t="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+t);else if(!this.config.globalLibrary)throw new Error(t);return r}return(t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(e),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},e="string"==typeof this.transform?function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t},e):e}(this.transform):this.transform;return{title:this.title,transform:e,classes:[...XC(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,e){const n=WC(t,e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(_t),s.Ob($C),s.Ob(GC),s.Ob(KC,8),s.Ob(QC,8))},t.\u0275cmp=s.Ib({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,e){2&t&&(s.Xb("innerHTML",e.renderedIconHTML,s.vc),s.Eb("title",e.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[s.Bb],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),ZC=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)}}),t})();function tT(t){return!!t&&(t instanceof Cn.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}class eT{}let nT=(()=>{class t extends eT{getTranslation(t){return Object(gn.a)({})}}return t.\u0275fac=function(e){return rT(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();const rT=s.Wb(nT);class iT{}let sT=(()=>{class t{handle(t){return t.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();function oT(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;let n,r,i,s=typeof t;if(s==typeof e&&"object"==s){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(r in i=Object.create(null),t){if(!oT(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&void 0!==e[r])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(r=0;r<n;r++)if(!oT(t[r],e[r]))return!1;return!0}}return!1}function aT(t){return null!=t}function cT(t){return t&&"object"==typeof t&&!Array.isArray(t)}function uT(t,e){let n=Object.assign({},t);return cT(t)&&cT(e)&&Object.keys(e).forEach(r=>{cT(e[r])?r in t?n[r]=uT(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class lT{}let hT=(()=>{class t extends lT{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!aT(t)||!aT(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let r=this.getValue(e,n);return aT(r)?r:t}):t}}return t.\u0275fac=function(e){return dT(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();const dT=s.Wb(hT);class fT{}let pT=(()=>{class t extends fT{compile(t,e){return t}compileTranslations(t,e){return t}}return t.\u0275fac=function(e){return gT(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();const gT=s.Wb(pT);class mT{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new s.o,this.onLangChange=new s.o,this.onDefaultLangChange=new s.o}}const yT=new s.t("USE_STORE"),vT=new s.t("USE_DEFAULT_LANG"),bT=new s.t("DEFAULT_LANGUAGE"),_T=new s.t("USE_EXTEND");let wT=(()=>{class t{constructor(t,e,n,r,i,o=!0,a=!1,c=!1,u){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=r,this.missingTranslationHandler=i,this.useDefaultLang=o,this.isolate=a,this.extend=c,this.pending=!1,this._onTranslationChange=new s.o,this._onLangChange=new s.o,this._onDefaultLangChange=new s.o,this._langs=[],this._translations={},this._translationRequests={},u&&this.setDefaultLang(u)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(null==this.defaultLang&&(this.defaultLang=t),e.pipe(Hn(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return Object(gn.a)(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe(Hn(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),Object(gn.a)(this.translations[t]))}retrieveTranslations(t){let e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe(JO(1),Hn(1));return this.loadingTranslations=e.pipe(Object(Ln.a)(e=>this.compiler.compileTranslations(e,t)),JO(1),Hn(1)),this.loadingTranslations.subscribe({next:e=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},e),this.translations[t]):e,this.updateLangs(),this.pending=!1},error:t=>{this.pending=!1}}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?uT(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let r;if(e instanceof Array){let r={},i=!1;for(let s of e)r[s]=this.getParsedResult(t,s,n),tT(r[s])&&(i=!0);return i?xS(e.map(t=>tT(r[t])?r[t]:Object(gn.a)(r[t]))).pipe(Object(Ln.a)(t=>{let n={};return t.forEach((t,r)=>{n[e[r]]=t}),n})):r}if(t&&(r=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===r&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===r){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),r=this.missingTranslationHandler.handle(t)}return void 0!==r?r:e}get(t,e){if(!aT(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(rr(n=>tT(n=this.getParsedResult(n,t,e))?n:Object(gn.a)(n)));{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return tT(n)?n:Object(gn.a)(n)}}getStreamOnTranslationChange(t,e){if(!aT(t)||!t.length)throw new Error('Parameter "key" required');return Mn(Nn(()=>this.get(t,e)),this.onTranslationChange.pipe(Un(n=>{const r=this.getParsedResult(n.translations,t,e);return"function"==typeof r.subscribe?r:Object(gn.a)(r)})))}stream(t,e){if(!aT(t)||!t.length)throw new Error('Parameter "key" required');return Mn(Nn(()=>this.get(t,e)),this.onLangChange.pipe(Un(n=>{const r=this.getParsedResult(n.translations,t,e);return tT(r)?r:Object(gn.a)(r)})))}instant(t,e){if(!aT(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if(tT(n)){if(t instanceof Array){let e={};return t.forEach((n,r)=>{e[t[r]]=t[r]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(mT),s.Yb(eT),s.Yb(fT),s.Yb(lT),s.Yb(iT),s.Yb(vT),s.Yb(yT),s.Yb(_T),s.Yb(bT))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),OT=(()=>{class t{constructor(t,e){this.translate=t,this._ref=e,this.value=""}updateValue(t,e,n){let r=e=>{this.value=void 0!==e?e:t,this.lastKey=t,this._ref.markForCheck()};if(n){let i=this.translate.getParsedResult(n,t,e);tT(i.subscribe)?i.subscribe(r):r(i)}this.translate.get(t,e).subscribe(r)}transform(t,...e){if(!t||!t.length)return t;if(oT(t,this.lastKey)&&oT(e,this.lastParams))return this.value;let n;if(aT(e[0])&&e.length)if("string"==typeof e[0]&&e[0].length){let t=e[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(t)}catch(zO){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${e[0]}`)}}else"object"!=typeof e[0]||Array.isArray(e[0])||(n=e[0]);return this.lastKey=t,this.lastParams=e,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(e=>{this.lastKey&&e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(e=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(wT),s.ac())},t.\u0275pipe=s.Nb({name:"translate",type:t,pure:!1}),t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),ST=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:eT,useClass:nT},e.compiler||{provide:fT,useClass:pT},e.parser||{provide:lT,useClass:hT},e.missingTranslationHandler||{provide:iT,useClass:sT},mT,{provide:yT,useValue:e.isolate},{provide:vT,useValue:e.useDefaultLang},{provide:_T,useValue:e.extend},{provide:bT,useValue:e.defaultLanguage},wT]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:eT,useClass:nT},e.compiler||{provide:fT,useClass:pT},e.parser||{provide:lT,useClass:hT},e.missingTranslationHandler||{provide:iT,useClass:sT},{provide:yT,useValue:e.isolate},{provide:vT,useValue:e.useDefaultLang},{provide:_T,useValue:e.extend},{provide:bT,useValue:e.defaultLanguage},wT]}}}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)}}),t})();var ET=function(t){return t.TEXT="text",t.TEXT_PAYLOAD="text_payload",t.IMAGE="image",t.QUICK_REPLIES="quick_replies",t.BUTTONS="buttons",t.CAROUSEL="carousel",t.ATTACHMENT="attachment",t.VIDEO="VIDEO",t}({}),CT=function(t){return t.NEW="new",t.ENGAGED="engaged",t.LIVE_ENGAGED="live_engaged",t.WELCOMED="welcomed",t.ASSIGNED="assigned",t.CLOSED="closed",t.REDIRECTED="redirected",t}({}),TT=n("Qrf/"),xT=n("g8G/"),kT=n("4+EV"),IT=n("ar8/"),PT=n("3W10"),AT=n("7/K8"),jT=n("5ggQ"),MT=n("RaoF"),DT=n("oXqc"),NT=n("bQuC"),RT=n("rE59"),LT=n("IBKf");class FT{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new UT(t,this.durationSelector))}}class UT extends Fn.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Fn.c)(n,new Fn.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var VT=n("Y7HM");function BT(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function zT(t){return e=>e.lift(new HT(t))}class HT{constructor(t){this.notifier=t}call(t,e){const n=new qT(t),r=Object(Fn.c)(this.notifier,new Fn.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class qT extends Fn.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function WT(t){return e=>e.lift(new YT(t))}class YT{constructor(t){this.value=t}call(t,e){return e.subscribe(new $T(t,this.value))}}class $T extends wn.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function GT(t){return getComputedStyle(t)}function XT(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r+="px"),t.style[n]=r}return t}function KT(t){var e=document.createElement("div");return e.className=t,e}var QT="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function JT(t,e){if(!QT)throw new Error("No element matching method supported");return QT.call(t,e)}function ZT(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function tx(t,e){return Array.prototype.filter.call(t.children,function(t){return JT(t,e)})}var ex=function(t){return"ps__thumb-"+t},nx=function(t){return"ps__rail-"+t},rx=function(t){return"ps--active-"+t},ix=function(t){return"ps--scrolling-"+t},sx={x:null,y:null};function ox(t,e){var n=t.element.classList,r=ix(e);n.contains(r)?clearTimeout(sx[e]):n.add(r)}function ax(t,e){sx[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(ix(e))},t.settings.scrollingThreshold)}var cx=function(t){this.element=t,this.handlers={}},ux={isEmpty:{configurable:!0}};cx.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},cx.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(r){return!(!e||r===e)||(n.element.removeEventListener(t,r,!1),!1)})},cx.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},ux.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(cx.prototype,ux);var lx=function(){this.eventElements=[]};function hx(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function dx(t,e,n,r,i){var s;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===e)s=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");s=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,r,i){var s=n[0],o=n[1],a=n[2],c=n[3],u=n[4],l=n[5];void 0===r&&(r=!0),void 0===i&&(i=!1);var h=t.element;t.reach[c]=null,h[a]<1&&(t.reach[c]="start"),h[a]>t[s]-t[o]-1&&(t.reach[c]="end"),e&&(h.dispatchEvent(hx("ps-scroll-"+c)),e<0?h.dispatchEvent(hx("ps-scroll-"+u)):e>0&&h.dispatchEvent(hx("ps-scroll-"+l)),r&&function(t,e){ox(t,e),ax(t,e)}(t,c)),t.reach[c]&&(e||i)&&h.dispatchEvent(hx("ps-"+c+"-reach-"+t.reach[c]))}(t,n,s,r,i)}function fx(t){return parseInt(t,10)||0}lx.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new cx(t),this.eventElements.push(e)),e},lx.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},lx.prototype.unbind=function(t,e,n){var r=this.eventElement(t);r.unbind(e,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},lx.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},lx.prototype.once=function(t,e,n){var r=this.eventElement(t),i=function(t){r.unbind(e,i),n(t)};r.bind(e,i)};var px={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function gx(t){var e=t.element,n=Math.floor(e.scrollTop),r=e.getBoundingClientRect();t.containerWidth=Math.ceil(r.width),t.containerHeight=Math.ceil(r.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(tx(e,nx("x")).forEach(function(t){return ZT(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(tx(e,nx("y")).forEach(function(t){return ZT(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=mx(t,fx(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=fx((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=mx(t,fx(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=fx(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},r=Math.floor(t.scrollTop);n.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-r:n.top=e.scrollbarXTop+r,XT(e.scrollbarXRail,n);var i={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?i.right=e.isRtl?e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:e.scrollbarYRight-t.scrollLeft:i.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:e.scrollbarYLeft+t.scrollLeft,XT(e.scrollbarYRail,i),XT(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),XT(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(rx("x")):(e.classList.remove(rx("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(rx("y")):(e.classList.remove(rx("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function mx(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function yx(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],u=e[7],l=e[8],h=t.element,d=null,f=null,p=null;function g(e){e.touches&&e.touches[0]&&(e[i]=e.touches[0].pageY),h[c]=d+p*(e[i]-f),ox(t,u),gx(t),e.stopPropagation(),e.preventDefault()}function m(){ax(t,u),t[l].classList.remove("ps--clicking"),t.event.unbind(t.ownerDocument,"mousemove",g)}function y(e,o){d=h[c],o&&e.touches&&(e[i]=e.touches[0].pageY),f=e[i],p=(t[r]-t[n])/(t[s]-t[a]),o?t.event.bind(t.ownerDocument,"touchmove",g):(t.event.bind(t.ownerDocument,"mousemove",g),t.event.once(t.ownerDocument,"mouseup",m),e.preventDefault()),t[l].classList.add("ps--clicking"),e.stopPropagation()}t.event.bind(t[o],"mousedown",function(t){y(t)}),t.event.bind(t[o],"touchstart",function(t){y(t,!0)})}var vx={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top;t.element.scrollTop+=(n>t.scrollbarYTop?1:-1)*t.containerHeight,gx(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left;t.element.scrollLeft+=(n>t.scrollbarXLeft?1:-1)*t.containerWidth,gx(t),e.stopPropagation()})},"drag-thumb":function(t){yx(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),yx(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(JT(e,":hover")||JT(t.scrollbarX,":focus")||JT(t.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(JT(r=i,"input,[contenteditable]")||JT(r,"select,[contenteditable]")||JT(r,"textarea,[contenteditable]")||JT(r,"button,[contenteditable]"))return}var s=0,o=0;switch(n.which){case 37:s=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:o=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:s=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:o=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:o=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:o=t.containerHeight;break;case 34:o=-t.containerHeight;break;case 36:o=t.contentHeight;break;case 35:o=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==s||t.settings.suppressScrollY&&0!==o||(e.scrollTop-=o,e.scrollLeft+=s,gx(t),function(n,r){var i=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===s&&n<0||s>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(s,o)&&n.preventDefault())}})},wheel:function(t){var e=t.element;function n(n){var r=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),i=r[0],s=r[1];if(!function(t,n,r){if(!px.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains("ps__child--consume"))return!0;var s=GT(i);if(r&&s.overflowY.match(/(scroll|auto)/)){var o=i.scrollHeight-i.clientHeight;if(o>0&&(i.scrollTop>0&&r<0||i.scrollTop<o&&r>0))return!0}if(n&&s.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(a>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<a&&n>0))return!0}i=i.parentNode}return!1}(n.target,i,s)){var o=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(s?e.scrollTop-=s*t.settings.wheelSpeed:e.scrollTop+=i*t.settings.wheelSpeed,o=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(i?e.scrollLeft+=i*t.settings.wheelSpeed:e.scrollLeft-=s*t.settings.wheelSpeed,o=!0):(e.scrollTop-=s*t.settings.wheelSpeed,e.scrollLeft+=i*t.settings.wheelSpeed),gx(t),(o=o||function(n,r){var i=Math.floor(e.scrollTop),s=0===e.scrollTop,o=i+e.offsetHeight===e.scrollHeight,a=0===e.scrollLeft,c=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(r)>Math.abs(n)?s||o:a||c)||!t.settings.wheelPropagation}(i,s))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(px.supportsTouch||px.supportsIePointer){var e=t.element,n={},r=0,i={},s=null;px.supportsTouch?(t.event.bind(e,"touchstart",u),t.event.bind(e,"touchmove",l),t.event.bind(e,"touchend",h)):px.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",u),t.event.bind(e,"pointermove",l),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",u),t.event.bind(e,"MSPointerMove",l),t.event.bind(e,"MSPointerUp",h)))}function o(n,r){e.scrollTop-=r,e.scrollLeft-=n,gx(t)}function a(t){return t.targetTouches?t.targetTouches[0]:t}function c(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function u(t){if(c(t)){var e=a(t);n.pageX=e.pageX,n.pageY=e.pageY,r=(new Date).getTime(),null!==s&&clearInterval(s)}}function l(s){if(c(s)){var u=a(s),l={pageX:u.pageX,pageY:u.pageY},h=l.pageX-n.pageX,d=l.pageY-n.pageY;if(function(t,n,r){if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains("ps__child--consume"))return!0;var s=GT(i);if(r&&s.overflowY.match(/(scroll|auto)/)){var o=i.scrollHeight-i.clientHeight;if(o>0&&(i.scrollTop>0&&r<0||i.scrollTop<o&&r>0))return!0}if(n&&s.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(a>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<a&&n>0))return!0}i=i.parentNode}return!1}(s.target,h,d))return;o(h,d),n=l;var f=(new Date).getTime(),p=f-r;p>0&&(i.x=h/p,i.y=d/p,r=f),function(n,r){var i=Math.floor(e.scrollTop),s=e.scrollLeft,o=Math.abs(n),a=Math.abs(r);if(a>o){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&px.isChrome}else if(o>a&&(n<0&&s===t.contentWidth-t.containerWidth||n>0&&0===s))return!0;return!0}(h,d)&&s.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(s),s=setInterval(function(){t.isInitialized?clearInterval(s):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(s):(o(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(s)},10))}}},bx=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=t,t.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i,s,o=function(){return t.classList.add("ps--focus")},a=function(){return t.classList.remove("ps--focus")};this.isRtl="rtl"===GT(t).direction,!0===this.isRtl&&t.classList.add("ps__rtl"),this.isNegativeScroll=(s=t.scrollLeft,t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=s,i),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new lx,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=KT(nx("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=KT(ex("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",o),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=GT(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=fx(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=fx(c.borderLeftWidth)+fx(c.borderRightWidth),XT(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=fx(c.marginLeft)+fx(c.marginRight),XT(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=KT(nx("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=KT(ex("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",o),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var u=GT(this.scrollbarYRail);this.scrollbarYRight=parseInt(u.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=fx(u.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=GT(t);return fx(e.width)+fx(e.paddingLeft)+fx(e.paddingRight)+fx(e.borderLeftWidth)+fx(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=fx(u.borderTopWidth)+fx(u.borderBottomWidth),XT(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=fx(u.marginTop)+fx(u.marginBottom),XT(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return vx[t](n)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return n.onScroll(t)}),gx(this)};bx.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,XT(this.scrollbarXRail,{display:"block"}),XT(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=fx(GT(this.scrollbarXRail).marginLeft)+fx(GT(this.scrollbarXRail).marginRight),this.railYMarginHeight=fx(GT(this.scrollbarYRail).marginTop)+fx(GT(this.scrollbarYRail).marginBottom),XT(this.scrollbarXRail,{display:"none"}),XT(this.scrollbarYRail,{display:"none"}),gx(this),dx(this,"top",0,!1,!0),dx(this,"left",0,!1,!0),XT(this.scrollbarXRail,{display:""}),XT(this.scrollbarYRail,{display:""}))},bx.prototype.onScroll=function(t){this.isAlive&&(gx(this),dx(this,"top",this.element.scrollTop-this.lastScrollTop),dx(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},bx.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),ZT(this.scrollbarX),ZT(this.scrollbarY),ZT(this.scrollbarXRail),ZT(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},bx.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")};var _x=bx,wx=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,r){return t[0]===e&&(n=r,!0)}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),Ox="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Sx="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Ex="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Sx):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},Cx=["top","right","bottom","left","width","height","size","weight"],Tx="undefined"!=typeof MutationObserver,xx=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){Ex(s)}function a(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,20);i=t}return a}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){Ox&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Tx?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){Ox&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;Cx.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),kx=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Ix=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||Sx},Px=Dx(0,0,0,0);function Ax(t){return parseFloat(t)||0}function jx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e+Ax(t["border-"+n+"-width"])},0)}var Mx="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof Ix(t).SVGGraphicsElement}:function(t){return t instanceof Ix(t).SVGElement&&"function"==typeof t.getBBox};function Dx(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Nx=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Dx(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t,e=(t=this.target,Ox?Mx(t)?function(t){var e=t.getBBox();return Dx(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Px;var r=Ix(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n];e[i]=Ax(t["padding-"+i])}return e}(r),s=i.left+i.right,o=i.top+i.bottom,a=Ax(r.width),c=Ax(r.height);if("border-box"===r.boxSizing&&(Math.round(a+s)!==e&&(a-=jx(r,"left","right")+s),Math.round(c+o)!==n&&(c-=jx(r,"top","bottom")+o)),!function(t){return t===Ix(t).document.documentElement}(t)){var u=Math.round(a+s)-e,l=Math.round(c+o)-n;1!==Math.abs(u)&&(a-=u),1!==Math.abs(l)&&(c-=l)}return Dx(i.left,i.top,a,c)}(t):Px);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),Rx=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(s.prototype);return kx(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}(e);kx(this,{target:t,contentRect:n})},Lx=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new wx,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Ix(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new Nx(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Ix(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new Rx(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Fx="undefined"!=typeof WeakMap?new WeakMap:new wx,Ux=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=xx.getInstance(),r=new Lx(e,n,this);Fx.set(this,r)};["observe","unobserve","disconnect"].forEach(function(t){Ux.prototype[t]=function(){var e;return(e=Fx.get(this))[t].apply(e,arguments)}});var Vx=void 0!==Sx.ResizeObserver?Sx.ResizeObserver:Ux;function Bx(t,e){if(1&t&&(s.Ub(0,"div",3),s.Pb(1,"div",4),s.Pb(2,"div",5),s.Pb(3,"div",6),s.Pb(4,"div",7),s.Tb()),2&t){const t=s.fc();s.Gb("ps-at-top",t.states.top)("ps-at-left",t.states.left)("ps-at-right",t.states.right)("ps-at-bottom",t.states.bottom),s.Db(1),s.Gb("ps-indicator-show",t.indicatorY&&t.interaction),s.Db(1),s.Gb("ps-indicator-show",t.indicatorX&&t.interaction),s.Db(1),s.Gb("ps-indicator-show",t.indicatorX&&t.interaction),s.Db(1),s.Gb("ps-indicator-show",t.indicatorY&&t.interaction)}}const zx=["*"],Hx=new s.t("PERFECT_SCROLLBAR_CONFIG");class qx{constructor(t,e,n,r){this.x=t,this.y=e,this.w=n,this.h=r}}class Wx{constructor(t,e){this.x=t,this.y=e}}const Yx=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class $x{constructor(t={}){this.assign(t)}assign(t={}){for(const e in t)this[e]=t[e]}}let Gx=(()=>{class t{constructor(t,e,n,r,i){this.zone=t,this.differs=e,this.elementRef=n,this.platformId=r,this.defaults=i,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new mn.a,this.disabled=!1,this.psScrollY=new s.o,this.psScrollX=new s.o,this.psScrollUp=new s.o,this.psScrollDown=new s.o,this.psScrollLeft=new s.o,this.psScrollRight=new s.o,this.psYReachEnd=new s.o,this.psYReachStart=new s.o,this.psXReachEnd=new s.o,this.psXReachStart=new s.o}ngOnInit(){if(!this.disabled&&q(this.platformId)){const t=new $x(this.defaults);t.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new _x(this.elementRef.nativeElement,t)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new Vx(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{Yx.forEach(t=>{const e=t.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`);Ta(this.elementRef.nativeElement,e).pipe(function(t,e=gc.a){return n=()=>function(t=0,e,n){let r=-1;return Object(VT.a)(e)?r=Number(e)<1?1:Number(e):Object(bn.a)(e)&&(n=e),Object(bn.a)(n)||(n=gc.a),new Cn.a(e=>{const i=Object(VT.a)(t)?t:+t-n.now();return n.schedule(BT,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new FT(n))};var n}(20),zT(this.ngDestroy)).subscribe(e=>{this[t].emit(e)})})})}}ngOnDestroy(){q(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&"undefined"!=typeof window&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&q(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(t){t.disabled&&!t.disabled.isFirstChange()&&q(this.platformId)&&t.disabled.currentValue!==t.disabled.previousValue&&(!0===t.disabled.currentValue?this.ngOnDestroy():!1===t.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){"undefined"!=typeof window&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch(t){}},0))}geometry(t="scroll"){return new qx(this.elementRef.nativeElement[t+"Left"],this.elementRef.nativeElement[t+"Top"],this.elementRef.nativeElement[t+"Width"],this.elementRef.nativeElement[t+"Height"])}position(t=!1){return!t&&this.instance?new Wx(this.instance.reach.x||0,this.instance.reach.y||0):new Wx(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(t="any"){const e=this.elementRef.nativeElement;return"any"===t?e.classList.contains("ps--active-x")||e.classList.contains("ps--active-y"):"both"===t?e.classList.contains("ps--active-x")&&e.classList.contains("ps--active-y"):e.classList.contains("ps--active-"+t)}scrollTo(t,e,n){this.disabled||(null==e&&null==n?this.animateScrolling("scrollTop",t,n):(null!=t&&this.animateScrolling("scrollLeft",t,n),null!=e&&this.animateScrolling("scrollTop",e,n)))}scrollToX(t,e){this.animateScrolling("scrollLeft",t,e)}scrollToY(t,e){this.animateScrolling("scrollTop",t,e)}scrollToTop(t,e){this.animateScrolling("scrollTop",t||0,e)}scrollToLeft(t,e){this.animateScrolling("scrollLeft",t||0,e)}scrollToRight(t,e){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(t||0),e)}scrollToBottom(t,e){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(t||0),e)}scrollToElement(t,e,n){if("string"==typeof t&&(t=this.elementRef.nativeElement.querySelector(t)),t){const r=t.getBoundingClientRect(),i=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",r.left-i.left+this.elementRef.nativeElement.scrollLeft+(e||0),n),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",r.top-i.top+this.elementRef.nativeElement.scrollTop+(e||0),n)}}animateScrolling(t,e,n){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),n&&"undefined"!=typeof window){if(e!==this.elementRef.nativeElement[t]){let r=0,i=0,s=performance.now(),o=this.elementRef.nativeElement[t];const a=(o-e)/2,c=u=>{i+=Math.PI/(n/(u-s)),r=Math.round(e+a+a*Math.cos(i)),this.elementRef.nativeElement[t]===o&&(i>=Math.PI?this.animateScrolling(t,e,0):(this.elementRef.nativeElement[t]=r,o=this.elementRef.nativeElement[t],s=u,this.animation=window.requestAnimationFrame(c)))};window.requestAnimationFrame(c)}}else this.elementRef.nativeElement[t]=e}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.D),s.Ob(s.x),s.Ob(s.m),s.Ob(s.F),s.Ob(Hx,8))},t.\u0275dir=s.Jb({type:t,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[s.Bb]}),t})(),Xx=(()=>{class t{constructor(t,e,n){this.zone=t,this.cdRef=e,this.platformId=n,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new mn.a,this.stateUpdate=new mn.a,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new s.o,this.psScrollX=new s.o,this.psScrollUp=new s.o,this.psScrollDown=new s.o,this.psScrollLeft=new s.o,this.psScrollRight=new s.o,this.psYReachEnd=new s.o,this.psYReachStart=new s.o,this.psXReachEnd=new s.o,this.psXReachStart=new s.o}ngOnInit(){q(this.platformId)&&(this.stateUpdate.pipe(zT(this.ngDestroy),bc((t,e)=>t===e&&!this.stateTimeout)).subscribe(t=>{this.stateTimeout&&"undefined"!=typeof window&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===t||"y"===t?(this.interaction=!1,"x"===t?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===t&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===t||"right"===t?(this.states.left=!1,this.states.right=!1,this.states[t]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):"top"!==t&&"bottom"!==t||(this.states.top=!1,this.states.bottom=!1,this.states[t]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&"undefined"!=typeof window&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const t=this.directiveRef.elementRef.nativeElement;Ta(t,"wheel").pipe(zT(this.ngDestroy)).subscribe(t=>{!this.disabled&&this.autoPropagation&&this.checkPropagation(t,t.deltaX,t.deltaY)}),Ta(t,"touchmove").pipe(zT(this.ngDestroy)).subscribe(t=>{if(!this.disabled&&this.autoPropagation){const e=t.touches[0].clientX,n=t.touches[0].clientY;this.checkPropagation(t,e-this.scrollPositionX,n-this.scrollPositionY),this.scrollPositionX=e,this.scrollPositionY=n}}),Object($O.a)(Ta(t,"ps-scroll-x").pipe(WT("x")),Ta(t,"ps-scroll-y").pipe(WT("y")),Ta(t,"ps-x-reach-end").pipe(WT("right")),Ta(t,"ps-y-reach-end").pipe(WT("bottom")),Ta(t,"ps-x-reach-start").pipe(WT("left")),Ta(t,"ps-y-reach-start").pipe(WT("top"))).pipe(zT(this.ngDestroy)).subscribe(t=>{this.disabled||!this.autoPropagation&&!this.scrollIndicators||this.stateUpdate.next(t)})}}),window.setTimeout(()=>{Yx.forEach(t=>{this.directiveRef&&(this.directiveRef[t]=this[t])})},0))}ngOnDestroy(){q(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&"undefined"!=typeof window&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if(q(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const t=this.directiveRef.elementRef.nativeElement;this.usePropagationX=t.classList.contains("ps--active-x"),this.usePropagationY=t.classList.contains("ps--active-y")}}checkPropagation(t,e,n){this.interaction=!0;const r=e<0?-1:1,i=n<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==r)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==i))&&(t.preventDefault(),t.stopPropagation()),e&&(this.scrollDirectionX=r),n&&(this.scrollDirectionY=i),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.D),s.Ob(s.h),s.Ob(s.F))},t.\u0275cmp=s.Ib({type:t,selectors:[["perfect-scrollbar"]],viewQuery:function(t,e){if(1&t&&s.Fc(Gx,3),2&t){let t;s.rc(t=s.cc())&&(e.directiveRef=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&s.Gb("ps-show-limits",e.autoPropagation)("ps-show-active",e.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:zx,decls:4,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(t,e){1&t&&(s.jc(),s.Ub(0,"div",0),s.Ub(1,"div",1),s.ic(2),s.Tb(),s.zc(3,Bx,5,16,"div",2),s.Tb()),2&t&&(s.Gb("ps",e.usePSClass),s.kc("perfectScrollbar",e.config)("disabled",e.disabled),s.Db(3),s.kc("ngIf",e.scrollIndicators))},directives:[Gx,N],styles:["perfect-scrollbar{display:block;height:100%;max-height:100%;max-width:100%;overflow:hidden;position:relative;width:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;height:auto;min-height:0;min-width:0}perfect-scrollbar[fxflex]>.ps{-webkit-box-flex:1;flex:1 1 auto;height:auto;min-height:0;min-width:0;width:auto}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{-webkit-box-align:inherit;-webkit-box-flex:1;-webkit-box-pack:inherit;align-content:inherit;align-items:inherit;display:flex;flex:1 1 auto;flex-direction:inherit;height:100%;justify-content:inherit;width:100%},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important}perfect-scrollbar>.ps{display:block;height:100%;max-height:100%;max-width:100%;position:static;width:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{bottom:0;display:block;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{opacity:0;position:absolute;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-height:24px;min-width:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{min-height:100%;min-width:24px;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{cursor:default;left:auto!important;right:0!important;top:0!important;transition:width .2s linear,opacity .2s linear,background-color .2s linear;width:10px}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{bottom:0!important;cursor:default;height:10px;left:0!important;top:auto!important;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{background-color:#eee;opacity:.9}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{-ms-overflow-style:none;-ms-touch-action:auto;overflow:hidden!important;overflow-anchor:none;touch-action:auto}.ps__rail-x{bottom:0;height:15px}.ps__rail-x,.ps__rail-y{-webkit-transition:background-color .2s linear,opacity .2s linear;display:none;opacity:0;position:absolute;transition:background-color .2s linear,opacity .2s linear}.ps__rail-y{right:0;width:15px}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{background-color:transparent;display:block}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{-webkit-transition:background-color .2s linear,height .2s ease-in-out;bottom:2px;height:6px;transition:background-color .2s linear,height .2s ease-in-out}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{-webkit-transition:background-color .2s linear,width .2s ease-in-out;right:2px;transition:background-color .2s linear,width .2s ease-in-out;width:6px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}"],encapsulation:2}),t})(),Kx=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[H],H]}),t})();class Qx{constructor(t){var e;this.rawFile=t;let n=(e=t)&&(e.nodeName||e.prop&&e.attr&&e.find)?t.value:t;this["_createFrom"+("string"==typeof n?"FakePath":"Object")](n)}_createFromFakePath(t){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+t.slice(t.lastIndexOf(".")+1).toLowerCase(),this.name=t.slice(t.lastIndexOf("/")+t.lastIndexOf("\\")+2)}_createFromObject(t){this.size=t.size,this.type=t.type,this.name=t.name}}class Jx{constructor(t,e,n){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=t,this.some=e,this.options=n,this.file=new Qx(e),this._file=e,t.options&&(this.method=t.options.method||"POST",this.alias=t.options.itemAlias||"file"),this.url=t.options.url}upload(){try{this.uploader.uploadItem(this)}catch(zO){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(t){return{form:t}}onProgress(t){return{progress:t}}onSuccess(t,e,n){return{response:t,status:e,headers:n}}onError(t,e,n){return{response:t,status:e,headers:n}}onCancel(t,e,n){return{response:t,status:e,headers:n}}onComplete(t,e,n){return{response:t,status:e,headers:n}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(t){this.onBuildForm(t)}_onProgress(t){this.progress=t,this.onProgress(t)}_onSuccess(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(t,e,n)}_onError(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(t,e,n)}_onCancel(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(t,e,n)}_onComplete(t,e,n){this.onComplete(t,e,n),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let Zx=(()=>{class t{static getMimeClass(t){let e="application";return-1!==this.mime_psd.indexOf(t.type)||t.type.match("image.*")?e="image":t.type.match("video.*")?e="video":t.type.match("audio.*")?e="audio":"application/pdf"===t.type?e="pdf":-1!==this.mime_compress.indexOf(t.type)?e="compress":-1!==this.mime_doc.indexOf(t.type)?e="doc":-1!==this.mime_xsl.indexOf(t.type)?e="xls":-1!==this.mime_ppt.indexOf(t.type)&&(e="ppt"),"application"===e&&(e=this.fileTypeDetection(t.name)),e}static fileTypeDetection(t){let e={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},n=t.split(".");if(n.length<2)return"application";let r=n[n.length-1].toLowerCase();return void 0===e[r]?"application":e[r]}}return t.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],t.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],t.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],t.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],t.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],t})();class tk{constructor(t){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:t=>t._file,formatDataFunctionIsAsync:!1},this.setOptions(t),this.response=new s.o}setOptions(t){this.options=Object.assign(this.options,t),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let e=0;e<this.queue.length;e++)this.queue[e].url=this.options.url}addToQueue(t,e,n){let r=[];for(let a of t)r.push(a);let i=this._getFilters(n),s=this.queue.length,o=[];r.map(t=>{e||(e=this.options);let n=new Qx(t);if(this._isValidFile(n,i,e)){let n=new Jx(this,t,e);o.push(n),this.queue.push(n),this._onAfterAddingFile(n)}else this._onWhenAddingFileFailed(n,i[this._failFilterIndex],e)}),this.queue.length!==s&&(this._onAfterAddingAll(o),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(t){let e=this.getIndexOfItem(t),n=this.queue[e];n.isUploading&&n.cancel(),this.queue.splice(e,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(t){let e=this.getIndexOfItem(t),n=this.queue[e],r=this.options.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[r](n))}cancelItem(t){let e=this.getIndexOfItem(t),n=this.queue[e];n&&n.isUploading&&(this.options.isHTML5?n._xhr:n._form).abort()}uploadAll(){let t=this.getNotUploadedItems().filter(t=>!t.isUploading);t.length&&(t.map(t=>t._prepareToUploading()),t[0].upload())}cancelAll(){this.getNotUploadedItems().map(t=>t.cancel())}isFile(t){return function(t){return File&&t instanceof File}(t)}isFileLikeObject(t){return t instanceof Qx}getIndexOfItem(t){return"number"==typeof t?t:this.queue.indexOf(t)}getNotUploadedItems(){return this.queue.filter(t=>!t.isUploaded)}getReadyItems(){return this.queue.filter(t=>t.isReady&&!t.isUploading).sort((t,e)=>t.index-e.index)}destroy(){}onAfterAddingAll(t){return{fileItems:t}}onBuildItemForm(t,e){return{fileItem:t,form:e}}onAfterAddingFile(t){return{fileItem:t}}onWhenAddingFileFailed(t,e,n){return{item:t,filter:e,options:n}}onBeforeUploadItem(t){return{fileItem:t}}onProgressItem(t,e){return{fileItem:t,progress:e}}onProgressAll(t){return{progress:t}}onSuccessItem(t,e,n,r){return{item:t,response:e,status:n,headers:r}}onErrorItem(t,e,n,r){return{item:t,response:e,status:n,headers:r}}onCancelItem(t,e,n,r){return{item:t,response:e,status:n,headers:r}}onCompleteItem(t,e,n,r){return{item:t,response:e,status:n,headers:r}}onCompleteAll(){}_mimeTypeFilter(t){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(t.type))}_fileSizeFilter(t){return!(this.options.maxFileSize&&t.size>this.options.maxFileSize)}_fileTypeFilter(t){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(Zx.getMimeClass(t)))}_onErrorItem(t,e,n,r){t._onError(e,n,r),this.onErrorItem(t,e,n,r)}_onCompleteItem(t,e,n,r){t._onComplete(e,n,r),this.onCompleteItem(t,e,n,r);let i=this.getReadyItems()[0];this.isUploading=!1,i?i.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(t){return e=>e?t[e.toLowerCase()]||void 0:t}_xhrTransport(t){let e,n=this,r=t._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(t),"number"!=typeof t._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)e=this.options.formatDataFunction(t);else{e=new FormData,this._onBuildItemForm(t,e);const n=()=>e.append(t.alias,t._file,t.file.name);this.options.parametersBeforeFiles||n(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(n=>{let r=this.options.additionalParameter[n];"string"==typeof r&&r.indexOf("{{file_name}}")>=0&&(r=r.replace("{{file_name}}",t.file.name)),e.append(n,r)}),this.options.parametersBeforeFiles&&n()}if(r.upload.onprogress=e=>{let n=Math.round(e.lengthComputable?100*e.loaded/e.total:0);this._onProgressItem(t,n)},r.onload=()=>{let e=this._parseHeaders(r.getAllResponseHeaders()),n=this._transformResponse(r.response,e);this["_on"+(this._isSuccessCode(r.status)?"Success":"Error")+"Item"](t,n,r.status,e),this._onCompleteItem(t,n,r.status,e)},r.onerror=()=>{let e=this._parseHeaders(r.getAllResponseHeaders()),n=this._transformResponse(r.response,e);this._onErrorItem(t,n,r.status,e),this._onCompleteItem(t,n,r.status,e)},r.onabort=()=>{let e=this._parseHeaders(r.getAllResponseHeaders()),n=this._transformResponse(r.response,e);this._onCancelItem(t,n,r.status,e),this._onCompleteItem(t,n,r.status,e)},r.open(t.method,t.url,!0),r.withCredentials=t.withCredentials,this.options.headers)for(let i of this.options.headers)r.setRequestHeader(i.name,i.value);if(t.headers.length)for(let i of t.headers)r.setRequestHeader(i.name,i.value);this.authToken&&r.setRequestHeader(this.authTokenHeader,this.authToken),r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&n.response.emit(r.responseText)},this.options.formatDataFunctionIsAsync?e.then(t=>r.send(JSON.stringify(t))):r.send(e),this._render()}_getTotalProgress(t=0){if(this.options.removeAfterUpload)return t;let e=this.getNotUploadedItems().length,n=100/this.queue.length;return Math.round((e?this.queue.length-e:this.queue.length)*n+t*n/100)}_getFilters(t){if(!t)return this.options.filters;if(Array.isArray(t))return t;if("string"==typeof t){let e=t.match(/[^\s,]+/g);return this.options.filters.filter(t=>-1!==e.indexOf(t.name))}return this.options.filters}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(t,e,n){return this._failFilterIndex=-1,!e.length||e.every(e=>(this._failFilterIndex++,e.fn.call(this,t,n)))}_isSuccessCode(t){return t>=200&&t<300||304===t}_transformResponse(t,e){return t}_parseHeaders(t){let e,n,r,i={};return t?(t.split("\n").map(t=>{r=t.indexOf(":"),e=t.slice(0,r).trim().toLowerCase(),n=t.slice(r+1).trim(),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i):i}_onWhenAddingFileFailed(t,e,n){this.onWhenAddingFileFailed(t,e,n)}_onAfterAddingFile(t){this.onAfterAddingFile(t)}_onAfterAddingAll(t){this.onAfterAddingAll(t)}_onBeforeUploadItem(t){t._onBeforeUpload(),this.onBeforeUploadItem(t)}_onBuildItemForm(t,e){t._onBuildForm(e),this.onBuildItemForm(t,e)}_onProgressItem(t,e){let n=this._getTotalProgress(e);this.progress=n,t._onProgress(e),this.onProgressItem(t,e),this.onProgressAll(n),this._render()}_onSuccessItem(t,e,n,r){t._onSuccess(e,n,r),this.onSuccessItem(t,e,n,r)}_onCancelItem(t,e,n,r){t._onCancel(e,n,r),this.onCancelItem(t,e,n,r)}}let ek=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[H]]}),t})();for(var nk=[],rk=0;rk<256;++rk)nk[rk]=(rk+256).toString(16).substr(1);function ik(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function sk(t,e,n,r,i,s){return ik((o=ik(ik(e,t),ik(r,s)))<<(a=i)|o>>>32-a,n);var o,a}function ok(t,e,n,r,i,s,o){return sk(e&n|~e&r,t,e,i,s,o)}function ak(t,e,n,r,i,s,o){return sk(e&r|n&~r,t,e,i,s,o)}function ck(t,e,n,r,i,s,o){return sk(e^n^r,t,e,i,s,o)}function uk(t,e,n,r,i,s,o){return sk(n^(e|~r),t,e,i,s,o)}var lk=function(t,e,n){var r=function(t,e,n,r){var i=n&&r||0;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(t)),"string"==typeof e&&(e=function(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,function(t){e.push(parseInt(t,16))}),e}(e)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(e)||16!==e.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var s=function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Array(e.length);for(var n=0;n<e.length;n++)t[n]=e.charCodeAt(n)}return function(t){var e,n,r,i=[],s=32*t.length;for(e=0;e<s;e+=8)n=t[e>>5]>>>e%32&255,r=parseInt("0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n),16),i.push(r);return i}(function(t,e){var n,r,i,s,o;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var a=1732584193,c=-271733879,u=-1732584194,l=271733878;for(n=0;n<t.length;n+=16)r=a,i=c,s=u,o=l,a=ok(a,c,u,l,t[n],7,-680876936),l=ok(l,a,c,u,t[n+1],12,-389564586),u=ok(u,l,a,c,t[n+2],17,606105819),c=ok(c,u,l,a,t[n+3],22,-1044525330),a=ok(a,c,u,l,t[n+4],7,-176418897),l=ok(l,a,c,u,t[n+5],12,1200080426),u=ok(u,l,a,c,t[n+6],17,-1473231341),c=ok(c,u,l,a,t[n+7],22,-45705983),a=ok(a,c,u,l,t[n+8],7,1770035416),l=ok(l,a,c,u,t[n+9],12,-1958414417),u=ok(u,l,a,c,t[n+10],17,-42063),c=ok(c,u,l,a,t[n+11],22,-1990404162),a=ok(a,c,u,l,t[n+12],7,1804603682),l=ok(l,a,c,u,t[n+13],12,-40341101),u=ok(u,l,a,c,t[n+14],17,-1502002290),a=ak(a,c=ok(c,u,l,a,t[n+15],22,1236535329),u,l,t[n+1],5,-165796510),l=ak(l,a,c,u,t[n+6],9,-1069501632),u=ak(u,l,a,c,t[n+11],14,643717713),c=ak(c,u,l,a,t[n],20,-373897302),a=ak(a,c,u,l,t[n+5],5,-701558691),l=ak(l,a,c,u,t[n+10],9,38016083),u=ak(u,l,a,c,t[n+15],14,-660478335),c=ak(c,u,l,a,t[n+4],20,-405537848),a=ak(a,c,u,l,t[n+9],5,568446438),l=ak(l,a,c,u,t[n+14],9,-1019803690),u=ak(u,l,a,c,t[n+3],14,-187363961),c=ak(c,u,l,a,t[n+8],20,1163531501),a=ak(a,c,u,l,t[n+13],5,-1444681467),l=ak(l,a,c,u,t[n+2],9,-51403784),u=ak(u,l,a,c,t[n+7],14,1735328473),a=ck(a,c=ak(c,u,l,a,t[n+12],20,-1926607734),u,l,t[n+5],4,-378558),l=ck(l,a,c,u,t[n+8],11,-2022574463),u=ck(u,l,a,c,t[n+11],16,1839030562),c=ck(c,u,l,a,t[n+14],23,-35309556),a=ck(a,c,u,l,t[n+1],4,-1530992060),l=ck(l,a,c,u,t[n+4],11,1272893353),u=ck(u,l,a,c,t[n+7],16,-155497632),c=ck(c,u,l,a,t[n+10],23,-1094730640),a=ck(a,c,u,l,t[n+13],4,681279174),l=ck(l,a,c,u,t[n],11,-358537222),u=ck(u,l,a,c,t[n+3],16,-722521979),c=ck(c,u,l,a,t[n+6],23,76029189),a=ck(a,c,u,l,t[n+9],4,-640364487),l=ck(l,a,c,u,t[n+12],11,-421815835),u=ck(u,l,a,c,t[n+15],16,530742520),a=uk(a,c=ck(c,u,l,a,t[n+2],23,-995338651),u,l,t[n],6,-198630844),l=uk(l,a,c,u,t[n+7],10,1126891415),u=uk(u,l,a,c,t[n+14],15,-1416354905),c=uk(c,u,l,a,t[n+5],21,-57434055),a=uk(a,c,u,l,t[n+12],6,1700485571),l=uk(l,a,c,u,t[n+3],10,-1894986606),u=uk(u,l,a,c,t[n+10],15,-1051523),c=uk(c,u,l,a,t[n+1],21,-2054922799),a=uk(a,c,u,l,t[n+8],6,1873313359),l=uk(l,a,c,u,t[n+15],10,-30611744),u=uk(u,l,a,c,t[n+6],15,-1560198380),c=uk(c,u,l,a,t[n+13],21,1309151649),a=uk(a,c,u,l,t[n+4],6,-145523070),l=uk(l,a,c,u,t[n+11],10,-1120210379),u=uk(u,l,a,c,t[n+2],15,718787259),c=uk(c,u,l,a,t[n+9],21,-343485551),a=ik(a,r),c=ik(c,i),u=ik(u,s),l=ik(l,o);return[a,c,u,l]}(function(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t[e/8])<<e%32;return n}(t),8*t.length))}(e.concat(t));if(s[6]=15&s[6]|48,s[8]=63&s[8]|128,n)for(var o=0;o<16;++o)n[i+o]=s[o];return n||function(t,e){var n=0;return[nk[t[n++]],nk[t[n++]],nk[t[n++]],nk[t[n++]],"-",nk[t[n++]],nk[t[n++]],"-",nk[t[n++]],nk[t[n++]],"-",nk[t[n++]],nk[t[n++]],"-",nk[t[n++]],nk[t[n++]],nk[t[n++]],nk[t[n++]],nk[t[n++]],nk[t[n++]]].join("")}(s)};try{r.name="v3"}catch(i){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}();class hk{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new dk(t,this.dueTime,this.scheduler))}}class dk extends wn.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(fk,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function fk(t){t.debouncedNext()}function pk(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function gk(t){return t||(t=0),new Promise(function(e){return setTimeout(e,t)})}function mk(){return Math.random().toString(36).substring(2)}var yk=0,vk=0;function bk(){var t=(new Date).getTime();return t===yk?1e3*t+ ++vk:(yk=t,vk=0,1e3*t)}var _k="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0),wk={create:function(t){var e={messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(t){e.messagesCallback&&e.messagesCallback(t.data)},e},close:function(t){t.bc.close(),t.subFns=[]},onMessage:function(t,e){t.messagesCallback=e},postMessage:function(t,e){t.bc.postMessage(e,!1)},canBeUsed:function(){if(_k&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:bk};function Ok(){return(new Date).getTime()}var Sk=function(t){var e=new Set,n=new Map;this.has=e.has.bind(e),this.add=function(r){n.set(r,Ok()),e.add(r),function(){for(var r=Ok()-t,i=e[Symbol.iterator]();;){var s=i.next().value;if(!s)return;if(!(n.get(s)<r))return;n.delete(s),e.delete(s)}}()},this.clear=function(){e.clear(),n.clear()}};function Ek(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return void 0===e.webWorkerSupport&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=45e3),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&"function"==typeof t.idb.onclose&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=6e4),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=12e4),void 0===e.node.useFastPath&&(e.node.useFastPath=!0),e}function Ck(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function Tk(t){t.closed||xk(t).then(function(){return gk(t.options.idb.fallbackInterval)}).then(function(){return Tk(t)})}function xk(t){return t.closed?Promise.resolve():t.messagesCallback?(e=t.db,n=t.lastCursorId,r=e.transaction("messages").objectStore("messages"),i=[],s=IDBKeyRange.bound(n+1,1/0),new Promise(function(t){r.openCursor(s).onsuccess=function(e){var n=e.target.result;n?(i.push(n.value),n.continue()):t(i)}})).then(function(e){return e.filter(function(t){return!!t}).map(function(e){return e.id>t.lastCursorId&&(t.lastCursorId=e.id),e}).filter(function(e){return function(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}(e,t)}).sort(function(t,e){return t.time-e.time}).forEach(function(e){t.messagesCallback&&(t.eMIs.add(e.id),t.messagesCallback(e.data))}),Promise.resolve()}):Promise.resolve();var e,n,r,i,s}var kk={create:function(t,e){return e=Ek(e),function(t){var e=Ck().open("pubkey.broadcast-channel-0-"+t,1);return e.onupgradeneeded=function(t){t.target.result.createObjectStore("messages",{keyPath:"id",autoIncrement:!0})},new Promise(function(t,n){e.onerror=function(t){return n(t)},e.onsuccess=function(){t(e.result)}})}(t).then(function(n){var r={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:mk(),eMIs:new Sk(2*e.idb.ttl),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,e.idb.onclose&&e.idb.onclose()},Tk(r),r})},close:function(t){t.closed=!0,t.db.close()},onMessage:function(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e,xk(t)},postMessage:function(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return function(t,e,n){var r={uuid:e,time:(new Date).getTime(),data:n},i=t.transaction(["messages"],"readwrite");return new Promise(function(t,e){i.oncomplete=function(){return t()},i.onerror=function(t){return e(t)},i.objectStore("messages").add(r)})}(t.db,t.uuid,e)}).then(function(){var e;0===Math.floor(11*Math.random()+0)&&function(t,e){var n=(new Date).getTime()-e,r=t.transaction("messages").objectStore("messages"),i=[];return new Promise(function(t){r.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var s=r.value;if(!(s.time<n))return void t(i);i.push(s),r.continue()}else t(i)}})}(e=t.db,t.options.idb.ttl).then(function(t){return Promise.all(t.map(function(t){return function(t,e){var n=t.transaction(["messages"],"readwrite").objectStore("messages").delete(e);return new Promise(function(t){n.onsuccess=function(){return t()}})}(e,t.id)}))})}),t.writeBlockPromise},canBeUsed:function(){return!_k&&!!Ck()},type:"idb",averageResponseTime:function(t){return 2*t.idb.fallbackInterval},microSeconds:bk};function Ik(){var t;if("undefined"==typeof window)return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch(zO){}return t}function Pk(t){return"pubkey.broadcastChannel-"+t}function Ak(){if(_k)return!1;var t=Ik();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch(zO){return!1}return!0}var jk={create:function(t,e){if(e=Ek(e),!Ak())throw new Error("BroadcastChannel: localstorage cannot be used");var n=mk(),r=new Sk(e.localstorage.removeTimeout),i={channelName:t,uuid:n,eMIs:r};return i.listener=function(t,e){var s=Pk(t),o=function(t){var e;t.key===s&&(e=JSON.parse(t.newValue),i.messagesCallback&&e.uuid!==n&&e.token&&!r.has(e.token)&&(e.data.time&&e.data.time<i.messagesCallbackTime||(r.add(e.token),i.messagesCallback(e.data))))};return window.addEventListener("storage",o),o}(t),i},close:function(t){window.removeEventListener("storage",t.listener)},onMessage:function(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e},postMessage:function(t,e){return new Promise(function(n){gk().then(function(){var r=Pk(t.channelName),i={token:mk(),time:(new Date).getTime(),data:e,uuid:t.uuid},s=JSON.stringify(i);Ik().setItem(r,s);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=r,o.newValue=s,window.dispatchEvent(o),n()})})},canBeUsed:Ak,type:"localstorage",averageResponseTime:function(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:bk},Mk=bk,Dk=new Set,Nk={create:function(t){var e={name:t,messagesCallback:null};return Dk.add(e),e},close:function(t){Dk.delete(t)},onMessage:function(t,e){t.messagesCallback=e},postMessage:function(t,e){return new Promise(function(n){return setTimeout(function(){Array.from(Dk).filter(function(e){return e.name===t.name}).filter(function(e){return e!==t}).filter(function(t){return!!t.messagesCallback}).forEach(function(t){return t.messagesCallback(e)}),n()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:Mk},Rk=[wk,kk,jk];if(_k){var Lk=n(2);"function"==typeof Lk.canBeUsed&&Rk.push(Lk)}var Fk=function(t,e){var n,r,i;this.name=t,this.options=Ek(e),this.method=function(t){var e=[].concat(t.methods,Rk).filter(Boolean);if(t.type){if("simulate"===t.type)return Nk;var n=e.find(function(e){return e.type===t.type});if(n)return n;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||_k||(e=e.filter(function(t){return"idb"!==t.type}));var r=e.find(function(t){return t.canBeUsed()});if(r)return r;throw new Error("No useable methode found:"+JSON.stringify(Rk.map(function(t){return t.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._befC=[],this._prepP=null,(i=r=(n=this).method.create(n.name,n.options))&&"function"==typeof i.then?(n._prepP=r,r.then(function(t){n._state=t})):n._state=r};function Uk(t,e,n){var r={time:t.method.microSeconds(),type:e,data:n};return(t._prepP?t._prepP:Promise.resolve()).then(function(){return t.method.postMessage(t._state,r)})}function Vk(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function Bk(t,e,n){t._addEL[e].push(n),function(t){if(!t._iL&&Vk(t)){var e=function(e){t._addEL[e.type].forEach(function(t){e.time>=t.time&&t.fn(e.data)})},n=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,n)}):(t._iL=!0,t.method.onMessage(t._state,e,n))}}(t)}function zk(t,e,n){t._addEL[e]=t._addEL[e].filter(function(t){return t!==n}),function(t){if(t._iL&&!Vk(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}(t)}Fk._pubkey=!0,Fk.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return Uk(this,"message",t)},postInternal:function(t){return Uk(this,"internal",t)},set onmessage(t){var e={time:this.method.microSeconds(),fn:t};zk(this,"message",this._onML),t&&"function"==typeof t?(this._onML=e,Bk(this,"message",e)):this._onML=null},addEventListener:function(t,e){Bk(this,t,{time:this.method.microSeconds(),fn:e})},removeEventListener:function(t,e){zk(this,t,this._addEL[t].find(function(t){return t.fn===e}))},close:function(){var t=this;if(!this.closed){this.closed=!0;var e=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(t._befC.map(function(t){return t()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type}};let Hk=(()=>{class t{constructor(){this.tabs=[]}init(t){this.channel&&this.channel.close(),this.source&&this.subscription&&(this.subscription.unsubscribe(),delete this.subscription,delete this.source),this.id=`${performance.now()}:${this.someNumber()}`,this.createdAt=Date.now(),this.tabs=[{id:this.id,createdAt:this.createdAt,liveAt:Date.now(),dead:!1}],this.channel=new Fk(`bc_multiTab-${t}`,{webWorkerSupport:!1}),this.channel.onmessage=t=>{if(t.id===this.id)return;const e=this.tabs.find(e=>e.id===t.id);e?e.liveAt=t.liveAt:this.tabs.push(t)},this.source=function(t=0,e=gc.a){return(!Object(VT.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=gc.a),new Cn.a(n=>(n.add(e.schedule(pk,t,{subscriber:n,counter:0,period:t})),n))}(200),this.subscription=this.source.subscribe(t=>{this.channel.postMessage({id:this.id,createdAt:this.createdAt,liveAt:Date.now(),dead:!1});const e=Date.now();for(const n of this.tabs)n.dead=n.id!==this.id&&e-n.liveAt>2e3})}getLatestCreatedTab(){const t=this.tabs.filter(t=>!t.dead).sort((t,e)=>e.createdAt-t.createdAt);return t.length>0?t[0]:null}getIsActiveTab(){const t=this.getLatestCreatedTab();return!!t&&t.id===this.id}someNumber(t=1e9){return Math.random()*t|0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qk=(()=>{class t{constructor(t,e){this.backendService=t,this.multiTabService=e,this.user={email:"",firstName:"Agent",lastName:"Zendesk",type:ka.THIRD_PARTY,id:"act_00000000-0000-0000-0000-000000000000",avatar:"assets/leadAvatar.png",customData:null},window.addEventListener("message",t=>{if("bc_zChat"!==t.data.type)return;const e=t.data.data.data;switch(t.data.data.type){case"messageEvent":this.messageEventHandler(e);break;case"fileMessageEvent":this.fileEventHandler(e);break;case"typingEvent":this.typingEvent(e);break;default:return}},!1)}init(t,e){this.data=t.data,this.user=t.actor,this.widget=e,parent.window.postMessage({type:"bc_zChat",data:{type:"init",data:{initData:this.data,user:this.user}}},"*")}hrefChanged(t,e){}onMessage(t){t.author.id!==this.user.id&&t.author.id===this.widget.user.id&&parent.window.postMessage({type:"bc_zChat",data:{type:"onMessage",data:t}},"*")}onRhDataChanged(t){parent.window.postMessage({type:"bc_zChat",data:{type:"onRhDataChanged",data:t}},"*")}sleep(t){return new Promise(e=>setTimeout(e,t))}messageEventHandler(t){if("visitor"===t.message.nick)return;const e={author:this.user,type:ET.TEXT,sentDate:t.message.timestamp,updatedDate:t.message.timestamp,uuid:lk(String(t.message.timestamp),this.widget.session.id),content:t.message.msg,delivered:!1,noNotif:!1,isWelcome:!1,isEngage:!1,popNotif:!1,isButtonReply:!1,isWelcomeEngageButtonReply:!1};this.multiTabService.getIsActiveTab()&&this.addMessage(e,t.pageUrl,t.pageTitle)}addMessage(t,e,n){this.widget.pushMessage(t,!1,!1)&&(this.widget.setSelfCareActionButtonsDisplayedStatus(!1),this.widget.ghostMode?console.warn("RZS: tried to send message on ghost"):this.backendService.sendMessage(t,e,n,!0).then(t=>Ea(this,void 0,void 0,function*(){this.widget.displayService.onNewMessage(t,this.widget.session.dismissedPopUp)})))}fileEventHandler(t){if("visitor"===t.message.nick)return;const e=t.message.attachment.mime_type;if("application/pdf"===e.toLowerCase()){const e={author:this.user,type:ET.ATTACHMENT,sentDate:t.message.timestamp,updatedDate:t.message.timestamp,uuid:lk(String(t.message.timestamp),this.widget.session.id),content:{url:t.message.attachment.url,contentType:"pdf"},delivered:!1,noNotif:!1,isWelcome:!1,isEngage:!1,popNotif:!1,isButtonReply:!1,isWelcomeEngageButtonReply:!1};this.multiTabService.getIsActiveTab()&&this.addMessage(e,t.pageUrl,t.pageTitle)}else if("image"===e.toLowerCase().split("/")[0]){const e={author:this.user,type:ET.IMAGE,sentDate:t.message.timestamp,updatedDate:t.message.timestamp,uuid:lk(String(t.message.timestamp),this.widget.session.id),content:t.message.attachment.url,delivered:!1,noNotif:!1,isWelcome:!1,isEngage:!1,popNotif:!1,isButtonReply:!1,isWelcomeEngageButtonReply:!1};this.multiTabService.getIsActiveTab()&&this.addMessage(e,t.pageUrl,t.pageTitle)}}typingEvent(t){this.multiTabService.getIsActiveTab()&&(this.widget.ghostMode?console.warn("RZS: tried to send isTyping on ghost"):this.backendService.sendZendeskIsTyping(t.typing,this.user))}sendHistory(t){parent.window.postMessage({type:"bc_zChat",data:{type:"sendHistory",data:t}},"*")}setUser(t){parent.window.postMessage({type:"bc_zChat",data:{type:"setVisitor",data:t}},"*")}visitorTyping(t){parent.window.postMessage({type:"bc_zChat",data:{type:"isTyping",data:t}},"*")}endRedirection(){parent.window.postMessage({type:"bc_zChat",data:{type:"endRedirection",data:null}},"*")}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(fc),s.Yb(Hk))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wk=(()=>{class t{constructor(t){this.backendService=t,this.user={email:"",firstName:"Agent",lastName:"Front",type:ka.THIRD_PARTY,id:"act_00000000-0000-0000-0000-000000000000",avatar:"assets/leadAvatar.png",customData:null},this.enabled=!1,this.mustSetVisitor=null}init(t,e){return Ea(this,void 0,void 0,function*(){this.initJson=t,this.data=t.data,this.user.id=t.actorId,this.widget=e,this.enabled=!0})}onMessage(t){return Ea(this,void 0,void 0,function*(){if(!this.enabled)return null;if(t.author.id===this.user.id)return null;if(t.author.id===this.widget.user.id){if(!this.widget.ghostMode)return yield this.backendService.sendMessageToFront(t,this.initJson);console.warn("RFS: tried to send message on ghost")}return null})}onRhDataChanged(t){}hrefChanged(t,e){}sendHistory(t){return Ea(this,void 0,void 0,function*(){const e={lead:"\ud83e\uddd1",visitor:"\ud83e\uddd1",agent:"\ud83d\udc68\u200d\ud83d\udcbc",system:"\ud83e\udd16",bot:"\ud83e\udd16",third_party:"\ud83d\udc68\u200d\ud83d\udcbc"};if("HISTORY:\n".concat(t.map(t=>{let n,r;switch(t.type){case ET.TEXT:case ET.IMAGE:n=t.content;break;case ET.TEXT_PAYLOAD:r=t.content,n=`${r.text}(${r.payload})`;break;case ET.BUTTONS:n=t.content.map(t=>`[${t.text}](${t.type}:${t.content})`).join("|");break;case ET.QUICK_REPLIES:n=t.content.join("|");break;default:n=""}return`[${e[t.author.type]} ${Ia.getFullName(t.author)||""}] ${n}`}).join("\n\n")),!this.widget.ghostMode)return yield this.backendService.sendHistoryToFront(t,this.initJson);console.warn("RFS: tried to send history on ghost")})}setUser(t){return Ea(this,void 0,void 0,function*(){})}visitorTyping(t){}endRedirection(){return Ea(this,void 0,void 0,function*(){})}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(fc))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Yk=(()=>{class t{constructor(t,e,n){this.redirectZendeskService=t,this.redirectFrontappService=e,this.multiTabService=n,this.initialized=!1}init(t,e){switch(t.type){case Aa.ZENDESK:this.type="zendesk",this.initialized=!0,this.redirectZendeskService.init(t,e);break;case Aa.FRONTAPP:this.type="frontapp",this.initialized=!0,this.redirectFrontappService.init(t,e);break;default:this.initialized=!1,console.log(`Unknown redirect type: ${t.type}`)}}onMessageCall(t){this.multiTabService.getIsActiveTab()&&this.onMessage(t)}onMessage(t){if(this.initialized)switch(this.type){case"zendesk":this.redirectZendeskService.onMessage(t);break;case"frontapp":this.redirectFrontappService.onMessage(t);break;default:console.log(`Unknown redirect type: ${this.type}`)}}onRhDataChangedCall(t){this.multiTabService.getIsActiveTab()&&this.onRhDataChanged(t)}onRhDataChanged(t){if(this.initialized)switch(this.type){case"zendesk":this.redirectZendeskService.onRhDataChanged(t);break;case"frontapp":this.redirectFrontappService.onRhDataChanged(t);break;default:console.log(`Unknown redirect type: ${this.type}`)}}sendHistoryCall(t){this.multiTabService.getIsActiveTab()&&this.sendHistory(t)}sendHistory(t){if(this.initialized)switch(this.type){case"zendesk":this.redirectZendeskService.sendHistory(t);break;case"frontapp":this.redirectFrontappService.sendHistory(t);break;default:console.log(`Unknown redirect type: ${this.type}`)}}setUserCall(t){this.multiTabService.getIsActiveTab()&&this.setUser(t)}setUser(t){if(this.initialized)switch(this.type){case"zendesk":this.redirectZendeskService.setUser(t);break;case"frontapp":this.redirectFrontappService.setUser(t);break;default:console.log(`Unknown redirect type: ${this.type}`)}}hrefChanged(t,e){if(this.initialized)switch(this.type){case"zendesk":this.redirectZendeskService.hrefChanged(t,e);break;case"frontapp":this.redirectFrontappService.hrefChanged(t,e);break;default:console.log(`Unknown redirect type: ${this.type}`)}}visitorTyping(t){if(this.initialized)switch(this.type){case"zendesk":this.redirectZendeskService.visitorTyping(t);break;case"frontapp":this.redirectFrontappService.visitorTyping(t);break;default:console.log(`Unknown redirect type: ${this.type}`)}}endRedirection(){if(this.initialized)switch(this.type){case"zendesk":this.redirectZendeskService.endRedirection();break;case"frontapp":this.redirectFrontappService.endRedirection();break;default:console.log(`Unknown redirect type: ${this.type}`)}}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(qk),s.Yb(Wk),s.Yb(Hk))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$k=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[H]]}),t})(),Gk=(()=>{class t{constructor(){this.modals=[]}add(t){this.modals.push(t)}remove(t){this.modals=this.modals.filter(e=>e.id!==t)}open(t){this.modals.find(e=>e.id===t).open()}close(t){this.modals.find(e=>e.id===t).close()}isOpen(t){const e=this.modals.find(e=>e.id===t);return!!e&&e.isOpen}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Xk=["newMessageInput"],Kk=function(){return["fas","home"]};function Qk(t,e){if(1&t){const t=s.Vb();s.Ub(0,"fa-icon",38),s.bc("click",function(){return s.uc(t),s.fc().selfCareResetAsk()}),s.Tb()}if(2&t){const t=s.fc();s.kc("ngStyle",t.displayService.chatStyle.headerStyle.textAndLogo)("icon",s.mc(2,Kk))}}const Jk=function(){return["fas","times"]};function Zk(t,e){if(1&t){const t=s.Vb();s.Ub(0,"fa-icon",39),s.bc("click",function(){return s.uc(t),s.fc().toggleChatStatus(!0)}),s.Tb()}if(2&t){const t=s.fc();s.kc("ngStyle",t.displayService.chatStyle.headerStyle.textAndLogo)("icon",s.mc(2,Jk))}}const tI=function(t){return{expandHeader:t}};function eI(t,e){if(1&t&&(s.Ub(0,"div",40),s.Ub(1,"p"),s.Bc(2),s.Tb(),s.Tb()),2&t){const t=s.fc();s.kc("ngClass",s.nc(2,tI,t.expandHeader)),s.Db(2),s.Cc(t.displayService.chatStyle.headerText.text)}}const nI=function(t){return{display:t}};function rI(t,e){if(1&t&&(s.Ub(0,"div",41),s.Ub(1,"p"),s.Bc(2),s.Tb(),s.Tb()),2&t){const t=s.fc();s.kc("ngStyle",s.nc(2,nI,t.expandHeader?"none":"block")),s.Db(2),s.Cc(t.session.selfCareTitle)}}const iI=function(t,e){return{bottomSticky:t,messageFlexGrow:e}};function sI(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",42),s.bc("click",function(){s.uc(t);const n=e.index;return s.fc().focusMessage(n)})("clickOutside",function(){s.uc(t);const n=e.index;return s.fc().unFocusMessage(n)}),s.Pb(1,"app-message",43),s.Tb()}if(2&t){const t=e.$implicit,n=e.index,r=s.fc();s.kc("ngClass",s.oc(11,iI,r.bottomSticky(n),r.messageFlexGrow(n))),s.Db(1),s.kc("widget",r)("message",t)("displayAvatar",r.displayAvatar(n))("displayName",r.displayName(n))("focused",r.focusMessageIndex===n)("precededBySameAuthor",r.precededBySameAuthor(n))("followedBySameAuthor",r.followedBySameAuthor(n))("selfCareEnabled",r.selfCareEnabled)("contactFormModeEnabled",r.contactFormModeEnabled)("isLastMessage",r.isLastMessage(n))}}function oI(t,e){if(1&t&&(s.Ub(0,"div",44),s.Ub(1,"span",45),s.Bc(2),s.gc(3,"translate"),s.Tb(),s.Ub(4,"div",46),s.Pb(5,"div"),s.Pb(6,"div"),s.Pb(7,"div"),s.Pb(8,"div"),s.Tb(),s.Tb()),2&t){const t=s.fc();s.Db(2),s.Ec(" ",t.getFullName(t.session.agentIsTyping)," ",s.hc(3,2,"IS_TYPING")," ")}}function aI(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",49),s.bc("mouseover",function(){return s.uc(t),s.fc(2).hoverActionButton="selfCareAskButton"})("mouseleave",function(){return s.uc(t),s.fc(2).hoverActionButton="none"})("click",function(){return s.uc(t),s.fc(2).selfCareAskQuestion()}),s.Ub(1,"div",7),s.Bc(2),s.Tb(),s.Tb()}if(2&t){const t=s.fc(2);s.kc("ngStyle",t.getActionButtonStyle("selfCareAskButton")),s.Db(1),s.kc("ngStyle",t.getActionButtonContentStyle("selfCareAskButton")),s.Db(1),s.Cc(t.selfCareAskButtonText)}}function cI(t,e){if(1&t&&(s.Ub(0,"div",47),s.zc(1,aI,3,3,"div",48),s.Tb()),2&t){const t=s.fc();s.Db(1),s.kc("ngIf",t.session&&t.session.selfCareAskButtonEnabled)}}function uI(t,e){if(1&t){const t=s.Vb();s.Ub(0,"button",57),s.bc("click",function(){return s.uc(t),s.fc(3).skipEvaluation()}),s.Bc(1),s.gc(2,"translate"),s.Tb()}2&t&&(s.Db(1),s.Cc(s.hc(2,1,"SKIP_SATISFACTION_PROMPT")))}const lI=function(){return["fas","smile"]},hI=function(){return["fas","meh"]},dI=function(){return["fas","frown"]};function fI(t,e){if(1&t){const t=s.Vb();s.Sb(0),s.Ub(1,"p"),s.Bc(2),s.gc(3,"translate"),s.Tb(),s.Ub(4,"div",52),s.Ub(5,"fa-icon",53),s.bc("click",function(){return s.uc(t),s.fc(2).voteSatisfaction(100)}),s.Tb(),s.Ub(6,"fa-icon",54),s.bc("click",function(){return s.uc(t),s.fc(2).voteSatisfaction(50)}),s.Tb(),s.Ub(7,"fa-icon",55),s.bc("click",function(){return s.uc(t),s.fc(2).voteSatisfaction(0)}),s.Tb(),s.Tb(),s.zc(8,uI,3,3,"button",56),s.Rb()}if(2&t){const t=s.fc(2);s.Db(2),s.Cc(s.hc(3,5,"SATISFACTION_PROMPT")),s.Db(3),s.kc("icon",s.mc(7,lI)),s.Db(1),s.kc("icon",s.mc(8,hI)),s.Db(1),s.kc("icon",s.mc(9,dI)),s.Db(1),s.kc("ngIf",t.promptingSatisfactionButton)}}const pI=function(t,e){return{backgroundColor:t,borderColor:e,color:"white"}};function gI(t,e){if(1&t){const t=s.Vb();s.Sb(0),s.Ub(1,"p"),s.Bc(2),s.gc(3,"translate"),s.Tb(),s.Ub(4,"div",58),s.Ub(5,"textarea",59),s.bc("ngModelChange",function(e){return s.uc(t),s.fc(2).satisfactionComment=e}),s.gc(6,"translate"),s.Tb(),s.Tb(),s.Ub(7,"button",60),s.bc("click",function(){return s.uc(t),s.fc(2).validateEvaluation()}),s.Bc(8),s.gc(9,"translate"),s.Tb(),s.Rb()}if(2&t){const t=s.fc(2);s.Db(2),s.Cc(s.hc(3,5,"SATISFACTION_PROMPT_COMMENT")),s.Db(3),s.kc("ngModel",t.satisfactionComment)("placeholder",s.hc(6,7,"COMMENT_HERE")),s.Db(2),s.kc("ngStyle",s.oc(11,pI,t.displayService.chatStyle.sendButtonColor,t.displayService.chatStyle.sendButtonColor)),s.Db(1),s.Cc(s.hc(9,9,"VALIDATE_SATISFACTION_PROMPT"))}}function mI(t,e){1&t&&(s.Ub(0,"p"),s.Bc(1),s.gc(2,"translate"),s.Tb()),2&t&&(s.Db(1),s.Cc(s.hc(2,1,"SATISFACTION_END_POSITIVE")))}function yI(t,e){1&t&&(s.Ub(0,"p"),s.Bc(1),s.gc(2,"translate"),s.Tb()),2&t&&(s.Db(1),s.Cc(s.hc(2,1,"SATISFACTION_END_AVG")))}function vI(t,e){1&t&&(s.Ub(0,"p"),s.Bc(1),s.gc(2,"translate"),s.Tb()),2&t&&(s.Db(1),s.Cc(s.hc(2,1,"SATISFACTION_END_NEGATIVE")))}function bI(t,e){1&t&&(s.Ub(0,"p"),s.Bc(1),s.gc(2,"translate"),s.Tb()),2&t&&(s.Db(1),s.Cc(s.hc(2,1,"SATISFACTION_END_COMMENT")))}function _I(t,e){if(1&t&&(s.Sb(0),s.zc(1,mI,3,3,"p",51),s.zc(2,yI,3,3,"p",51),s.zc(3,vI,3,3,"p",51),s.zc(4,bI,3,3,"p",51),s.Rb()),2&t){const t=s.fc(2);s.Db(1),s.kc("ngIf",100===t.satisfaction),s.Db(1),s.kc("ngIf",50===t.satisfaction),s.Db(1),s.kc("ngIf",0===t.satisfaction),s.Db(1),s.kc("ngIf",t.satisfactionComment)}}function wI(t,e){if(1&t&&(s.Ub(0,"div",50),s.zc(1,fI,9,10,"ng-container",51),s.zc(2,gI,10,14,"ng-container",51),s.zc(3,_I,5,4,"ng-container",51),s.Tb()),2&t){const t=s.fc();s.Db(1),s.kc("ngIf",t.promptingSatisfactionButton),s.Db(1),s.kc("ngIf",t.promptingSatisfactionComment),s.Db(1),s.kc("ngIf",t.promptingSatisfactionEndMessage)}}function OI(t,e){if(1&t&&(s.Ub(0,"a",63),s.Ub(1,"span"),s.Bc(2,"Powered by"),s.Tb(),s.Pb(3,"img",64),s.Tb()),2&t){const t=s.fc(2);s.kc("href",t.referralLink.href,s.wc)}}function SI(t,e){1&t&&(s.Ub(0,"span"),s.Ub(1,"span"),s.Bc(2,"Powered by"),s.Tb(),s.Pb(3,"img",64),s.Tb())}function EI(t,e){if(1&t&&(s.Ub(0,"div",61),s.zc(1,OI,4,1,"a",62),s.zc(2,SI,4,0,"span",51),s.Tb()),2&t){const t=s.fc();s.kc("ngStyle",s.nc(3,nI,t.displayService.removeReferral?"none":"block")),s.Db(1),s.kc("ngIf",t.displayService.referralIsLink),s.Db(1),s.kc("ngIf",!t.displayService.referralIsLink)}}function CI(t,e){if(1&t&&(s.Ub(0,"a",63),s.Ub(1,"span"),s.Bc(2,"Powered by"),s.Tb(),s.Pb(3,"img",64),s.Tb()),2&t){const t=s.fc(2);s.kc("href",t.referralLink.href,s.wc)}}function TI(t,e){1&t&&(s.Ub(0,"span"),s.Ub(1,"span"),s.Bc(2,"Powered by"),s.Tb(),s.Pb(3,"img",64),s.Tb())}function xI(t,e){if(1&t&&(s.ec(),s.dc(),s.Ub(0,"div",61),s.zc(1,CI,4,1,"a",62),s.zc(2,TI,4,0,"span",51),s.Tb()),2&t){const t=s.fc();s.kc("ngStyle",s.nc(3,nI,t.displayService.removeReferral?"none":"block")),s.Db(1),s.kc("ngIf",t.displayService.referralIsLink),s.Db(1),s.kc("ngIf",!t.displayService.referralIsLink)}}const kI=function(t){return{"hide-backdrop":t}},II=function(t,e){return{hide:t,expandHeader:e}},PI=function(t){return{hide:t}},AI=function(t){return{isContactForm:t}},jI=function(t){return{writing:t}},MI=function(t){return{color:t}},DI=function(){return{display:"block",width:"inherit"}},NI=function(){return["fas","paperclip"]},RI=function(){return{borderRadius:"15px"}},LI=function(t,e){return{color:t,borderColor:e}},FI=function(t,e){return{background:t,borderColor:e}},UI=function(){return{borderRadius:"15px",height:"140px"}};function VI(t,e){if(typeof t!=typeof e)return!1;if("object"!=typeof t)return t===e;for(const n in e)if(!t.hasOwnProperty(n)||!VI(e[n],t[n]))return!1;return!0}function BI(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return}}let zI=(()=>{class t{constructor(t,e,n,r,i,s,o,a){this.displayService=t,this.redirectService=e,this.backendService=n,this.faLibrary=r,this.translate=i,this.db=s,this.modalService=o,this.multiTabService=a,this.cloudinaryConfig={cloud_name:"botmind",api_key:"816471574211148",upload_preset:"r8wgs7f7"},this.selfCareContactFormWaitingEngage=!1,this.shownMessages=[],this.ghostMessagesQueue=[],this.ghostSessionSelfCareAskQuestion=!1,this.hideTextarea=!0,this.hoverActionButton="none",this.hideTextareaUntilButtonClick=null,this.messages=[],this.chatHidden=!0,this.selfCareEnabled=!1,this.contactFormModeEnabled=!1,this.selfCareContactFormDisableText=!0,this.ghostMode=!0,this.previousChatStatus="closed",this.focusMessageIndex=-1,this.pendingFiles=[],this.engageTimerHandle=-1,this.welcomeTimerHandle=-1,this.activeEngageIdentifier="",this.promptingSatisfaction=!1,this.promptingSatisfactionButton=!0,this.promptingSatisfactionComment=!1,this.promptingSatisfactionEndMessage=!1,this.language=null,this.selfCareAskButtonText="",this.satisfaction=null,this.satisfactionComment="",this.visitorIsTyping=!1,this.disableScrollDownOnOpen=!1,this.referralLink=new URL("https://www.botmind.io/?utm_source=Widget&utm_medium=LogoReferral&utm_campaign=UnknowAccount"),this.user=null,this.faLibrary.addIcons(TT.faPaperPlane,xT.faComment,kT.faTimes,PT.faUndo,IT.faPaperclip,AT.faMinus,DT.faHome,jT.faThumbsUp,MT.faThumbsDown,NT.faSmile,RT.faMeh,LT.faFrown),this.handshakeServer()}get expandHeader(){return!this.messages.some(t=>!t.isWelcome)}get selfCareContactFormWaitingReply(){if(!this.selfCareEnabled&&!this.contactFormModeEnabled)return!1;const t=this.shownMessages[this.shownMessages.length-1];return!!t&&(!t.author||"act_00000000-0000-0000-0000-000000000000"===t.author.id||this.user&&this.user.id===t.author.id)}messagesClear(){this.messages=[],this.shownMessages=[]}messagesAssign(t){this.messages=t,this.messagesSort(),this.messagesFilter()}messagesSort(){this.messages=this.messages.sort((t,e)=>t.updatedDate-e.updatedDate)}messagesFilter(){const t=this.messages.filter((t,e)=>!this.hideMessage(e));if(this.selfCareEnabled||this.contactFormModeEnabled){this.selfCareEnabled||(this.shownMessages=t);let e=t.length,n=!1;const r=[];for(;e>0;){e-=1;const i=t[e];if((!i.author||"act_00000000-0000-0000-0000-000000000000"===i.author.id||this.user&&this.user.id===i.author.id)&&e!==t.length-1)break;r.unshift(t[e]),[ET.BUTTONS,ET.QUICK_REPLIES].includes(i.type)&&(n=!0)}this.contactFormModeEnabled&&!n&&this.session&&this.session.threadStatus===CT.CLOSED&&(n=!0),this.selfCareContactFormDisableText=n,this.selfCareEnabled&&(this.shownMessages=r),this.updateSelfCareContactFormTextareaStatus()}else this.shownMessages=t,this.selfCareContactFormDisableText=!1}messagesPush(t,e){if(e){let e=0;for(const t of this.messages)t.updatedDate>e&&(e=t.updatedDate);t.updatedDate=e+1}this.messages.push(t),this.messagesSort(),this.messagesFilter()}messagesSplice(t){this.messages.splice(t,1),this.messagesSort(),this.messagesFilter()}engage(t,e){return Ea(this,void 0,void 0,function*(){if(this.debugLog("engage request",t),t.isPopTriggerOnly)return void("closed"!==this.displayService.chatStatus||this.session.dismissedPopUp||(this.displayService.popTriggerService.clearMessages(),t.messages.forEach(t=>{this.displayService.popTriggerService.addMessage(t)}),this.ghostMode||this.backendService.notifyEngage(ja.CATCH,this.parentPageUrl,this.parentPageTitle,t.triggerId,e?t.welcomeMessageId:null)));if(![Pa.WAITING,Pa.WELCOMING,Pa.ENGAGING,Pa.OVERRIDDEN,Pa.WELCOMING_ENGAGING].includes(this.session.triggerStatus)||this.activeEngageIdentifier===t.identifier)return;if("thr_00000000-0000-0000-0000-000000000000"!==this.session.threadId&&!t.overridingActiveThread)return;if(!this.session.enabled||!this.session.mobileEnabled)return;if(e){if(this.welcomeTimerHandle=-1,![Pa.WELCOMING,Pa.WELCOMING_ENGAGING].includes(this.session.triggerStatus))return}else this.engageTimerHandle=-1,this.session.triggerStatus!==Pa.WELCOMING&&(this.ghostMode?this.session.triggerStatus=Pa.ENGAGING:yield this.backendService.updateTriggerStatus(Pa.ENGAGING));let n,r;this.messages.length&&(this.messagesClear(),this.displayService.newMessages=0),this.debugLog("Engage"),this.selfCareContactFormWaitingEngage=!0,this.activeEngageIdentifier=t.identifier,t.popUp&&this.displayService.openChat(!1,this),t.messages.forEach(t=>Ea(this,void 0,void 0,function*(){this.pushMessage(t,!1,e),yield this.sleep(100)})),e?n=ja.WELCOME:t.overridingActiveThread?n=ja.LIVE:(n=ja.NORMAL,r=t.triggerId),this.ghostMode||this.backendService.notifyEngage(n,this.parentPageUrl,this.parentPageTitle,r,e?t.welcomeMessageId:null);const i=this.ghostMode?t.messages:yield this.backendService.sendEngageMessage(t);this.displayService.popTriggerService.clearMessages(),i.forEach(t=>{this.displayService.onNewMessage(t,this.session.dismissedPopUp),this.debugLog("Message got received",t)}),this.selfCareContactFormWaitingEngage=!1})}clearWelcome(){this.debugLog("Clear welcome"),-1!==this.welcomeTimerHandle&&(this.debugLog("Clearing handle",this.welcomeTimerHandle),window.clearTimeout(this.welcomeTimerHandle),this.welcomeTimerHandle=-1)}clearEngage(){this.debugLog("Clear engage"),-1!==this.engageTimerHandle&&(this.debugLog("Clearing handle",this.engageTimerHandle),window.clearTimeout(this.engageTimerHandle),this.engageTimerHandle=-1)}handshakeServer(){return Ea(this,void 0,void 0,function*(){const t=new URL(document.URL),e=t.searchParams.get("uid"),n=t.searchParams.get("host"),r=t.searchParams.get("aid"),i=t.searchParams.get("pathName"),s=t.searchParams.get("pageUrl"),o=t.searchParams.get("pageTitle"),a=t.searchParams.get("language"),c=t.searchParams.get("visitorEmail")||"",u=t.searchParams.get("visitorFirstName")||"",l=t.searchParams.get("visitorLastName")||"",h=t.searchParams.get("customData")||"[]",d=(t.searchParams.get("clearTpCookies"),"true"===(t.searchParams.get("isMobile")||"false")),f="true"===(t.searchParams.get("reset")||"false");let p="true"===(t.searchParams.get("startWithWidgetOpen")||"false");const g="true"===(t.searchParams.get("freeDivMode")||"false"),m="true"===(t.searchParams.get("contactFormMode")||"false"),y="true"===(t.searchParams.get("consentReceived")||"false"),v=t.searchParams.get("sip")||null,b=window.navigator.userAgent;g&&(p=!0),m?(this.contactFormModeEnabled=!0,this.hideTextarea=!0):this.hideTextarea=!1,this.ghostMode=!y,this.parentPageUrl=s,this.parentPageTitle=o,this.displayService.widgetOnRight="true"===(t.searchParams.get("widgetOnRight")||"true"),this.displayService.fullHeight="true"===(t.searchParams.get("fullHeight")||"false"),this.displayService.freeDivMode=g,["en","fr","es","de","it"].includes(a)&&this.translate.use(a),a&&(this.language=a),this.multiTabService.init(e),this.host=n;const{firebaseSessionId:_,referralRule:w,environment:O,now:S,initSession:E,initMessages:C,accountName:T}=yield this.backendService.handshake(n,e,r,i,s,o,a,c,u,l,h,p,f,b,d,this.ghostMode,v);this.hideTextareaUntilButtonClick=E.welcomeTriggerData.hideTextInput,this.displayService.removeReferral="hide"===w,this.displayService.referralIsLink="normal"===w,this.displayService.setEnvironment(O),this.referralLink.searchParams.set("utm_campaign",encodeURIComponent(T)),this.handshakeTime=S,this.setSession(E,!0),C.length>this.messages.length&&this.messagesAssign(C),this.ghostMode||this.subscribeToSessionChange(_)})}subscribeToSessionChange(t){this.ghostMode||(this.db.collection(`${this.displayService.environment}-sessions`).doc(t).valueChanges().subscribe(t=>{var e;t&&(this.setSession(t),null===this.hideTextareaUntilButtonClick&&(null===(e=t.welcomeTriggerData)||void 0===e?void 0:e.hideTextInput)&&(this.hideTextareaUntilButtonClick=!0))}),this.db.collection(`${this.displayService.environment}-sessions`).doc(t).collection("messages").stateChanges(["added","removed","modified"]).subscribe(t=>{this.debugLog("MESSAGES changed"),t.forEach(t=>{const e=t.payload.doc.data();"removed"!==t.type&&e.type===ET.BUTTONS&&null!=e.hideTextInput&&e.hideTextInput&&(this.hideTextareaUntilButtonClick=!0),this.debugLog(t.type),this.debugLog(e),"removed"===t.type?this.removeMessage(e):"added"!==t.type&&"modified"!==t.type||this.pushMessage(e,e.updatedDate<this.handshakeTime,!1)})}))}setSession(t,e=!1){this.debugLog("Session changed"),this.displayService.chatStyle=t.chatStyle,this.checkSessionDiff(this.session,t),this.displayService.freeDivMode?this.displayService.setChatStatus("open",!1,!Boolean(this.session),this):e&&this.displayService.isMobileDisplay?this.displayService.closeChat(!0):this.displayService.setChatStatus(t.open?"open":"closed",!1,!Boolean(this.session),this),this.displayService.refreshIframeStyle(),t.customer&&(this.user=new Ia(t.customer.email,t.customer.firstName,t.customer.lastName,t.customer.type,t.customer.id,t.customer.avatar,t.customer.customData));for(const s of this.messages)null!==s.author&&s.author.id!==this.user.id||(s.author=this.user);const n=this.session?this.session.triggerData:null,r=this.session?this.session.welcomeTriggerData:null;this.session=t,[Pa.ENGAGING,Pa.WAITING,Pa.OVERRIDDEN,Pa.WELCOMING_ENGAGING].includes(this.session.triggerStatus)&&this.session.triggerData&&(this.session.triggerData.messages.forEach(t=>{}),n&&VI(JSON.parse(JSON.stringify(n)),JSON.parse(JSON.stringify(this.session.triggerData)))||(this.session.triggerData.delay<=0?this.engage(this.session.triggerData,!1):(this.clearEngage(),this.engageTimerHandle=window.setTimeout(()=>{this.engage.bind(this)(this.session.triggerData,!1)},this.session.triggerData.delay)))),[Pa.WELCOMING,Pa.WELCOMING_ENGAGING].includes(this.session.triggerStatus)&&this.session.welcomeTriggerData&&(this.session.welcomeTriggerData.messages.forEach(t=>{}),r&&VI(JSON.parse(JSON.stringify(r)),JSON.parse(JSON.stringify(this.session.welcomeTriggerData)))||(this.session.welcomeTriggerData.delay<=0?this.engage(this.session.welcomeTriggerData,!0):(this.clearWelcome(),this.welcomeTimerHandle=window.setTimeout(()=>{this.engage.bind(this)(this.session.welcomeTriggerData,!0)},this.session.welcomeTriggerData.delay)))),this.redirectService&&this.redirectService.setUserCall(this.user);const i=t.selfCareAskButtonText.find(t=>t.language===this.language)||t.selfCareAskButtonText[0];i&&(this.selfCareAskButtonText=i.content)}debugLog(...t){}sleep(t){return new Promise(e=>setTimeout(e,t))}jsonCopy(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return}}ngOnInit(){this.newMessage="",this.messagesClear(),this.uploader=new tk({url:`https://api.cloudinary.com/v1_1/${this.cloudinaryConfig.cloud_name}/upload`,autoUpload:!1,isHTML5:!0,removeAfterUpload:!0,headers:[{name:"X-Requested-With",value:"XMLHttpRequest"}]}),this.uploader.onErrorItem=(t,e,n,r)=>{this.debugLog("FILE ERROR"),this.debugLog(e),this.debugLog(n),this.debugLog(r)},this.uploader.onBuildItemForm=(t,e)=>({fileItem:t,form:e}),this.displayService.openCloseSubject.subscribe(t=>{this.clearEngage(),this.clearWelcome()}),this.displayService.hrefChangedSubject.subscribe(t=>{this.redirectService.hrefChanged(t.href,t.pageName),this.backendService.hrefChanged(t.href,t.pageName,this.ghostMode,this.session.accountId,this.session).then(e=>{this.ghostMode&&this.setSession(e,!1),this.parentPageUrl=t.href,this.parentPageTitle=t.pageName})}),this.displayService.setUserSubject.subscribe(t=>{this.user=t}),Ta(this.newMessageInput.nativeElement,"input").pipe(Object(mr.a)(t=>(this.visitorIsTyping=!0,this.shouldRedirect&&this.redirectService.visitorTyping(this.visitorIsTyping),t)),function(t,e=gc.a){return n=>n.lift(new hk(t,e))}(2500),Object(mr.a)(t=>(this.visitorIsTyping=!1,this.shouldRedirect&&this.redirectService.visitorTyping(this.visitorIsTyping),t))).subscribe()}ngDoCheck(){return Ea(this,void 0,void 0,function*(){if(this.displayService.chatStatus!==this.previousChatStatus){this.previousChatStatus=this.displayService.chatStatus;const t=this.perfectScrollbar.directiveRef.elementRef.nativeElement;if("open"===this.displayService.chatStatus){for(;0===t.scrollHeight&&!this.perfectScrollbar.directiveRef.scrollable()&&t.scrollHeight>t.clientHeight;)yield this.sleep(0);this.disableScrollDownOnOpen?this.disableScrollDownOnOpen=!1:(this.scrollDown(),setTimeout(()=>{this.scrollDown()},200)),this.chatHidden=!1,this.newMessage=this.newMessage||"",this.displayService.isMobileDisplay||(yield this.sleep(0),this.newMessageInput.nativeElement.focus())}else this.chatHidden=!0}})}checkSessionDiff(t,e){if(!t||t.thirdPartyTakeover!==e.thirdPartyTakeover)if(!t&&e.thirdPartyTakeover)parent.window.postMessage({type:"bc_resumeTpTakeover"},"*");else if(e.thirdPartyTakeover){const t=this.getHistory();window.setTimeout(()=>{parent.window.postMessage({type:"bc_tpTakeover",data:{transcript:t,messages:this.messages,visitorMessages:this.messages.filter(t=>t.author.id===this.user.id),visitor:this.user}},"*")},2e3)}else parent.window.postMessage({type:"bc_endTpTakeover"},"*");t&&t.enabled&&t.mobileEnabled||!e.enabled&&!e.mobileEnabled||this.displayService.enable(e,e.open?"open":"closed",this,e.chatStyle.launcherButtonStyle),t&&!t.enabled&&!t.mobileEnabled||e.enabled&&e.mobileEnabled||this.displayService.disable(),t&&VI(t.popOnlyMessages,e.popOnlyMessages)||!e.popOnlyMessages.length||("closed"===this.displayService.chatStatus&&(this.displayService.popTriggerService.clearMessages(),e.popOnlyMessages.forEach(t=>{this.displayService.popTriggerService.addMessage(t)})),this.ghostMode?(e.popOnlyMessages=[],t.popOnlyMessages=[]):this.db.collection(`${this.displayService.environment}-sessions`).doc(e.id).update({popOnlyMessages:[]})),t&&t.redirectionEnabled===e.redirectionEnabled||(this.debugLog("Redirection status changed",e.redirectionEnabled),t&&!e.redirectionEnabled&&this.redirectService.endRedirection(),this.shouldRedirect=e.redirectionEnabled,t&&this.shouldRedirect&&(this.debugLog("Redirection was not enabled: sending history"),this.redirectService.sendHistoryCall(this.messages)),t&&!this.shouldRedirect&&this.debugLog("Redirection was disabled")),t&&t.selfCareEnabled===e.selfCareEnabled||this.updateSelfCareMode(e.selfCareEnabled),!e.rhInit||t&&VI(t.rhInit,e.rhInit)||(this.debugLog("EVENT-SET_REDIRECT"),this.redirectService.init(e.rhInit,this)),t&&JSON.stringify(t.rhData)===JSON.stringify(e.rhData)||this.redirectService.onRhDataChangedCall(e.rhData),t&&t.promptSatisfaction===e.promptSatisfaction||(e.promptSatisfaction?window.setTimeout(()=>{this.promptingSatisfaction=!0},5e3):e.promptSatisfaction||(this.promptingSatisfaction=!1)),!e.agentIsTyping||t&&t.agentIsTyping||this.scrollDown(),t&&t.threadStatus===e.threadStatus||(e.threadStatus===CT.CLOSED&&this.contactFormModeEnabled&&!this.selfCareContactFormDisableText&&(this.selfCareContactFormDisableText=!0),this.updateSelfCareContactFormTextareaStatus())}updateSelfCareMode(t){return Ea(this,void 0,void 0,function*(){this.selfCareEnabled=t,this.messagesSort(),this.messagesFilter(),this.hideTextarea=t,t||(yield this.sleep(0),this.newMessageInput.nativeElement.focus())})}checkFiles(t){for(const e of t)if("application/pdf"!==e.type&&"image/"!==e.type.slice(0,6))return!1;return!0}onDrop(t){for(const e of t)"application/pdf"===e.type||"image/"===e.type.slice(0,6)?e.size>10485760?window.alert("File size must be inferior to 10MB"):this.pendingFiles.push(e):window.alert(`Invalid file type: ${e.type||e.name.split(".").slice(-1)[0]}`);this.sendPendingFiles()}fileInput(t){const e=t.target;for(const n of Array.from(e.files))"application/pdf"===n.type||"image/"===n.type.slice(0,6)?n.size>10485760?window.alert("File size must be inferior to 10MB"):this.pendingFiles.push(n):window.alert(`Invalid file type: ${n.type||n.name.split(".").slice(-1)[0]}`);e.value="",this.sendPendingFiles()}scrollDown(){return Ea(this,void 0,void 0,function*(){yield this.sleep(0),this.perfectScrollbar.directiveRef.scrollToBottom()})}pushMessage(t,e,n,r=!1){const i=this.messages.findIndex(e=>e.uuid===t.uuid);return i>=0?(this.messages[i].delivered=!0,this.messages[i].author.id=t.author.id,this.messages[i].updatedDate=t.updatedDate,!1):(this.messagesPush(t,r),n?"closed"===this.displayService.chatStatus&&(this.disableScrollDownOnOpen=!0):this.scrollDown(),this.shouldRedirect&&this.redirectService&&this.redirectService.onMessageCall(t),"bot"===t.author.type?parent.window.postMessage({type:"bc_analytics",data:{type:"Botmind_MessageReceivedFromBot"}},"*"):["agent","third_party"].includes(t.author.type)&&parent.window.postMessage({type:"bc_analytics",data:{type:"Botmind_MessageReceived",data:{detail:t.content}}},"*"),!0)}removeMessage(t){const e=this.messages.findIndex(e=>e.uuid===t.uuid);e>=0&&this.messagesSplice(e)}sendMessageGhostMode(t){this.ghostSessionBackup=this.jsonCopy(this.session),t?this.ghostMessagesQueue.push(t):this.ghostSessionSelfCareAskQuestion=!0,this.modalService.isOpen("modal-collect-consent")||this.modalService.open("modal-collect-consent")}consentAccepted(){return Ea(this,void 0,void 0,function*(){this.ghostSessionBackup=null,this.modalService.close("modal-collect-consent"),yield this.leaveGhostMode();for(const t of this.ghostMessagesQueue){const e=yield this.backendService.sendMessage(t,this.parentPageUrl,this.parentPageTitle);this.displayService.onNewMessage(e,this.session.dismissedPopUp);const n=this.messages.findIndex(t=>t.uuid===e.uuid);n>=0&&(this.messages[n].delivered=!0,this.messages[n].author.id=e.author.id,this.messages[n].updatedDate=e.updatedDate),parent.window.postMessage({type:"bc_analytics",data:{type:"Botmind_MessageSent",data:{detail:t.content}}},"*")}this.ghostMessagesQueue=[],this.ghostSessionSelfCareAskQuestion&&(yield this.backendService.selfCareAskQuestion(),this.ghostSessionSelfCareAskQuestion=!1),this.session&&this.session.id&&"string"==typeof this.session.id&&this.backendService.logEvent(Ma.GDPR_ACCEPT_CLICK,`gdpr_accept-${this.session.id}`)})}consentDenied(){this.setSession(this.ghostSessionBackup),this.ghostSessionBackup=null;for(const t of this.ghostMessagesQueue)this.removeMessage(t);this.ghostMessagesQueue=[],this.ghostSessionSelfCareAskQuestion=!1,this.modalService.close("modal-collect-consent"),this.displayService.closeChat(!0);for(const t of this.shownMessages)t.popNotif&&!this.session.dismissedPopUp&&this.displayService.popTriggerService.addMessage(t);this.backendService.logEvent(Ma.GDPR_DECLINE_CLICK)}sendMessage(t){return Ea(this,void 0,void 0,function*(){if(this.pendingFiles.length)return void this.sendPendingFiles();if(!this.newMessage)return;const t=Date.now(),e={author:this.user,content:this.newMessage,sentDate:t,updatedDate:t,type:ET.TEXT,uuid:lk(String(t),this.session.id),delivered:!1,noNotif:!1,isWelcome:!1,isEngage:!1,popNotif:!1,isButtonReply:!1,isWelcomeEngageButtonReply:!1};this.hideSatisfaction(),this.pushMessage(e,!1,!1,!0),this.setSelfCareActionButtonsDisplayedStatus(!1),this.ghostMode?this.sendMessageGhostMode(e):(this.backendService.sendMessage(e,this.parentPageUrl,this.parentPageTitle).then(t=>{this.displayService.onNewMessage(t,this.session.dismissedPopUp),this.debugLog("Message got received",t);const e=this.messages.findIndex(e=>e.uuid===t.uuid);if(e>=0)return this.messages[e].delivered=!0,this.messages[e].author.id=t.author.id,this.messages[e].updatedDate=t.updatedDate,!1}),parent.window.postMessage({type:"bc_analytics",data:{type:"Botmind_MessageSent",data:{detail:e.content}}},"*")),this.newMessage=""})}sendPendingFiles(){return Ea(this,void 0,void 0,function*(){this.uploader.addToQueue(this.pendingFiles);for(const t of this.uploader.queue){const e=`${Math.floor(Date.now()/1e3)}`,n=`botmind-chat-${this.displayService.environment}/${this.session.accountId}/${this.session.id}`,r=yield this.backendService.requestCloudinarySignature(e,this.cloudinaryConfig.upload_preset,n);t.onBuildForm=i=>(t.withCredentials=!1,i.append("file",t),i.append("folder",n),i.append("upload_preset",this.cloudinaryConfig.upload_preset),i.append("timestamp",e),i.append("api_key",this.cloudinaryConfig.api_key),i.append("signature",r),i),t.onSuccess=(e,n,r)=>{const i=JSON.parse(e);let s;if("image/"===t.file.type.slice(0,6)){const t=Date.now();s={author:this.user,content:i.secure_url,sentDate:t,updatedDate:t,type:ET.IMAGE,uuid:lk(String(t),this.session.id),delivered:!1,noNotif:!1,isWelcome:!1,isEngage:!1,popNotif:!1,isButtonReply:!1,isWelcomeEngageButtonReply:!1}}else{const t=Date.now();s={author:this.user,content:{url:i.secure_url,contentType:"pdf"},sentDate:t,updatedDate:t,type:ET.ATTACHMENT,uuid:lk(String(t),this.session.id),delivered:!1,noNotif:!1,isWelcome:!1,isEngage:!1,popNotif:!1,isButtonReply:!1,isWelcomeEngageButtonReply:!1}}this.pushMessage(s,!1,!1,!0),this.setSelfCareActionButtonsDisplayedStatus(!1),this.ghostMode?this.sendMessageGhostMode(s):(this.backendService.sendMessage(s,this.parentPageUrl,this.parentPageTitle).then(t=>{this.displayService.onNewMessage(t,this.session.dismissedPopUp),this.debugLog("Message got received",t)}),parent.window.postMessage({type:"bc_analytics",data:{type:"Botmind_MessageSent",data:{detail:s.content}}},"*"))},this.uploader.uploadItem(t)}this.pendingFiles.length=0})}displayAvatar(t){const e=this.shownMessages[t],n=this.shownMessages[t+1];return!n||!(!n.author||!e.author)&&n.author.id!==e.author.id}displayName(t){if(this.selfCareEnabled||this.contactFormModeEnabled)return!1;const e=this.shownMessages[t],n=this.shownMessages[t-1];return!!e.author&&e.author.id!==this.user.id&&(!n||!!n.author&&n.author.id!==e.author.id)}focusMessage(t){this.focusMessageIndex=t}unFocusMessage(t){this.focusMessageIndex===t&&(this.focusMessageIndex=-1)}hideMessage(t){const e=this.messages[t],n=this.messages[t].content;return!(Array.isArray(n)&&n[0].hasOwnProperty("type")&&"link"===n[0].type||!["buttons","quick_replies"].includes(e.type)||t===this.messages.length-1)}precededBySameAuthor(t){return 0!==t&&!(!this.shownMessages[t-1].author||!this.shownMessages[t].author)&&this.shownMessages[t-1].author.id===this.shownMessages[t].author.id}followedBySameAuthor(t){return t!==this.shownMessages.length-1&&!(!this.shownMessages[t+1].author||!this.shownMessages[t].author)&&this.shownMessages[t+1].author.id===this.shownMessages[t].author.id}isLastMessage(t){return this.shownMessages.length-1===t}isFirstButtonReply(t){return this.shownMessages.length-1===t}messageFlexGrow(t){return!(t+1>=this.shownMessages.length)&&this.bottomSticky(t+1)}bottomSticky(t){return this.selfCareEnabled&&!this.expandHeader&&this.shownMessages[t].type===ET.BUTTONS}textareaEnter(t){t.stopPropagation(),t.preventDefault()}trackMessageBy(t,e){return e.uuid}updateSelfCareContactFormTextareaStatus(){return Ea(this,void 0,void 0,function*(){const t=this.hideTextarea;if(t===(this.selfCareContactFormDisableText||this.selfCareContactFormWaitingReply||this.selfCareContactFormWaitingEngage))return;if(this.session)for(;this.session.expectingMoreMessages;)yield this.sleep(10);const e=this.selfCareContactFormDisableText||this.selfCareContactFormWaitingReply||this.selfCareContactFormWaitingEngage;t!==e&&(this.hideTextarea=e)})}getActionButtonStyle(t){return BI(t===this.hoverActionButton?this.displayService.chatStyle.buttonsStyle.hoveredItem:this.displayService.chatStyle.buttonsStyle.item)}getActionButtonContentStyle(t){return BI(t===this.hoverActionButton?this.displayService.chatStyle.buttonsStyle.hoveredItemContent:this.displayService.chatStyle.buttonsStyle.itemContent)}setSelfCareActionButtonsDisplayedStatus(t){return Ea(this,void 0,void 0,function*(){this.session.selfCareActionButtonsDisplayed=t,this.ghostMode?this.session.selfCareActionButtonsDisplayed=t:yield this.db.collection(`${this.displayService.environment}-sessions`).doc(this.session.id).update({selfCareActionButtonsDisplayed:t})})}selfCareAskQuestion(){return Ea(this,void 0,void 0,function*(){this.ghostMode?this.sendMessageGhostMode():this.backendService.selfCareAskQuestion()})}selfCareResetAsk(){return Ea(this,void 0,void 0,function*(){yield this.translate.get("RESET_SC").toPromise(),yield this.translate.get("RESET_SC_TITLE").toPromise(),this.modalService.open("modal-confirm-reset")})}selfCareResetConfirm(){return Ea(this,void 0,void 0,function*(){this.hideTextareaUntilButtonClick=null,this.modalService.close("modal-confirm-reset");const{session:t}=yield this.backendService.selfCareReset(this.parentPageUrl,this.parentPageTitle,this.ghostMode,this.session);this.ghostMode&&t&&this.setSession(t,!1),this.shouldRedirect&&this.redirectService.endRedirection(),this.shouldRedirect=!1;const e=document.getElementById("zendesk-chat-web-sdk");e&&e.parentElement.removeChild(e),this.redirectService.initialized&&this.redirectService.init(this.session.rhInit,this),this.hideSatisfaction()})}selfCareResetCancel(){this.modalService.close("modal-confirm-reset")}voteSatisfaction(t){this.satisfaction=t,this.promptingSatisfactionButton=!1,this.promptingSatisfactionComment=!0,this.ghostMode?this.session.satisfaction=t:this.backendService.setSatisfaction(this.satisfaction,"")}skipEvaluation(){this.hideSatisfaction(),this.ghostMode?this.session.dismissedSatisfaction+=1:this.backendService.skipSatisfaction()}validateEvaluation(){this.ghostMode?(this.session.satisfaction=this.satisfaction,this.satisfactionComment=this.satisfactionComment):this.backendService.setSatisfaction(this.satisfaction,this.satisfactionComment),this.promptingSatisfactionComment=!1,this.promptingSatisfactionEndMessage=!0}hideSatisfaction(){this.promptingSatisfaction=!1,this.promptingSatisfactionButton=!0,this.promptingSatisfactionComment=!1,this.promptingSatisfactionEndMessage=!1,this.satisfaction=null,this.satisfactionComment="",this.ghostMode?this.session.promptSatisfaction=!1:this.db.collection(`${this.displayService.environment}-sessions`).doc(this.backendService.sessionId).update({promptSatisfaction:!1})}getFullName(t){return Ia.getFullName(t)}toggleChatStatus(t){this.displayService.toggleChatStatus(t,this)}getHistory(){const t={lead:"\ud83e\uddd1",visitor:"\ud83e\uddd1",agent:"\ud83d\udc68\u200d\ud83d\udcbc",system:"\ud83e\udd16",bot:"\ud83e\udd16",third_party:"\ud83d\udc68\u200d\ud83d\udcbc"};return"HISTORY:\n".concat(this.messages.map(e=>{let n,r;switch(e.type){case ET.TEXT:case ET.IMAGE:n=e.content;break;case ET.TEXT_PAYLOAD:r=e.content,n=`${r.text}(${r.payload})`;break;case ET.BUTTONS:n=e.content.map(t=>`[${t.text}](${t.type}:${t.content})`).join("|");break;case ET.QUICK_REPLIES:n=e.content.join("|");break;default:n=""}return`[${t[e.author.type]} ${Ia.getFullName(e.author)||""}] ${n}`}).join("\n\n"))}leaveGhostMode(){return Ea(this,void 0,void 0,function*(){let{sessionId:t}=yield this.backendService.leaveGhostMode(this.session.id,this.session,this.messages);if(this.ghostMode=!1,this.session.id!==t){this.session.id=t,this.messagesAssign(this.jsonCopy(this.messages.map(t=>Object.assign(Object.assign({},t),{uuid:lk(String(t.sentDate),this.session.id)}))));for(const t of this.ghostMessagesQueue)t.uuid=lk(String(t.sentDate),this.session.id);if(this.session.triggerData&&this.session.triggerData.messages)for(const t of this.session.triggerData.messages)t.uuid=lk(String(t.sentDate),this.session.id);if(this.session.welcomeTriggerData&&this.session.welcomeTriggerData.messages)for(const t of this.session.welcomeTriggerData.messages)t.uuid=lk(String(t.sentDate),this.session.id)}this.subscribeToSessionChange(this.session.id),this.session.rhInit&&this.redirectService.init(this.session.rhInit,this),parent.window.postMessage({type:"bc_leavingGhostMode",data:t},"*")})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(ES),s.Ob(Yk),s.Ob(fc),s.Ob(GC),s.Ob(wT),s.Ob(OS),s.Ob(Gk),s.Ob(Hk))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-widget"]],viewQuery:function(t,e){if(1&t&&(s.Fc(Xx,1),s.Fc(Xk,3)),2&t){let t;s.rc(t=s.cc())&&(e.perfectScrollbar=t.first),s.rc(t=s.cc())&&(e.newMessageInput=t.first)}},decls:67,vars:108,consts:[[1,"main",3,"ngStyle","checkFiles","appDropZone"],["id","dropzone",1,"dropzone"],[1,"waiting-backdrop-back",3,"ngClass"],[1,"waiting-backdrop"],[1,"top-container",3,"ngStyle","ngClass"],[1,"top",3,"ngClass","ngStyle"],[1,"headerText"],[3,"ngStyle"],[1,"headerButtons"],[3,"ngStyle","icon","click",4,"ngIf"],["size","lg",3,"ngStyle","icon","click",4,"ngIf"],[1,"headerPic",3,"ngStyle"],["class","top-subtitle",3,"ngClass",4,"ngIf"],["class","self-care-thread-title",3,"ngStyle",4,"ngIf"],[1,"chat",3,"ngStyle","ngClass"],[1,"chat-container"],["class","chat-message-container",3,"ngClass","click","clickOutside",4,"ngFor","ngForOf","ngForTrackBy"],["class","is-typing-container",4,"ngIf"],["class","self-care-contact-form-action-buttons",4,"ngIf"],[1,"bottom",3,"ngStyle","ngClass"],["class","satisfaction-prompt",4,"ngIf"],["class","poweredBy",3,"ngStyle",4,"ngIf"],[1,"newMessage",3,"ngStyle","ngClass"],["type","text","maxlength","512","spellcheck","false","autosize","","rows","1",3,"ngModel","placeholder","maxRows","ngModelChange","keydown.enter","keyup.enter"],["newMessageInput",""],["for","open-file",3,"ngClass","ngStyle"],[3,"styles","icon"],["type","file","id","open-file","accept","image/*,application/pdf",3,"change"],["viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg","width","20","height","20","version","1.1",1,"send",3,"ngClass","click"],["points","0,92.85 100,50 0,7.15 0,40.45 71.4,50 0,59.55"],["id","modal-confirm-reset",3,"additionalStyle"],["id","modal-confirm-buttons"],[1,"mcb-cancel",3,"ngStyle","click"],[1,"mcb-confirm",3,"ngStyle","click"],["id","modal-collect-consent",3,"additionalStyle","sticky"],["target","_blank","href","https://www.botmind.io/fr/gdpr"],["id","modal-consent-buttons"],[3,"ngStyle","click"],[3,"ngStyle","icon","click"],["size","lg",3,"ngStyle","icon","click"],[1,"top-subtitle",3,"ngClass"],[1,"self-care-thread-title",3,"ngStyle"],[1,"chat-message-container",3,"ngClass","click","clickOutside"],[3,"widget","message","displayAvatar","displayName","focused","precededBySameAuthor","followedBySameAuthor","selfCareEnabled","contactFormModeEnabled","isLastMessage"],[1,"is-typing-container"],[1,"is-typing-identity"],[1,"is-typing"],[1,"self-care-contact-form-action-buttons"],["class","action-button",3,"ngStyle","mouseover","mouseleave","click",4,"ngIf"],[1,"action-button",3,"ngStyle","mouseover","mouseleave","click"],[1,"satisfaction-prompt"],[4,"ngIf"],[1,"satisfaction-buttons"],[1,"msb-yes",3,"icon","click"],[1,"msb-meh",3,"icon","click"],[1,"msb-no",3,"icon","click"],["class","satisfaction-action-button",3,"click",4,"ngIf"],[1,"satisfaction-action-button",3,"click"],[1,"satisfaction-comment"],["maxlength","512","spellcheck","false",3,"ngModel","placeholder","ngModelChange"],[1,"satisfaction-action-button",3,"ngStyle","click"],[1,"poweredBy",3,"ngStyle"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],["src","assets/logo_and_name.png","width","60px","height","25px"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.bc("appDropZone",function(t){return e.onDrop(t)}),s.Pb(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Pb(4,"div"),s.Pb(5,"div"),s.Pb(6,"div"),s.Pb(7,"div"),s.Tb(),s.Tb(),s.Ub(8,"div",4),s.Ub(9,"div",5),s.Ub(10,"div",6),s.Ub(11,"h3",7),s.Bc(12),s.Tb(),s.Tb(),s.Ub(13,"div",8),s.zc(14,Qk,1,3,"fa-icon",9),s.zc(15,Zk,1,3,"fa-icon",10),s.Tb(),s.Tb(),s.Pb(16,"div",11),s.zc(17,eI,3,4,"div",12),s.Tb(),s.zc(18,rI,3,4,"div",13),s.Ub(19,"perfect-scrollbar",14),s.Ub(20,"div",15),s.zc(21,sI,2,14,"div",16),s.zc(22,oI,9,4,"div",17),s.Tb(),s.Tb(),s.zc(23,cI,2,1,"div",18),s.Ub(24,"div",19),s.zc(25,wI,4,3,"div",20),s.zc(26,EI,3,5,"div",21),s.Ub(27,"div",22),s.Ub(28,"textarea",23,24),s.bc("ngModelChange",function(t){return e.newMessage=t})("keydown.enter",function(t){return e.textareaEnter(t)})("keyup.enter",function(){return e.newMessage&&e.sendMessage()}),s.gc(30,"translate"),s.Bc(31,"Botmind"),s.Tb(),s.Ub(32,"label",25),s.Pb(33,"fa-icon",26),s.Tb(),s.Ub(34,"input",27),s.bc("change",function(t){return e.fileInput(t)}),s.Tb(),s.ec(),s.Ub(35,"svg",28),s.bc("click",function(){return e.sendMessage()}),s.Pb(36,"polygon",29),s.Tb(),s.Tb(),s.zc(37,xI,3,5,"div",21),s.Tb(),s.Tb(),s.dc(),s.Ub(38,"jw-modal",30),s.Ub(39,"div"),s.Ub(40,"p"),s.Bc(41),s.gc(42,"translate"),s.Tb(),s.Ub(43,"div",31),s.Ub(44,"button",32),s.bc("click",function(){return e.selfCareResetCancel()}),s.Bc(45),s.gc(46,"translate"),s.Tb(),s.Ub(47,"button",33),s.bc("click",function(){return e.selfCareResetConfirm()}),s.Bc(48),s.gc(49,"translate"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(50,"jw-modal",34),s.Ub(51,"div"),s.Ub(52,"p"),s.Bc(53),s.gc(54,"translate"),s.Ub(55,"a",35),s.Bc(56),s.gc(57,"translate"),s.Tb(),s.Bc(58),s.gc(59,"translate"),s.Tb(),s.Ub(60,"div",36),s.Ub(61,"button",37),s.bc("click",function(){return e.consentAccepted()}),s.Bc(62),s.gc(63,"translate"),s.Tb(),s.Ub(64,"button",37),s.bc("click",function(){return e.consentDenied()}),s.Bc(65),s.gc(66,"translate"),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.kc("ngStyle",s.nc(69,nI,"closed"===e.displayService.chatStatus?"none":"flex"))("checkFiles",e.checkFiles),s.Db(2),s.kc("ngClass",s.nc(71,kI,!e.selfCareContactFormWaitingReply)),s.Db(6),s.kc("ngStyle",e.displayService.chatStyle.bgStyle)("ngClass",s.nc(73,tI,e.expandHeader&&!e.contactFormModeEnabled&&e.displayService.chatStyle&&e.displayService.chatStyle.enableHeaderImage)),s.Db(1),s.kc("ngClass",s.oc(75,II,e.chatHidden,e.expandHeader&&!e.contactFormModeEnabled))("ngStyle",e.displayService.chatStyle.headerStyle),s.Db(2),s.kc("ngStyle",e.displayService.chatStyle.headerStyle.textAndLogo),s.Db(1),s.Cc(e.displayService.chatStyle.headerText.title||""),s.Db(2),s.kc("ngIf",!e.expandHeader),s.Db(1),s.kc("ngIf",!e.displayService.freeDivMode),s.Db(1),s.kc("ngStyle",e.displayService.chatStyle.welcomeHeaderStyle),s.Db(1),s.kc("ngIf",e.displayService.chatStyle.headerText&&!!e.displayService.chatStyle.headerText.text),s.Db(1),s.kc("ngIf",e.session&&e.session.selfCareTitle),s.Db(1),s.kc("ngStyle",e.displayService.chatStyle.bgStyle)("ngClass",s.nc(78,PI,e.chatHidden)),s.Db(2),s.kc("ngForOf",e.shownMessages)("ngForTrackBy",e.trackMessageBy),s.Db(1),s.kc("ngIf",e.session&&e.session.agentIsTyping&&!e.contactFormModeEnabled),s.Db(1),s.kc("ngIf",e.selfCareEnabled&&e.session&&e.session.selfCareActionButtonsEnabled&&e.session.selfCareActionButtonsDisplayed),s.Db(1),s.kc("ngStyle",e.displayService.chatStyle.bgStyle)("ngClass",s.nc(80,PI,e.chatHidden)),s.Db(1),s.kc("ngIf",e.promptingSatisfaction),s.Db(1),s.kc("ngIf",!e.selfCareEnabled&&!e.contactFormModeEnabled),s.Db(1),s.kc("ngStyle",s.nc(82,nI,e.hideTextarea||e.hideTextareaUntilButtonClick?"none":"flex"))("ngClass",s.nc(84,AI,e.contactFormModeEnabled)),s.Db(1),s.kc("ngModel",e.newMessage)("placeholder",s.hc(30,51,"TYPE_HERE"))("maxRows",5),s.Db(4),s.kc("ngClass",s.nc(86,jI,e.newMessage))("ngStyle",s.nc(88,MI,e.displayService.chatStyle.sendButtonColor)),s.Db(1),s.kc("styles",s.mc(90,DI))("icon",s.mc(91,NI)),s.Db(2),s.kc("ngClass",s.nc(92,jI,e.newMessage)),s.Db(1),s.Eb("fill",e.displayService.chatStyle.sendButtonColor),s.Db(1),s.kc("ngIf",e.selfCareEnabled||e.contactFormModeEnabled),s.Db(1),s.kc("additionalStyle",s.mc(94,RI)),s.Db(3),s.Cc(s.hc(42,53,"RESET_SC")),s.Db(3),s.kc("ngStyle",s.oc(95,LI,e.displayService.chatStyle.sendButtonColor,e.displayService.chatStyle.sendButtonColor)),s.Db(1),s.Cc(s.hc(46,55,"CANCEL")),s.Db(2),s.kc("ngStyle",s.oc(98,FI,e.displayService.chatStyle.sendButtonColor,e.displayService.chatStyle.sendButtonColor)),s.Db(1),s.Cc(s.hc(49,57,"CONFIRM")),s.Db(2),s.kc("additionalStyle",s.mc(101,UI))("sticky",!0),s.Db(3),s.Cc(s.hc(54,59,"CONSENT_FIRST")),s.Db(3),s.Cc(s.hc(57,61,"CONSENT_LINK")),s.Db(2),s.Dc("",s.hc(59,63,"CONSENT_SECOND")," "),s.Db(3),s.kc("ngStyle",s.oc(102,LI,e.displayService.chatStyle.sendButtonColor,e.displayService.chatStyle.sendButtonColor)),s.Db(1),s.Cc(s.hc(63,65,"ACCEPT")),s.Db(2),s.kc("ngStyle",s.oc(105,LI,e.displayService.chatStyle.sendButtonColor,e.displayService.chatStyle.sendButtonColor)),s.Db(1),s.Cc(s.hc(66,67,"REFUSE")))},styles:[".hide[_ngcontent-%COMP%]{opacity:0}.main[_ngcontent-%COMP%]{background-color:transparent;height:100vh;width:100vw;flex-direction:column}.main[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]{box-sizing:border-box;display:none;position:fixed;width:100%;height:100%;left:0;top:0;z-index:99999;background:rgba(96,167,220,.8);border:11px dashed #60a7dc}.main.drop-zone-active[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]{display:block}.main[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{min-height:60px;height:60px;display:flex;flex-direction:column;transition:all .1s ease-out}.main[_ngcontent-%COMP%]   .top-container.expandHeader[_ngcontent-%COMP%]{height:100%;max-height:225px}.main[_ngcontent-%COMP%]   .top-container.expandHeader[_ngcontent-%COMP%]   .headerPic[_ngcontent-%COMP%]{margin-top:-60px}.main[_ngcontent-%COMP%]   .top-container.expandHeader[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{background:transparent!important}.main[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:0 15px;flex-grow:0;color:#fff;display:flex;flex-direction:row;justify-content:center;align-items:center;z-index:3}.main[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .headerText[_ngcontent-%COMP%]{flex-grow:1;padding:0 15px}.main[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .headerText[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left}.main[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .headerButtons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:60px}.main[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .headerButtons[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-left:20px;cursor:pointer}.main[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   .headerPic[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 -3px 5px 5px rgba(63,63,63,.75);z-index:1}.main[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   .top-subtitle[_ngcontent-%COMP%]{padding:10px 20px 0;display:none;flex-grow:0}.main[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   .top-subtitle.expandHeader[_ngcontent-%COMP%]{display:block}.main[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   .top-subtitle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.main[_ngcontent-%COMP%]   .self-care-thread-title[_ngcontent-%COMP%]{padding:10px 15px 0;display:block;background-color:#fff;z-index:2;flex-grow:0}.main[_ngcontent-%COMP%]   .self-care-thread-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:large;font-weight:700}.main[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;padding:8px 20px 0;width:auto}.main[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.main[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]{width:100%}.main[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .chat-container[_ngcontent-%COMP%]   .chat-message-container.messageFlexGrow[_ngcontent-%COMP%]{flex-grow:1}.main[_ngcontent-%COMP%]   .self-care-contact-form-action-buttons[_ngcontent-%COMP%]{background-color:#fff;padding:20px}.main[_ngcontent-%COMP%]   .self-care-contact-form-action-buttons[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:100%;height:50px;margin:0;padding:10px 0;color:#596cf0;border:1px solid #d3d3d3;border-radius:10px;text-align:center;display:flex;justify-content:center;align-items:center;cursor:pointer}.main[_ngcontent-%COMP%]   .self-care-contact-form-action-buttons[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{background-color:#596cf0;color:#fff}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{background:#fff;padding:0 10px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .satisfaction-prompt[_ngcontent-%COMP%]{font-family:Muli;font-size:1rem;padding-top:10px;margin-bottom:20px;border-top:1px solid #d3d3d3;display:flex;flex-direction:column;align-items:center}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .satisfaction-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;font-size:.8rem}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .satisfaction-prompt[_ngcontent-%COMP%]   .satisfaction-comment[_ngcontent-%COMP%]{margin-bottom:20px;height:60px;width:75%}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .satisfaction-prompt[_ngcontent-%COMP%]   .satisfaction-comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{overflow:auto;resize:none;border:1px solid hsla(0,0%,50.2%,.5);padding:5px;border-radius:4px;outline:none;height:100%;width:100%;box-sizing:border-box;font-family:inherit;font-size:12px;background:transparent}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .satisfaction-prompt[_ngcontent-%COMP%]   .satisfaction-buttons[_ngcontent-%COMP%]{width:75%;margin-bottom:10px;display:flex;justify-content:space-evenly}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .satisfaction-prompt[_ngcontent-%COMP%]   .satisfaction-buttons[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;line-height:24px;color:#5a5979}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .satisfaction-prompt[_ngcontent-%COMP%]   .satisfaction-buttons[_ngcontent-%COMP%]   fa-icon.msb-no[_ngcontent-%COMP%]{color:#dd3636}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .satisfaction-prompt[_ngcontent-%COMP%]   .satisfaction-buttons[_ngcontent-%COMP%]   fa-icon.msb-meh[_ngcontent-%COMP%]{color:#dadf43}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .satisfaction-prompt[_ngcontent-%COMP%]   .satisfaction-buttons[_ngcontent-%COMP%]   fa-icon.msb-yes[_ngcontent-%COMP%]{color:#46b970}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .satisfaction-prompt[_ngcontent-%COMP%]   .satisfaction-action-button[_ngcontent-%COMP%]{flex:0 0;height:18px;border-radius:9px;padding:3px 10px;margin-bottom:10px;border:1px solid grey;color:grey;background-color:#fff;font-size:12px;cursor:pointer}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .poweredBy[_ngcontent-%COMP%]{text-align:center;opacity:.75;margin-bottom:10px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .poweredBy[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .poweredBy[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#595c78;text-decoration:none;font-weight:500;font-size:.67em}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .poweredBy[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .poweredBy[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle;margin-right:5px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .poweredBy[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .poweredBy[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:middle}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .newMessage[_ngcontent-%COMP%]{padding:15px 0;margin:2px 5px 5px;border-top:1px solid #d3d3d3;display:flex;flex-direction:row}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .newMessage[_ngcontent-%COMP%]   .send[_ngcontent-%COMP%]{cursor:pointer;align-self:center;width:0;transition-property:width;transition-duration:.1s;transition-delay:0s}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .newMessage[_ngcontent-%COMP%]   .send.writing[_ngcontent-%COMP%]{width:20px}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .newMessage[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#90b3de;cursor:pointer;width:20px;transition-property:width;transition-duration:.1s;transition-delay:0s}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .newMessage[_ngcontent-%COMP%]   label.writing[_ngcontent-%COMP%]{width:0}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .newMessage[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:block;width:inherit}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .newMessage[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .newMessage[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:none;outline:none;resize:none;font-family:inherit;background:transparent;font-size:16px;flex-grow:1}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .newMessage[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:hsla(0,0%,50.2%,.63);opacity:1}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .newMessage[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:hsla(0,0%,50.2%,.63);opacity:1}.main[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .newMessage.isContactForm[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.25);border-radius:20px;width:calc(50%-20px);margin-left:50%;padding-left:10px;padding-right:10px}.waiting-backdrop-back[_ngcontent-%COMP%]{width:100%;height:100%;background:hsla(0,0%,50.2%,.5);z-index:3;position:absolute}.waiting-backdrop-back.hide-backdrop[_ngcontent-%COMP%]{display:none}.waiting-backdrop-back[_ngcontent-%COMP%]   .waiting-backdrop[_ngcontent-%COMP%]{display:inline-block;position:relative;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);width:80px;height:80px}.waiting-backdrop-back[_ngcontent-%COMP%]   .waiting-backdrop[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:#fff;-webkit-animation-timing-function:cubic-bezier(0,1,1,0);animation-timing-function:cubic-bezier(0,1,1,0)}.waiting-backdrop-back[_ngcontent-%COMP%]   .waiting-backdrop[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{left:8px;-webkit-animation:waiting-backdrop1 .6s infinite;animation:waiting-backdrop1 .6s infinite}.waiting-backdrop-back[_ngcontent-%COMP%]   .waiting-backdrop[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;-webkit-animation:waiting-backdrop2 .6s infinite;animation:waiting-backdrop2 .6s infinite}.waiting-backdrop-back[_ngcontent-%COMP%]   .waiting-backdrop[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;-webkit-animation:waiting-backdrop2 .6s infinite;animation:waiting-backdrop2 .6s infinite}.waiting-backdrop-back[_ngcontent-%COMP%]   .waiting-backdrop[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;-webkit-animation:waiting-backdrop3 .6s infinite;animation:waiting-backdrop3 .6s infinite}@-webkit-keyframes waiting-backdrop1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes waiting-backdrop1{0%{transform:scale(0)}to{transform:scale(1)}}@-webkit-keyframes waiting-backdrop3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes waiting-backdrop3{0%{transform:scale(1)}to{transform:scale(0)}}@-webkit-keyframes waiting-backdrop2{0%{transform:translate(0)}to{transform:translate(24px)}}@keyframes waiting-backdrop2{0%{transform:translate(0)}to{transform:translate(24px)}}.is-typing-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:5px}.is-typing-container.hide-backdrop[_ngcontent-%COMP%]{display:none}.is-typing-container[_ngcontent-%COMP%]   .is-typing-identity[_ngcontent-%COMP%]{line-height:20px;font-size:14px;color:#789}.is-typing-container[_ngcontent-%COMP%]   .is-typing[_ngcontent-%COMP%]{transform:translateX(0);margin-left:6px;width:20px;height:20px}.is-typing-container[_ngcontent-%COMP%]   .is-typing[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:8px;width:5px;height:5px;border-radius:50%;background:#789;-webkit-animation-timing-function:cubic-bezier(0,1,1,0);animation-timing-function:cubic-bezier(0,1,1,0)}.is-typing-container[_ngcontent-%COMP%]   .is-typing[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{left:4px;-webkit-animation:typing-key1 .6s infinite;animation:typing-key1 .6s infinite}.is-typing-container[_ngcontent-%COMP%]   .is-typing[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:4px;-webkit-animation:typing-key2 .6s infinite;animation:typing-key2 .6s infinite}.is-typing-container[_ngcontent-%COMP%]   .is-typing[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:16px;-webkit-animation:typing-key2 .6s infinite;animation:typing-key2 .6s infinite}.is-typing-container[_ngcontent-%COMP%]   .is-typing[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:28px;-webkit-animation:typing-key3 .6s infinite;animation:typing-key3 .6s infinite}@-webkit-keyframes typing-key1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes typing-key1{0%{transform:scale(0)}to{transform:scale(1)}}@-webkit-keyframes typing-key3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes typing-key3{0%{transform:scale(1)}to{transform:scale(0)}}@-webkit-keyframes typing-key2{0%{transform:translate(0)}to{transform:translate(12px)}}@keyframes typing-key2{0%{transform:translate(0)}to{transform:translate(12px)}}#modal-confirm-reset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-family:Muli;font-size:1rem;height:80px}#modal-confirm-reset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0}#modal-confirm-reset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   #modal-confirm-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#modal-confirm-reset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   #modal-confirm-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:49%;margin:0;height:30px;border-radius:4px;border:1px solid #000;background-color:transparent;cursor:pointer;font-family:Muli;font-size:1rem}#modal-confirm-reset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   #modal-confirm-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{filter:brightness(80%)}#modal-confirm-reset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   #modal-confirm-buttons[_ngcontent-%COMP%]   button.mcb-cancel[_ngcontent-%COMP%]{border-color:#90b3de;color:#90b3de}#modal-confirm-reset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   #modal-confirm-buttons[_ngcontent-%COMP%]   button.mcb-confirm[_ngcontent-%COMP%]{border-color:#90b3de;color:#fff;background-color:#90b3de}#modal-collect-consent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-family:Muli;font-size:1rem;height:80px}#modal-collect-consent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0}#modal-collect-consent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   #modal-consent-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#modal-collect-consent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   #modal-consent-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:49%;margin:0;height:30px;border-radius:4px;background-color:transparent;cursor:pointer;font-family:Muli;font-size:1rem;border:1px solid #90b3de;color:#90b3de}#modal-collect-consent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   #modal-consent-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{filter:brightness(80%)}"]}),t})(),HI=(()=>{class t{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(_t))},t.\u0275pipe=s.Nb({name:"safeUrl",type:t,pure:!0}),t})();const qI=["mainContainer"];function WI(t,e){if(1&t&&(s.Ub(0,"div"),s.Bc(1),s.Tb()),2&t){const t=s.fc(2);s.Db(1),s.Cc(t.firstTextMessage.content)}}function YI(t,e){if(1&t&&(s.Ub(0,"div"),s.Bc(1),s.Tb()),2&t){const t=s.fc(2);s.Db(1),s.Dc(" ",t.firstTextMessage.content.text," ")}}const $I=function(){return["fas","times"]};function GI(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div"),s.Ub(1,"div",3),s.bc("click",function(){return s.uc(t),s.fc().dismiss()}),s.Pb(2,"fa-icon",4),s.Tb(),s.Ub(3,"div"),s.Ub(4,"div",5),s.bc("click",function(){s.uc(t);const e=s.fc();return e.click(e.firstTextMessage)}),s.zc(5,WI,2,1,"div",6),s.zc(6,YI,2,1,"div",6),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.fc();s.Db(2),s.kc("icon",s.mc(6,$I)),s.Db(1),s.Fb("pop-message-wrapper "+t.firstTextMessage.type+"-message"),s.Db(1),s.kc("ngSwitch",t.firstTextMessage.type),s.Db(1),s.kc("ngSwitchCase","text"),s.Db(1),s.kc("ngSwitchCase","text_payload")}}function XI(t,e){if(1&t&&(s.Ub(0,"div"),s.Bc(1),s.Tb()),2&t){const t=s.fc().$implicit;s.Db(1),s.Cc(t.content)}}function KI(t,e){if(1&t&&(s.Ub(0,"div"),s.Bc(1),s.Tb()),2&t){const t=s.fc().$implicit;s.Db(1),s.Dc(" ",t.content.text," ")}}function QI(t,e){if(1&t&&s.Pb(0,"img",11),2&t){const t=s.fc().$implicit;s.lc("src",t.content,s.wc)}}function JI(t,e){if(1&t&&(s.Ub(0,"video",12),s.Pb(1,"source",13),s.gc(2,"safeUrl"),s.Bc(3," Sorry, your browser doesn't support embedded videos... "),s.Tb()),2&t){const t=s.fc().$implicit;s.kc("muted","muted"),s.Db(1),s.kc("src",s.hc(2,2,t.content),s.wc)}}function ZI(t,e){if(1&t&&(s.Ub(0,"a",19),s.Bc(1),s.Tb()),2&t){const t=s.fc(),e=t.$implicit,n=t.index,r=s.fc(2).index,i=s.fc(2);s.kc("href",e.content,s.wc)("ngStyle",i.getButtonsItemContentStyle(r,n)),s.Db(1),s.Dc(" ",e.text," ")}}function tP(t,e){if(1&t){const t=s.Vb();s.Ub(0,"span",20),s.bc("click",function(){s.uc(t);const e=s.fc().$implicit,n=s.fc(2).$implicit;return s.fc(2).clickButton(n,e)}),s.Bc(1),s.Tb()}if(2&t){const t=s.fc(),e=t.index,n=t.$implicit,r=s.fc(2).index,i=s.fc(2);s.kc("ngStyle",i.getButtonsItemContentStyle(r,e)),s.Db(1),s.Dc(" ",n.text," ")}}function eP(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",16),s.bc("mouseover",function(){s.uc(t);const n=e.index,r=s.fc(2).index,i=s.fc(2);return i.itemHoverInd=n,i.messageHoverInd=r})("mouseleave",function(){s.uc(t);const e=s.fc(4);return e.itemHoverInd=-1,e.messageHoverInd=-1}),s.zc(1,ZI,2,3,"a",17),s.zc(2,tP,2,2,"span",18),s.Tb()}if(2&t){const t=e.$implicit,n=e.index,r=s.fc(2).index,i=s.fc(2);s.kc("ngStyle",i.getButtonsItemStyle(r,n)),s.Db(1),s.kc("ngIf","link"===t.type),s.Db(1),s.kc("ngIf","reply"===t.type)}}const nP=function(t){return{justifyContent:t}};function rP(t,e){if(1&t&&(s.Ub(0,"div",14),s.zc(1,eP,3,3,"div",15),s.Tb()),2&t){const t=s.fc().$implicit,e=s.fc(2);s.kc("ngStyle",s.nc(2,nP,e.displayService.widgetOnRight?"flex-end":"flex-start")),s.Db(1),s.kc("ngForOf",t.content)}}function iP(t,e){if(1&t&&(s.Ub(0,"div"),s.Bc(1),s.Tb()),2&t){const t=e.$implicit;s.Db(1),s.Dc(" ",t," ")}}function sP(t,e){if(1&t&&(s.Ub(0,"div"),s.zc(1,iP,2,1,"div",21),s.Tb()),2&t){const t=s.fc().$implicit;s.Db(1),s.kc("ngForOf",t.content)}}function oP(t,e){if(1&t&&(s.Ub(0,"div"),s.Ub(1,"a",22),s.Pb(2,"img",23),s.Tb(),s.Tb()),2&t){const t=s.fc().$implicit,e=s.fc(2);s.Db(1),s.kc("href",t.content.url,s.wc),s.Db(1),s.kc("src",e.attachmentSrc(t),s.wc)}}function aP(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div"),s.Ub(1,"div",5),s.bc("click",function(){s.uc(t);const n=e.$implicit;return s.fc(2).click(n)}),s.zc(2,XI,2,1,"div",6),s.zc(3,KI,2,1,"div",6),s.zc(4,QI,1,1,"img",8),s.zc(5,JI,4,4,"video",9),s.zc(6,rP,2,4,"div",10),s.zc(7,sP,2,1,"div",6),s.zc(8,oP,3,2,"div",6),s.Tb(),s.Tb()}if(2&t){const t=e.$implicit;s.Fb("pop-message-wrapper "+t.type+"-message"),s.Db(1),s.kc("ngSwitch",t.type),s.Db(1),s.kc("ngSwitchCase","text"),s.Db(1),s.kc("ngSwitchCase","text_payload"),s.Db(1),s.kc("ngSwitchCase","image"),s.Db(1),s.kc("ngSwitchCase","video"),s.Db(1),s.kc("ngSwitchCase","buttons"),s.Db(1),s.kc("ngSwitchCase","quick_replies"),s.Db(1),s.kc("ngSwitchCase","attachment")}}function cP(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div"),s.Ub(1,"div",3),s.bc("click",function(){return s.uc(t),s.fc().dismiss()}),s.Pb(2,"fa-icon",4),s.Tb(),s.zc(3,aP,9,10,"div",7),s.Tb()}if(2&t){const t=s.fc();s.Db(2),s.kc("icon",s.mc(2,$I)),s.Db(1),s.kc("ngForOf",t.popTriggerService.messages)}}const uP=function(t,e){return{mobile:t,widgetOnRight:e}};let lP=(()=>{class t{constructor(t,e,n,r){this.popTriggerService=t,this.displayService=e,this.backendService=n,this.faLibrary=r,this.itemHoverInd=-1,this.messageHoverInd=-1}ngOnInit(){this.popTriggerService.messagesChangedSubject.subscribe(t=>{this.addNecessaryAdditionalIframeHeight();const e=this.mainDiv.nativeElement,n=e.getElementsByTagName("img"),r=e.getElementsByTagName("video");for(let i=0;i<n.length;i+=1)n[i].onload=()=>{this.addNecessaryAdditionalIframeHeight()};for(let i=0;i<r.length;i+=1)r[i].onloadeddata=()=>{this.addNecessaryAdditionalIframeHeight()}}),this.faLibrary.addIcons(kT.faTimes)}addNecessaryAdditionalIframeHeight(){this.displayService.setAdditionalIframeHeight(this.mainDiv.nativeElement.offsetHeight)}attachmentSrc(t){switch(t.content.contentType){case"pdf":return"assets/file-icon-pdf.png";case null:return"assets/file-icon-unknown.png"}}click(t){switch(t.type){case ET.TEXT:case ET.TEXT_PAYLOAD:case ET.IMAGE:this.displayService.openChat(!0,this.widget)}}clickButton(t,e){return Ea(this,void 0,void 0,function*(){"link"!==e.type&&(this.popTriggerService.clearMessages(),yield this.displayService.openChat(!0,this.widget),e.content?this.sendTextPayloadMessage(e.text,e.content,t):this.sendTextMessage(e.text,t))})}sendTextPayloadMessage(t,e,n){const r=Date.now(),i={author:this.widget.user,content:{text:t,payload:e},sentDate:r,updatedDate:r,uuid:lk(String(r),this.widget.session.id),type:ET.TEXT_PAYLOAD,delivered:!1,noNotif:!1,isWelcome:!1,isEngage:!1,popNotif:!1,isButtonReply:!0,isWelcomeEngageButtonReply:n.isEngage||n.isWelcome};this.widget.pushMessage(i,!1,!1,!0),this.widget.setSelfCareActionButtonsDisplayedStatus(!1),this.widget.ghostMode?this.widget.sendMessageGhostMode(i):this.backendService.sendMessage(i,this.widget.parentPageUrl,this.widget.parentPageTitle)}sendTextMessage(t,e){const n=Date.now(),r={author:this.widget.user,content:t,sentDate:n,updatedDate:n,uuid:lk(String(n),this.widget.session.id),type:ET.TEXT,delivered:!1,noNotif:!1,isWelcome:!1,isEngage:!1,popNotif:!1,isButtonReply:!0,isWelcomeEngageButtonReply:e.isEngage||e.isWelcome};this.widget.pushMessage(r,!1,!1,!0),this.widget.setSelfCareActionButtonsDisplayedStatus(!1),this.widget.ghostMode?this.widget.sendMessageGhostMode(r):this.backendService.sendMessage(r,this.widget.parentPageUrl,this.widget.parentPageTitle)}dismiss(){this.popTriggerService.clearMessages(),this.displayService.triggerDismissed()}getButtonsItemStyle(t,e){return e===this.itemHoverInd&&t===this.messageHoverInd?this.displayService.chatStyle.buttonsStyle.hoveredItem:this.displayService.chatStyle.buttonsStyle.item}getButtonsItemContentStyle(t,e){return e===this.itemHoverInd&&t===this.messageHoverInd?this.displayService.chatStyle.buttonsStyle.hoveredItemContent:this.displayService.chatStyle.buttonsStyle.itemContent}get firstTextMessage(){const t=this.popTriggerService.messages;if(!t||!t.length)return null;const e=t.filter(t=>[ET.TEXT,ET.TEXT_PAYLOAD].includes(t.type));return e.length?e[0]:null}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(pc),s.Ob(ES),s.Ob(fc),s.Ob(GC))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-pop-triggers"]],viewQuery:function(t,e){if(1&t&&s.Fc(qI,1),2&t){let t;s.rc(t=s.cc())&&(e.mainDiv=t.first)}},inputs:{widget:"widget"},decls:4,vars:7,consts:[[1,"main",3,"ngStyle","ngClass"],["mainContainer",""],[4,"ngIf"],[1,"dismiss-pop-trigger",3,"click"],["size","lg",3,"icon"],[1,"pop-message",3,"ngSwitch","click"],[4,"ngSwitchCase"],[3,"class",4,"ngFor","ngForOf"],[3,"src",4,"ngSwitchCase"],["autoplay","","controls","","width","100%",3,"muted",4,"ngSwitchCase"],[3,"ngStyle",4,"ngSwitchCase"],[3,"src"],["autoplay","","controls","","width","100%",3,"muted"],["type","video/mp4",3,"src"],[3,"ngStyle"],[3,"ngStyle","mouseover","mouseleave",4,"ngFor","ngForOf"],[3,"ngStyle","mouseover","mouseleave"],["target","_blank","style","text-decoration: none; color: inherit",3,"href","ngStyle",4,"ngIf"],[3,"ngStyle","click",4,"ngIf"],["target","_blank",2,"text-decoration","none","color","inherit",3,"href","ngStyle"],[3,"ngStyle","click"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],["width","80","height","80",3,"src"]],template:function(t,e){1&t&&(s.Ub(0,"div",0,1),s.zc(2,GI,7,7,"div",2),s.zc(3,cP,4,3,"div",2),s.Tb()),2&t&&(s.kc("ngStyle",e.displayService.getPopNotifStyle())("ngClass",s.oc(4,uP,e.displayService.isMobileDisplay,e.displayService.widgetOnRight)),s.Db(2),s.kc("ngIf",e.displayService.isMobileDisplay&&e.firstTextMessage),s.Db(1),s.kc("ngIf",!e.displayService.isMobileDisplay))},directives:[B,A,N,JC,U,V,M],pipes:[HI],styles:['.main[_ngcontent-%COMP%]{position:absolute;bottom:60px}.main[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main.mobile[_ngcontent-%COMP%]{bottom:0;left:63px;width:auto!important;max-width:270px}.main.mobile.widgetOnRight[_ngcontent-%COMP%]{left:auto;right:63px}.main.mobile[_ngcontent-%COMP%]   .dismiss-pop-trigger[_ngcontent-%COMP%]{position:absolute;right:-10px;top:-10px}.main.mobile[_ngcontent-%COMP%]   .pop-message-wrapper[_ngcontent-%COMP%]{margin:0}.main.mobile[_ngcontent-%COMP%]   .pop-message-wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:0}.main.mobile[_ngcontent-%COMP%]   .pop-message-wrapper[_ngcontent-%COMP%]   .pop-message[_ngcontent-%COMP%]{font-size:.8em;overflow:"hidden"}.main[_ngcontent-%COMP%]   .dismiss-pop-trigger[_ngcontent-%COMP%]{align-self:flex-end;border-radius:12px;height:24px;width:24px;color:#fff;background:rgba(64,64,64,.63);text-align:center;vertical-align:bottom;display:inline-block;line-height:24px;font-size:9px;cursor:pointer}.main[_ngcontent-%COMP%]   .pop-message-wrapper[_ngcontent-%COMP%]{margin:10px 0}.main[_ngcontent-%COMP%]   .pop-message-wrapper[_ngcontent-%COMP%]:first-child{margin-top:0}.main[_ngcontent-%COMP%]   .pop-message-wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:20px}.main[_ngcontent-%COMP%]   .pop-message-wrapper[_ngcontent-%COMP%]   .pop-message[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;border:1px solid #f0f0f0;cursor:pointer;color:#37474f;font-family:Muli;font-size:.9em;overflow:hidden}.main[_ngcontent-%COMP%]   .pop-message-wrapper.text-message[_ngcontent-%COMP%]   .pop-message[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .pop-message-wrapper.text_payload-message[_ngcontent-%COMP%]   .pop-message[_ngcontent-%COMP%]{box-shadow:0 2px 8px 0 rgba(35,47,53,.09);padding:10px}.main[_ngcontent-%COMP%]   .pop-message-wrapper.image-message[_ngcontent-%COMP%]{align-self:flex-end}.main[_ngcontent-%COMP%]   .pop-message-wrapper.image-message[_ngcontent-%COMP%]   .pop-message[_ngcontent-%COMP%]{background:transparent!important;box-shadow:0 2px 8px 0 rgba(35,47,53,.09);border:0}.main[_ngcontent-%COMP%]   .pop-message-wrapper.image-message[_ngcontent-%COMP%]   .pop-message[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5px;width:100%;display:block}.main[_ngcontent-%COMP%]   .pop-message-wrapper.buttons-message[_ngcontent-%COMP%]   .pop-message[_ngcontent-%COMP%]{background:transparent!important;border:none;cursor:default}.main[_ngcontent-%COMP%]   .pop-message-wrapper.buttons-message[_ngcontent-%COMP%]   .pop-message[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin:0 -5px}.main[_ngcontent-%COMP%]   .pop-message-wrapper.buttons-message[_ngcontent-%COMP%]   .pop-message[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:8px;margin:0 5px 10px;border-radius:10px;color:#37474f;border:1px solid #f0f0f0;cursor:pointer;box-shadow:0 2px 8px 0 rgba(35,47,53,.09)}']}),t})();const hP=["animationVideo"];function dP(t,e){if(1&t&&s.Qb(0,6),2&t){s.fc();const t=s.sc(4);s.kc("ngTemplateOutlet",t)}}const fP=function(t,e,n,r){return{opacity:t,"width.px":e,"height.px":n,"border-radius.px":r}};function pP(t,e){if(1&t){const t=s.Vb();s.Ub(0,"video",7,8),s.bc("ended",function(){return s.uc(t),s.fc().stopAnimation()})("canplay",function(){return s.uc(t),s.fc().animationLoaded=!0}),s.Pb(2,"source",9),s.Tb()}if(2&t){const t=s.fc();s.kc("volume",0)("defaultMuted",!0)("ngStyle",s.qc(4,fP,t.animationLoaded&&t.showAnimation?1:0,t.displayService.isMobileDisplay?40:60,t.displayService.isMobileDisplay?40:60,t.displayService.isMobileDisplay?40:60)),s.Db(2),s.kc("src",t.displayService.chatStyle.launcherAnimationUrl,s.wc)}}function gP(t,e){if(1&t&&(s.Ub(0,"div",10),s.Bc(1),s.Tb()),2&t){const t=s.fc();s.Db(1),s.Cc(t.displayService.newMessages)}}const mP=function(t,e){return{mobile:t,widgetOnRight:e}},yP=function(){return["fas","comment"]};let vP=(()=>{class t{constructor(t){this.displayService=t,this.animationLoaded=!1,this.showAnimation=!1}ngOnInit(){this.displayService.launcherAnimationSubject.subscribe(({url:t})=>{t&&this.startAnimation(this.displayService.chatStyle.launcherAnimationDelay)})}toggleChatStatus(t){this.displayService.toggleChatStatus(t,this.widget)}startAnimation(t=this.displayService.chatStyle.launcherAnimationDelay){setTimeout(()=>{var t,e,n;(null===(t=this.animationVideo)||void 0===t?void 0:t.nativeElement)&&(this.showAnimation=!0),null===(e=this.animationVideo)||void 0===e||e.nativeElement.setAttribute("autoplay",!0),null===(n=this.animationVideo)||void 0===n||n.nativeElement.play()},t?1e3*t:0)}stopAnimation(){var t,e,n;null===(t=this.animationVideo)||void 0===t||t.nativeElement.setAttribute("autoplay",!1),null===(e=this.animationVideo)||void 0===e||e.nativeElement.pause(),(null===(n=this.animationVideo)||void 0===n?void 0:n.nativeElement)&&(this.animationVideo.nativeElement.currentTime=0,this.showAnimation=!1)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(ES))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-button"]],viewQuery:function(t,e){if(1&t&&s.Fc(hP,1),2&t){let t;s.rc(t=s.cc())&&(e.animationVideo=t.first)}},inputs:{widget:"widget"},decls:7,vars:9,consts:[[1,"main",3,"ngStyle","ngClass","click"],["chatButton",""],[3,"ngTemplateOutlet",4,"ngIf"],["launcherAnimation",""],["size","3x",3,"icon"],["class","newMessages",4,"ngIf"],[3,"ngTemplateOutlet"],["muted","","preload","auto",1,"launcherAnimation",3,"volume","defaultMuted","ngStyle","ended","canplay"],["animationVideo",""],["type","video/mp4",3,"src"],[1,"newMessages"]],template:function(t,e){1&t&&(s.Ub(0,"button",0,1),s.bc("click",function(){return e.toggleChatStatus(!0),e.stopAnimation()}),s.zc(2,dP,1,1,"ng-container",2),s.zc(3,pP,3,9,"ng-template",null,3,s.Ac),s.Pb(5,"fa-icon",4),s.zc(6,gP,2,1,"div",5),s.Tb()),2&t&&(s.kc("ngStyle",e.displayService.getlauncherButtonStyle())("ngClass",s.oc(5,mP,e.displayService.isMobileDisplay,e.displayService.widgetOnRight)),s.Db(2),s.kc("ngIf",e.displayService.chatStyle.launcherAnimationUrl),s.Db(3),s.kc("icon",s.mc(8,yP)),s.Db(1),s.kc("ngIf",e.displayService.newMessages))},directives:[B,A,N,JC,z],styles:[".main[_ngcontent-%COMP%]{width:60px;height:60px;color:#fff;border:none;padding:0;position:absolute;bottom:0;right:0;cursor:pointer;overflow:visible}.main.mobile[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:0 30px 30px 0!important;font-size:10px}.main.mobile[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:3px}.main.mobile.widgetOnRight[_ngcontent-%COMP%]{border-radius:30px 0 0 30px!important}.main.mobile.widgetOnRight[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:0;margin-left:3px}.main.mobile.widgetOnRight[_ngcontent-%COMP%]   .newMessages[_ngcontent-%COMP%]{right:auto;left:-3px}.main.mobile[_ngcontent-%COMP%]   .newMessages[_ngcontent-%COMP%]{position:absolute;top:-3px;right:-3px;width:17px;height:17px;line-height:17px;font-size:11px;border-radius:8px}.main[_ngcontent-%COMP%]   .newMessages[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:20px;height:20px;line-height:20px;font-size:12px;font-weight:600;text-align:center;background:red;color:#fff;border-radius:10px}.main[_ngcontent-%COMP%]   .launcherAnimation[_ngcontent-%COMP%]{position:absolute;left:0;top:0;-o-object-fit:cover;object-fit:cover}"]}),t})();const bP=["widget"],_P=function(t){return{"border-radius":t}};let wP=(()=>{class t{constructor(t){this.title="widget",t.setDefaultLang("en")}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(wT))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-root"]],viewQuery:function(t,e){if(1&t&&s.Fc(bP,3),2&t){let t;s.rc(t=s.cc())&&(e.widgetComponent=t.first)}},decls:5,vars:5,consts:[[1,"main",3,"ngStyle"],["widget",""],[3,"widget"]],template:function(t,e){if(1&t&&(s.Ub(0,"div",0),s.Pb(1,"app-widget",null,1),s.Pb(3,"app-pop-triggers",2),s.Pb(4,"app-button",2),s.Tb()),2&t){const t=s.sc(2);s.kc("ngStyle",s.nc(3,_P,t.displayService.freeDivMode?"0px":"15px")),s.Db(3),s.kc("widget",t),s.Db(1),s.kc("widget",t)}},directives:[B,zI,lP,vP],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:200,300,400,500,600,700,800,900&display=swap&subset=latin-ext");.main[_ngcontent-%COMP%]{font-family:Muli,sans-serif;background:transparent;height:100vh;border-radius:15px}']}),t})();class OP{}function SP(t,e=null){return{type:2,steps:t,options:e}}function EP(t){return{type:6,styles:t,offset:null}}function CP(t){Promise.resolve(null).then(t)}class TP{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){CP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class xP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?CP(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function kP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function IP(t){switch(t.length){case 0:return new TP;case 1:return t[0];default:return new xP(t)}}function PP(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function AP(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&jP(n,"start",t)));break;case"done":t.onDone(()=>r(n&&jP(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&jP(n,"destroy",t)))}}function jP(t,e,n){const r=n.totalTime,i=MP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function MP(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function DP(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function NP(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let RP=(t,e)=>!1,LP=(t,e)=>!1,FP=(t,e,n)=>[];const UP=kP();(UP||"undefined"!=typeof Element)&&(RP=(t,e)=>t.contains(e),LP=(()=>{if(UP||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):LP}})(),FP=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let VP=null,BP=!1;function zP(t){VP||(VP=("undefined"!=typeof document?document.body:null)||{},BP=!!VP.style&&"WebkitAppearance"in VP.style);let e=!0;return VP.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in VP.style,!e&&BP)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in VP.style),e}const HP=LP,qP=RP,WP=FP;function YP(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let $P=(()=>{class t{validateStyleProperty(t){return zP(t)}matchesElement(t,e){return HP(t,e)}containsElement(t,e){return qP(t,e)}query(t,e,n){return WP(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new TP(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})(),GP=(()=>{class t{}return t.NOOP=new $P,t})();function XP(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:KP(parseFloat(e[1]),e[2])}function KP(t,e){switch(e){case"s":return 1e3*t;default:return t}}function QP(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=KP(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=KP(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function JP(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function ZP(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else JP(t,n);return n}function tA(t,e,n){return n?e+":"+n+";":""}function eA(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=tA(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=tA(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function nA(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=lA(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),kP()&&eA(t))}function rA(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=lA(e);t.style[n]=""}),kP()&&eA(t))}function iA(t){return Array.isArray(t)?1==t.length?t[0]:SP(t):t}const sA=new RegExp("{{\\s*(.+?)\\s*}}","g");function oA(t){let e=[];if("string"==typeof t){let n;for(;n=sA.exec(t);)e.push(n[1]);sA.lastIndex=0}return e}function aA(t,e,n){const r=t.toString(),i=r.replace(sA,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function cA(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const uA=/-+([a-z0-9])/g;function lA(t){return t.replace(uA,(...t)=>t[1].toUpperCase())}function hA(t,e){return 0===t||0===e}function dA(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=pA(t,e)})}}return e}function fA(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function pA(t,e){return window.getComputedStyle(t)[e]}function gA(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(vA(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(vA(o,i))}(t,n,e)):n.push(t),n}const mA=new Set(["true","1"]),yA=new Set(["false","0"]);function vA(t,e){const n=mA.has(t)||yA.has(t),r=mA.has(e)||yA.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?mA.has(t):yA.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?mA.has(e):yA.has(e)),o&&a}}const bA=new RegExp("s*:selfs*,?","g");function _A(t,e,n){return new wA(t).build(e,n)}class wA{constructor(t){this._driver=t}build(t,e){const n=new OA(e);return this._resetContextStyleTimingState(n),fA(this,iA(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(SA(t)){const e=t;Object.keys(e).forEach(t=>{oA(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=cA(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=fA(this,iA(t.animation),e);return{type:1,matchers:gA(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:EA(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>fA(this,t,e)),options:EA(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=fA(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:EA(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return CA(QP(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=CA(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||QP(r,e),CA(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:EP({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=EP(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(SA(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=oA(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(SA(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(SA(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:fA(this,iA(t.animation),e),options:EA(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:EA(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:EA(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(bA,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,DP(e.collectedStyles,e.currentQuerySelector,{});const o=fA(this,iA(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:EA(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:QP(t.timings,e.errors,!0);return{type:12,animation:fA(this,iA(t.animation),e),timings:n,options:null}}}class OA{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function SA(t){return!Array.isArray(t)&&"object"==typeof t}function EA(t){var e;return t?(t=JP(t)).params&&(t.params=(e=t.params)?JP(e):null):t={},t}function CA(t,e,n){return{duration:t,delay:e,easing:n}}function TA(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class xA{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const kA=new RegExp(":enter","g"),IA=new RegExp(":leave","g");function PA(t,e,n,r,i,s={},o={},a,c,u=[]){return(new AA).buildKeyframes(t,e,n,r,i,s,o,a,c,u)}class AA{buildKeyframes(t,e,n,r,i,s,o,a,c,u=[]){c=c||new xA;const l=new MA(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),fA(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[TA(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?XP(n.duration):null,s=null!=n.delay?XP(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),fA(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=jA);const t=XP(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>fA(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?XP(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),fA(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return QP(e.params?aA(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?XP(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=jA);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),fA(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;fA(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const jA={};class MA{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new DA(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=XP(n.duration)),null!=n.delay&&(r.delay=XP(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=aA(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new MA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=jA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new NA(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(kA,"."+this._enterClassName)).replace(IA,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class DA{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new DA(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):ZP(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=aA(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=ZP(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?cA(t.values()):[],s=e.size?cA(e.values()):[];if(n){const t=r[0],e=JP(t);t.offset=0,e.offset=1,r=[t,e]}return TA(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class NA extends DA{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=ZP(t[0],!1);a.offset=0,i.push(a);const c=ZP(t[0],!1);c.offset=RA(o),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let o=ZP(t[r],!1);o.offset=RA((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return TA(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function RA(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class LA{}class FA extends LA{normalizePropertyName(t,e){return lA(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(UA[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const UA=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function VA(t,e,n,r,i,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const BA={};class zA{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||BA,d=this.buildStyles(n,o&&o.params||BA,l),f=a&&a.params||BA,p=this.buildStyles(r,f,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},_=u?[]:PA(t,e,this.ast.animation,i,s,d,p,b,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return VA(e,this._triggerName,n,r,v,d,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=DP(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=DP(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const O=cA(g.values());return VA(e,this._triggerName,n,r,v,d,p,_,O,m,y,w)}}class HA{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=JP(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=aA(s,r,e)),n[t]=s})}}),n}}class qA{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new HA(t.style,t.options&&t.options.params||{})}),WA(this.states,"true","1"),WA(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new zA(t,e,this.states))}),this.fallbackTransition=new zA(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function WA(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const YA=new xA;class $A{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=_A(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=PP(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=PA(this._driver,e,i,"ng-enter","ng-leave",{},{},n,YA,r),s.forEach(t=>{const e=DP(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=IP(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=MP(e,"","","");return AP(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const GA=[],XA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},KA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class QA{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=JP(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const JA=new QA("void");class ZA{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,oj(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=DP(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=DP(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(oj(t,"ng-trigger"),oj(t,"ng-trigger-"+e),a[e]=JA),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new ej(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(oj(t,"ng-trigger"),oj(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new QA(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=JA),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{rA(t,n),nA(t,r)})}return}const u=DP(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(oj(t,"ng-animate-queued"),s.onStart(()=>{aj(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&IP(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||JA,a=new QA("void"),c=new ej(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==XA||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){oj(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=MP(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,AP(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class tj{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ZA(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(nj(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!nj(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),oj(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),aj(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(nj(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return nj(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return IP(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=XA,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)oj(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?IP(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new xA,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=sj(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>oj(t,n))});const g=[],m=new Set,y=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const t=this.collectedLeaveElements[P],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=sj(h,Array.from(m));b.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>oj(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>aj(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>aj(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>rA(i,p.fromStyles)),e.onDestroy(()=>nA(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>rA(i,p.fromStyles)),e.onDestroy(()=>nA(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>DP(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{DP(O,e,[]).push(t),t.destroy()})});const E=g.filter(t=>lj(t,a,c)),C=new Map;ij(C,this.driver,y,c,"*").forEach(t=>{lj(t,a,c)&&E.push(t)});const T=new Map;d.forEach((t,e)=>{ij(T,this.driver,new Set(t),a,"!")}),E.forEach(t=>{const e=C.get(t),n=T.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const x=[],k=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>nA(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=I;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,O,i,T,C);if(s.setRealPlayer(n),t===I)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=IP(e)),r.push(s)}}else rA(e,o.fromStyles),s.onDestroy(()=>nA(e,o.toStyles)),k.push(s),u.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=IP(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let P=0;P<g.length;P++){const t=g[P],e=t.__ng_removed;if(aj(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?cj(this,t,r):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=DP(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}rA(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new TP(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return uj(t,e),e}((n.get(h)||GA).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=PP(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new ej(t,o,h);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{DP(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>oj(t,"ng-animating"));const d=IP(h);return d.onDestroy(()=>{u.forEach(t=>aj(t,"ng-animating")),nA(a,e.toStyles)}),l.forEach(t=>{DP(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new TP(t.duration,t.delay)}}class ej{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new TP,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>AP(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){DP(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function nj(t){return t&&1===t.nodeType}function rj(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function ij(t,e,n,r,i){const s=[];n.forEach(t=>s.push(rj(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=KA,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>rj(t,s[a++])),o}function sj(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function oj(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function aj(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function cj(t,e,n){IP(n).onDone(()=>t.processLeaveNode(e))}function uj(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof xP?uj(r.players,e):e.push(r)}}function lj(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class hj{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new tj(t,e,n),this._timelineEngine=new $A(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=_A(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new qA(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=NP(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=NP(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function dj(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=pj(e[0]),e.length>1&&(r=pj(e[e.length-1]))):e&&(n=pj(e)),n||r?new fj(t,n,r):null}let fj=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&nA(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nA(this._element,this._initialStyles),this._endStyles&&(nA(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(rA(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rA(this._element,this._endStyles),this._endStyles=null),nA(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function pj(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];gj(i)&&(e=e||{},e[i]=t[i])}return e}function gj(t){return"display"===t||"position"===t}class mj{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Oj(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),wj(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),_j(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){yj(this._element,this._name,"paused")}resume(){yj(this._element,this._name,"running")}setPosition(t){const e=vj(this._element,this._name);this._position=t*this._duration,wj(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),_j(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Oj(t,"").split(","),r=bj(n,e);r>=0&&(n.splice(r,1),wj(t,"",n.join(",")))}(this._element,this._name))}}function yj(t,e,n){wj(t,"PlayState",n,vj(t,e))}function vj(t,e){const n=Oj(t,"");return n.indexOf(",")>0?bj(n.split(","),e):bj([n],e)}function bj(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function _j(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function wj(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Oj(t,e){return t.style["animation"+e]||""}class Sj{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new mj(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:pA(this.element,n))})}this.currentSnapshot=t}}class Ej extends TP{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=YP(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Cj{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return zP(t)}matchesElement(t,e){return HP(t,e)}containsElement(t,e){return qP(t,e)}query(t,e,n){return WP(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>YP(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof Sj),c={};hA(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=dA(t,e,c));if(0==n)return new Ej(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=dj(t,e),f=new Sj(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class Tj{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:pA(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class xj{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(kj().toString()),this._cssKeyframesDriver=new Cj}validateStyleProperty(t){return zP(t)}matchesElement(t,e){return HP(t,e)}containsElement(t,e){return qP(t,e)}query(t,e,n){return WP(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof Tj);hA(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=dj(t,e=dA(t,e=e.map(t=>ZP(t,!1)),c));return new Tj(t,e,a,l)}}function kj(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Ij=(()=>{class t extends OP{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:s.U.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?SP(t):t;return jj(this._renderer,null,e,"register",[n]),new Pj(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(s.I),s.Yb(c))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();class Pj extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Aj(this._id,t,e||{},this._renderer)}}class Aj{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return jj(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function jj(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Mj=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Dj("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Nj(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(s.I),s.Yb(hj),s.Yb(s.D))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();class Dj{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Nj extends Dj{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Rj=(()=>{class t extends hj{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(c),s.Yb(GP),s.Yb(LA))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac}),t})();const Lj=[{provide:GP,useFactory:function(){return"function"==typeof kj()?new xj:new Cj}},{provide:new s.t("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:OP,useClass:Ij},{provide:LA,useFactory:function(){return new FA}},{provide:hj,useClass:Rj},{provide:s.I,useFactory:function(t,e,n){return new Mj(t,e,n)},deps:[lt,hj,s.D]}];let Fj=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},providers:Lj,imports:[Ct]}),t})(),Uj=(()=>{class t{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(_t))},t.\u0275pipe=s.Nb({name:"safeHtml",type:t,pure:!0}),t})();const Vj=function(t){return{hideAvatar:t}},Bj=function(t){return{"background-image":t}};function zj(t,e){if(1&t&&s.Pb(0,"div",11),2&t){const t=s.fc();s.kc("ngClass",s.nc(2,Vj,!t.displayAvatar))("ngStyle",s.nc(4,Bj,t.avatarUrl))}}const Hj=function(t,e,n){return{precededBySameAuthor:t,followedBySameAuthor:e,focused:n}};function qj(t,e){if(1&t&&(s.Pb(0,"div",12),s.gc(1,"safeHtml")),2&t){const t=s.fc();s.kc("ngClass",s.pc(5,Hj,t.precededBySameAuthor,t.followedBySameAuthor,t.focused))("ngStyle",t.displayService.getMessageStyle(t.isVisitor,t.message.delivered))("innerHTML",s.hc(1,3,t.getDisplayableMessageText(t.message.content)),s.vc)}}const Wj=function(t,e,n,r){return{precededBySameAuthor:t,followedBySameAuthor:e,isButtonReply:n,focused:r}};function Yj(t,e){if(1&t&&(s.Pb(0,"div",12),s.gc(1,"safeHtml")),2&t){const t=s.fc();s.kc("ngClass",s.qc(5,Wj,t.precededBySameAuthor,t.followedBySameAuthor,t.contactFormModeEnabled&&t.message.isButtonReply,t.focused))("ngStyle",t.displayService.getMessageStyle(t.isVisitor,t.message.delivered))("innerHTML",s.hc(1,3,t.getDisplayableMessageText(t.messageContentAsAny.text)),s.vc)}}function $j(t,e){if(1&t){const t=s.Vb();s.Ub(0,"img",13),s.bc("load",function(){return s.uc(t),s.fc().onImageLoad()}),s.Tb()}if(2&t){const t=s.fc();s.kc("src",t.imageMessageContent,s.wc)("ngStyle",t.displayService.getMessageStyle(t.isVisitor,t.message.delivered))}}function Gj(t,e){if(1&t&&(s.Ub(0,"video",14),s.Pb(1,"source",15),s.Bc(2," Sorry, your browser doesn't support embedded videos.. "),s.Tb()),2&t){const t=s.fc();s.kc("muted","muted"),s.Db(1),s.kc("src",t.message.content,s.wc)}}function Xj(t,e){if(1&t&&(s.Ub(0,"a",23),s.Ub(1,"div",24),s.Bc(2),s.Tb(),s.Tb()),2&t){const t=s.fc(),e=t.$implicit,n=t.index,r=s.fc(3);s.kc("href",e.content,s.wc),s.Db(1),s.kc("ngStyle",r.getButtonsItemContentStyle(n)),s.Db(1),s.Dc(" ",e.text,"")}}function Kj(t,e){if(1&t){const t=s.Vb();s.Ub(0,"a",23),s.Ub(1,"div",24),s.Ub(2,"img",13),s.bc("load",function(){return s.uc(t),s.fc(4).onImageLoad()}),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.fc(),e=t.$implicit,n=t.index,r=s.fc(3);s.kc("href",e.content,s.wc),s.Db(1),s.kc("ngStyle",r.getButtonsItemContentStyle(n)),s.Db(1),s.kc("src",e.text,s.wc)("ngStyle",r.displayService.getMessageStyle(r.isVisitor,r.message.delivered))}}function Qj(t,e){if(1&t&&(s.Ub(0,"span"),s.Ub(1,"div",24),s.Bc(2),s.Tb(),s.Tb()),2&t){const t=s.fc(),e=t.index,n=t.$implicit,r=s.fc(3);s.Db(1),s.kc("ngStyle",r.getButtonsItemContentStyle(e)),s.Db(1),s.Dc(" ",n.text," ")}}const Jj=function(){return{}};function Zj(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",20),s.bc("click",function(){s.uc(t);const n=e.$implicit;return s.fc(3).processButtonMessage(n)})("mouseover",function(){s.uc(t);const n=e.index;return s.fc(3).hoverInd=n})("mouseleave",function(){return s.uc(t),s.fc(3).hoverInd=-1}),s.zc(1,Xj,3,3,"a",21),s.zc(2,Kj,3,4,"a",21),s.zc(3,Qj,3,2,"span",22),s.Tb()}if(2&t){const t=e.$implicit,n=e.index,r=s.fc(3);s.kc("ngStyle",r.contactFormModeEnabled?s.mc(4,Jj):r.getButtonsItemStyle(n)),s.Db(1),s.kc("ngIf","link"===t.type&&"text-link"===t.subtype),s.Db(1),s.kc("ngIf","link"===t.type&&"image-link"===t.subtype),s.Db(1),s.kc("ngIf","reply"===t.type)}}const tM=function(t,e,n){return{"buttons-self-care":t,"welcome-buttons-self-care":e,"buttons-contact-form":n}};function eM(t,e){if(1&t&&(s.Ub(0,"div",18),s.zc(1,Zj,4,5,"div",19),s.Tb()),2&t){const t=s.fc(2);s.kc("ngStyle",t.getButtonsStyle())("ngClass",s.pc(3,tM,t.selfCareEnabled,t.selfCareEnabled&&t.widget.expandHeader,t.contactFormModeEnabled)),s.Db(1),s.kc("ngForOf",t.message.content)}}function nM(t,e){if(1&t&&(s.Ub(0,"option",29),s.Bc(1),s.Tb()),2&t){const t=e.$implicit;s.kc("value",e.index),s.Db(1),s.Dc(" ",t.text," ")}}const rM=function(t,e,n){return{backgroundColor:t,borderColor:e,color:n}};function iM(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",25),s.Ub(1,"select",26),s.bc("change",function(e){return s.uc(t),s.fc(2).setSelectButtonMessageItem(e)}),s.zc(2,nM,2,2,"option",27),s.Tb(),s.Ub(3,"button",28),s.bc("click",function(){return s.uc(t),s.fc(2).selectButtonMessage()}),s.Bc(4),s.gc(5,"translate"),s.Tb(),s.Tb()}if(2&t){const t=s.fc(2);s.Db(2),s.kc("ngForOf",t.message.content),s.Db(1),s.kc("disabled",!t.validButtonMessageItem)("ngStyle",s.pc(6,rM,t.displayService.chatStyle.sendButtonColor,t.displayService.chatStyle.sendButtonColor,t.displayService.chatStyle.headerStyle.textAndLogo.color)),s.Db(1),s.Dc(" ",s.hc(5,4,"NEXT")," ")}}function sM(t,e){if(1&t&&(s.Ub(0,"option",29),s.Bc(1),s.Tb()),2&t){const t=e.$implicit;s.kc("value",e.index),s.Db(1),s.Dc(" ",t.text," ")}}function oM(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",25),s.Ub(1,"select",30),s.bc("change",function(e){return s.uc(t),s.fc(2).setSelectButtonMessageItem(e)}),s.zc(2,sM,2,2,"option",27),s.Tb(),s.Ub(3,"button",28),s.bc("click",function(){return s.uc(t),s.fc(2).selectButtonMessage()}),s.Bc(4),s.gc(5,"translate"),s.Tb(),s.Tb()}if(2&t){const t=s.fc(2);s.Db(2),s.kc("ngForOf",t.message.content),s.Db(1),s.kc("disabled",!t.validButtonMessageItem)("ngStyle",s.pc(6,rM,t.displayService.chatStyle.sendButtonColor,t.displayService.chatStyle.sendButtonColor,t.displayService.chatStyle.headerStyle.textAndLogo.color)),s.Db(1),s.Dc(" ",s.hc(5,4,"NEXT")," ")}}function aM(t,e){if(1&t&&(s.Sb(0),s.zc(1,eM,2,7,"div",16),s.zc(2,iM,6,10,"div",17),s.zc(3,oM,6,10,"div",17),s.Rb()),2&t){const t=s.fc();s.Db(1),s.kc("ngIf",!(t.contactFormModeEnabled&&t.isLongButton||t.isVeryLongButton)),s.Db(1),s.kc("ngIf",!t.contactFormModeEnabled&&t.isVeryLongButton),s.Db(1),s.kc("ngIf",t.contactFormModeEnabled&&t.isLongButton)}}function cM(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",33),s.bc("click",function(){s.uc(t);const n=e.$implicit;return s.fc(2).sendTextMessage(n)}),s.Bc(1),s.Tb()}if(2&t){const t=e.$implicit;s.Db(1),s.Dc(" ",t," ")}}function uM(t,e){if(1&t&&(s.Ub(0,"div",31),s.zc(1,cM,2,1,"div",32),s.Tb()),2&t){const t=s.fc();s.Db(1),s.kc("ngForOf",t.message.content)}}function lM(t,e){if(1&t&&(s.Ub(0,"div",34),s.Ub(1,"a",35),s.Pb(2,"img",36),s.Tb(),s.Tb()),2&t){const t=s.fc();s.kc("ngClass",t.message.type),s.Db(1),s.kc("href",t.messageContentAsAny.url,s.wc),s.Db(1),s.kc("src",t.attachmentSrc,s.wc)}}function hM(t,e){1&t&&(s.Ub(0,"span",37),s.Bc(1),s.gc(2,"translate"),s.Tb()),2&t&&(s.Db(1),s.Cc(s.hc(2,1,"DELIVERED")))}function dM(t,e){1&t&&(s.Ub(0,"span",37),s.Bc(1),s.gc(2,"translate"),s.Tb()),2&t&&(s.Db(1),s.Cc(s.hc(2,1,"DELIVERING")))}const fM=function(){return["buttons","quick_replies"]},pM=function(t,e,n,r){return{visitorMessage:t,wide:e,selfCareEnabled:n,contactFormModeEnabled:r}},gM=function(t){return{isButtonReplyContainer:t}},mM=function(t){return{hide:t}};let yM=(()=>{class t{constructor(t,e,n,r){this.displayService=t,this.backendService=e,this.domSanitizationService=n,this.translate=r,this.hoverInd=-1,this.currentLanguage=null,this.selectButtonMessageItem=null,this.validButtonMessageItem=!1}ngOnInit(){this.isFirstButton="buttons"===this.message.type&&(this.message.isWelcome||this.message.isEngage),this.isLongButton&&(this.selectButtonMessageItem=this.message.content[0]||null,this.validButtonMessageItem=!!this.selectButtonMessageItem),this.message.type===ET.IMAGE&&(this.imageMessageContent=this.domSanitizationService.bypassSecurityTrustUrl(this.message.content)),this.message.type===ET.VIDEO&&(this.videoMessageContent=this.domSanitizationService.bypassSecurityTrustUrl(this.message.content)),this.currentLanguage||(this.currentLanguage=this.translate.currentLang)}get isVisitor(){return!this.message.author||"act_00000000-0000-0000-0000-000000000000"===this.message.author.id||this.widget.user&&this.widget.user.id===this.message.author.id}get avatarUrl(){return`url("${this.message.author?this.message.author.avatar:"assets/leadAvatar.png"}")`}get fullName(){let t="",e=null,n=null;this.message.author||(t="Agent");const r=this.getBotTranslatedNames(this.currentLanguage,this.message.author);return e=r.translatedFirstName,n=r.translatedLastName,e&&n&&(t=`${e} ${n}`),!e&&!n&&this.message.author.firstName&&this.message.author.lastName&&(t=`${this.message.author.firstName||""} ${this.message.author.lastName||""}`),t}getButtonsStyle(){return this.displayService.chatStyle.buttonsStyle.buttons}getButtonsItemStyle(t){return t===this.hoverInd?this.displayService.chatStyle.buttonsStyle.hoveredItem:this.displayService.chatStyle.buttonsStyle.item}getButtonsItemContentStyle(t){return t===this.hoverInd?this.displayService.chatStyle.buttonsStyle.hoveredItemContent:this.displayService.chatStyle.buttonsStyle.itemContent}onImageLoad(){this.widget.scrollDown()}processButtonMessage(t){switch(this.widget.hideTextareaUntilButtonClick&&(this.widget.hideTextareaUntilButtonClick=!1),t.type){case"link":return;case"reply":t.content?this.sendTextPayloadMessage(t.text,t.content):this.sendTextMessage(t.text);break;default:return}}setSelectButtonMessageItem(t){const e=Number(t.target.value);this.selectButtonMessageItem=this.message.content[e]||null,this.selectButtonMessageItem&&(this.validButtonMessageItem=!0)}selectButtonMessage(){this.selectButtonMessageItem&&(this.processButtonMessage(this.selectButtonMessageItem),this.selectButtonMessageItem=null,this.validButtonMessageItem=!1)}sendTextPayloadMessage(t,e){const n=Date.now(),r={author:this.widget.user,content:{text:t,payload:e},sentDate:n,updatedDate:n,uuid:lk(String(n),this.widget.session.id),type:ET.TEXT_PAYLOAD,delivered:!1,noNotif:!1,isWelcome:!1,isEngage:!1,popNotif:!1,isButtonReply:!0,isWelcomeEngageButtonReply:this.message.isEngage||this.message.isWelcome};this.widget.pushMessage(r,!1,!1,!0),this.widget.setSelfCareActionButtonsDisplayedStatus(!1),this.widget.ghostMode?this.widget.sendMessageGhostMode(r):this.backendService.sendMessage(r,this.widget.parentPageUrl,this.widget.parentPageTitle)}sendTextMessage(t){const e=Date.now(),n={author:this.widget.user,content:t,sentDate:e,updatedDate:e,uuid:lk(String(e),this.widget.session.id),type:ET.TEXT,delivered:!1,noNotif:!1,isWelcome:!1,isEngage:!1,popNotif:!1,isButtonReply:!0,isWelcomeEngageButtonReply:this.message.isEngage||this.message.isWelcome};this.widget.pushMessage(n,!1,!1,!0),this.widget.setSelfCareActionButtonsDisplayedStatus(!1),this.widget.ghostMode?this.widget.sendMessageGhostMode(n):this.backendService.sendMessage(n,this.widget.parentPageUrl,this.widget.parentPageTitle)}get attachmentSrc(){switch(this.message.content.contentType){case"pdf":return"assets/file-icon-pdf.png";case null:return"assets/file-icon-unknown.png"}}get messageContentAsAny(){return this.message.content}get isLongButton(){return"buttons"===this.message.type&&this.message.content.length>5}get isVeryLongButton(){return"buttons"===this.message.type&&this.message.content.length>10}getDisplayableMessageText(t){let e=t;if(e&&e.includes("<img")){const t=document.createElement("div");return t.innerHTML=e,`<img style="width:100%" src="${t.querySelector("img").getAttribute("src")}" />`}return e&&e.includes("<p>")&&(e=e.replace(/<p>/g,'<p style="margin: 0">')),e}getBotTranslatedNames(t=this.currentLanguage,e=this.message.author){var n,r,i;let s=null,o=null;if((e.type===ka.BOT||e.type===ka.SYSTEM)&&t&&(null===(n=null==e?void 0:e.translatedNames)||void 0===n?void 0:n.length)>0){const n=e.translatedNames.find(e=>e.language===t);(null===(r=null==n?void 0:n.content)||void 0===r?void 0:r.firstName)&&(s=n.content.firstName),(null===(i=null==n?void 0:n.content)||void 0===i?void 0:i.lastName)&&(o=n.content.lastName)}return{translatedFirstName:s,translatedLastName:o}}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(ES),s.Ob(fc),s.Ob(_t),s.Ob(wT))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-message"]],inputs:{widget:"widget",message:"message",precededBySameAuthor:"precededBySameAuthor",followedBySameAuthor:"followedBySameAuthor",isLastMessage:"isLastMessage",displayAvatar:"displayAvatar",displayName:"displayName",focused:"focused",selfCareEnabled:"selfCareEnabled",contactFormModeEnabled:"contactFormModeEnabled"},decls:14,vars:26,consts:[[1,"messageWrapper",3,"ngClass","ngStyle"],["class","avatar",3,"ngClass","ngStyle",4,"ngIf"],[1,"messageContent",3,"ngSwitch","ngClass"],[1,"authorName",3,"ngClass"],["class","message",3,"ngClass","ngStyle","innerHTML",4,"ngSwitchCase"],["class","message","width","100%",3,"src","ngStyle","load",4,"ngSwitchCase"],["class","message-video","autoplay","","controls","","width","100%",3,"muted",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","quick-replies",4,"ngSwitchCase"],["class","attachment",3,"ngClass",4,"ngSwitchCase"],["class","sent-status",4,"ngIf"],[1,"avatar",3,"ngClass","ngStyle"],[1,"message",3,"ngClass","ngStyle","innerHTML"],["width","100%",1,"message",3,"src","ngStyle","load"],["autoplay","","controls","","width","100%",1,"message-video",3,"muted"],["type","video/mp4",3,"src"],["class","buttons",3,"ngStyle","ngClass",4,"ngIf"],["class","select-buttons",4,"ngIf"],[1,"buttons",3,"ngStyle","ngClass"],["class","buttons-item",3,"ngStyle","click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"buttons-item",3,"ngStyle","click","mouseover","mouseleave"],["target","_blank","style","text-decoration: none; color: inherit",3,"href",4,"ngIf"],[4,"ngIf"],["target","_blank",2,"text-decoration","none","color","inherit",3,"href"],[3,"ngStyle"],[1,"select-buttons"],[1,"select2",3,"change"],["class","select-button-item",3,"value",4,"ngFor","ngForOf"],[3,"disabled","ngStyle","click"],[1,"select-button-item",3,"value"],[1,"select1",3,"change"],[1,"quick-replies"],["class","quick-replies-item",3,"click",4,"ngFor","ngForOf"],[1,"quick-replies-item",3,"click"],[1,"attachment",3,"ngClass"],["target","_blank",3,"href"],["width","80","height","80",3,"src"],[1,"sent-status"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.zc(1,zj,1,6,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Bc(4),s.Tb(),s.zc(5,qj,2,9,"div",4),s.zc(6,Yj,2,10,"div",4),s.zc(7,$j,1,2,"img",5),s.zc(8,Gj,3,2,"video",6),s.zc(9,aM,4,3,"ng-container",7),s.zc(10,uM,2,1,"div",8),s.zc(11,lM,3,3,"div",9),s.zc(12,hM,3,3,"span",10),s.zc(13,dM,3,3,"span",10),s.Tb(),s.Tb()),2&t&&(s.kc("ngClass",s.qc(17,pM,e.isVisitor,s.mc(16,fM).includes(e.message.type),e.selfCareEnabled,e.contactFormModeEnabled))("ngStyle",e.displayService.chatStyle.bgStyle),s.Db(1),s.kc("ngIf",!e.isVisitor),s.Db(1),s.kc("ngSwitch",e.message.type)("ngClass",s.nc(22,gM,e.message.isButtonReply)),s.Db(1),s.kc("ngClass",s.nc(24,mM,!e.displayName||e.isVisitor)),s.Db(1),s.Cc(e.fullName),s.Db(1),s.kc("ngSwitchCase","text"),s.Db(1),s.kc("ngSwitchCase","text_payload"),s.Db(1),s.kc("ngSwitchCase","image"),s.Db(1),s.kc("ngSwitchCase","video"),s.Db(1),s.kc("ngSwitchCase","buttons"),s.Db(1),s.kc("ngSwitchCase","quick_replies"),s.Db(1),s.kc("ngSwitchCase","attachment"),s.Db(1),s.kc("ngIf",e.isVisitor&&e.isLastMessage&&e.message.delivered),s.Db(1),s.kc("ngIf",e.isVisitor&&!e.message.delivered))},directives:[A,B,N,U,V,M,lE,pE],pipes:[Uj,OT],styles:[".messageWrapper[_ngcontent-%COMP%]{float:left;clear:both;max-width:85%;display:flex;flex-direction:row;align-items:flex-end}.messageWrapper.wide[_ngcontent-%COMP%]{max-width:100%;width:100%}.messageWrapper.contactFormModeEnabled[_ngcontent-%COMP%], .messageWrapper.selfCareEnabled[_ngcontent-%COMP%]{max-width:100%;width:100%;padding-top:5px;padding-bottom:5px;font-weight:600!important}.messageWrapper.contactFormModeEnabled[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .messageWrapper.selfCareEnabled[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{background-image:none!important;background-color:transparent!important;width:0}.messageWrapper.contactFormModeEnabled[_ngcontent-%COMP%]   .messageContent[_ngcontent-%COMP%], .messageWrapper.selfCareEnabled[_ngcontent-%COMP%]   .messageContent[_ngcontent-%COMP%]{max-width:100%}.messageWrapper.selfCareEnabled[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{border-radius:10px!important}.messageWrapper.contactFormModeEnabled[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{border-radius:5px!important}.messageWrapper.hide[_ngcontent-%COMP%]{display:none!important}.messageWrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:50%;height:30px;width:30px;background-size:30px;background-color:hsla(0,0%,87.8%,.63);margin-bottom:2.5px}.messageWrapper[_ngcontent-%COMP%]   .avatar.hideAvatar[_ngcontent-%COMP%]{background-image:none!important;background-color:transparent!important}.messageWrapper[_ngcontent-%COMP%]   .messageContent[_ngcontent-%COMP%]{flex-grow:1;max-width:calc(100% - 30px)}.messageWrapper[_ngcontent-%COMP%]   .messageContent[_ngcontent-%COMP%]   .authorName[_ngcontent-%COMP%]{font-size:.7em;color:#789;margin:1.5px;padding:0 10px;transition:height .4s ease-out}.messageWrapper[_ngcontent-%COMP%]   .messageContent[_ngcontent-%COMP%]   .authorName.hide[_ngcontent-%COMP%]{height:0;opacity:0;margin-top:0;margin-bottom:0}.messageWrapper[_ngcontent-%COMP%]   .messageContent[_ngcontent-%COMP%]   .sent-status[_ngcontent-%COMP%]{font-size:.6em;color:grey;margin:-3px 0 0;padding:0 0 0 3px}.messageWrapper[_ngcontent-%COMP%]   .messageContent[_ngcontent-%COMP%]   .sent-status.hide[_ngcontent-%COMP%]{height:0;opacity:0;margin-top:0;margin-bottom:0}.messageWrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0!important}.messageWrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:.9em;background-color:#f5f5f5;padding:10px;border-radius:10px 10px 10px 5px;margin:2.5px}.messageWrapper[_ngcontent-%COMP%]   .message.precededBySameAuthor[_ngcontent-%COMP%]{border-top-left-radius:2px;margin-top:-.5px}.messageWrapper[_ngcontent-%COMP%]   .message.followedBySameAuthor[_ngcontent-%COMP%]{border-bottom-left-radius:2px}.messageWrapper[_ngcontent-%COMP%]   .message.isWelcomeEngageButtonReply[_ngcontent-%COMP%]{height:80px;margin:0;border:1px solid #d3d3d3;border-radius:5px;box-shadow:0 4px 4px 0 rgba(0,0,0,.25);-webkit-box-shadow:0 4px 4px 0 rgba(0,0,0,.25);-moz-box-shadow:0 4px 4px 0 rgba(0,0,0,.25)}.messageWrapper[_ngcontent-%COMP%]   .message.isButtonReply[_ngcontent-%COMP%], .messageWrapper[_ngcontent-%COMP%]   .message.isWelcomeEngageButtonReply[_ngcontent-%COMP%]{width:30%;font-size:.9em;padding:10px 0;color:#596cf0;text-align:center;display:flex;justify-content:center;align-items:center}.messageWrapper[_ngcontent-%COMP%]   .message.isButtonReply[_ngcontent-%COMP%]{margin:2.5px 0;border:1px solid #d3d3d3;border-radius:5px!important}.messageWrapper[_ngcontent-%COMP%]   .message-video[_ngcontent-%COMP%]{margin-left:5px}.messageWrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]:not(.buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form){display:flex;flex-direction:column;justify-content:flex-start;margin:2.5px;border:1px solid #d3d3d3;border-radius:.25rem}.messageWrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]:not(.buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]{background:transparent;text-align:center;cursor:pointer}.messageWrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]:not(.buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.9em;margin:0 10px;padding:10px 0;color:#596cf0;border-top:1px solid #d3d3d3}.messageWrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]:not(.buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]:hover{background:#596cf0}.messageWrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]:not(.buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]{color:#fff;font-weight:500}.messageWrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]:not(.buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.messageWrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]:not(.buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]:first-child   div[_ngcontent-%COMP%]{border-top:0!important}.messageWrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]:not(.buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;margin-bottom:0}.messageWrapper[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]:not(.buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]:last-child   div[_ngcontent-%COMP%]{border-bottom:0!important}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-self-care[_ngcontent-%COMP%]:not(.welcome-buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form){display:flex;flex-wrap:wrap;justify-content:space-between;margin:2.5px}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-self-care[_ngcontent-%COMP%]:not(.welcome-buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;border-radius:15px;background:transparent;text-align:center;cursor:pointer}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-self-care[_ngcontent-%COMP%]:not(.welcome-buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.9em;margin:0;padding:10px 0;color:#596cf0;border:1px solid #d3d3d3;border-radius:15px}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-self-care[_ngcontent-%COMP%]:not(.welcome-buttons-self-care):not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]{background:#596cf0;color:#fff;font-weight:500}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-self-care.welcome-buttons-self-care[_ngcontent-%COMP%]:not(.buttons-contact-form-big):not(.buttons-contact-form){display:flex;flex-wrap:wrap;justify-content:space-between;margin:2.5px}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-self-care.welcome-buttons-self-care[_ngcontent-%COMP%]:not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]{width:48%;margin-top:5px;margin-bottom:5px;border-radius:10px;background:transparent;cursor:pointer}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-self-care.welcome-buttons-self-care[_ngcontent-%COMP%]:not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:80px;font-size:.9em;margin:0;padding:10px 0;color:#596cf0;border:1px solid #d3d3d3;border-radius:10px;text-align:center;display:flex;justify-content:center;align-items:center}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-self-care.welcome-buttons-self-care[_ngcontent-%COMP%]:not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]:hover{background:#596cf0}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-self-care.welcome-buttons-self-care[_ngcontent-%COMP%]:not(.buttons-contact-form-big):not(.buttons-contact-form)   .buttons-item[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]{color:#fff}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-contact-form-big[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start;margin:0 -10px}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-contact-form-big[_ngcontent-%COMP%]   .buttons-item[_ngcontent-%COMP%]{width:calc((100% / 3) - 20px);margin:5px 10px;border-radius:5px;background:transparent;cursor:pointer}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-contact-form-big[_ngcontent-%COMP%]   .buttons-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:80px;font-size:.9em;margin:0;padding:10px 0;color:#596cf0;border:1px solid #d3d3d3;border-radius:5px;text-align:center;display:flex;justify-content:center;align-items:center;box-shadow:0 4px 4px 0 rgba(0,0,0,.25);-webkit-box-shadow:0 4px 4px 0 rgba(0,0,0,.25);-moz-box-shadow:0 4px 4px 0 rgba(0,0,0,.25)}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-contact-form-big[_ngcontent-%COMP%]   .buttons-item[_ngcontent-%COMP%]:hover{background:#596cf0}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-contact-form-big[_ngcontent-%COMP%]   .buttons-item[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]{color:#fff}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-contact-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start;margin:0 -10px}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-contact-form[_ngcontent-%COMP%]   .buttons-item[_ngcontent-%COMP%]{width:calc((100% / 3) - 20px);margin:0 10px 10px;border-radius:5px;background:transparent;text-align:center;cursor:pointer}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-contact-form[_ngcontent-%COMP%]   .buttons-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.9em;margin:0;padding:10px 0;color:#596cf0;border:1px solid #d3d3d3;border-radius:5px}.messageWrapper[_ngcontent-%COMP%]   .buttons.buttons-contact-form[_ngcontent-%COMP%]   .buttons-item[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]{background:#596cf0;color:#fff;font-weight:500}.messageWrapper[_ngcontent-%COMP%]   .select-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.messageWrapper[_ngcontent-%COMP%]   .select-buttons[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:50%;margin-bottom:10px;border-radius:5px;font-size:.9em;padding:10px 0;border:1px solid rgba(50,60,71,.5)}.messageWrapper[_ngcontent-%COMP%]   .select-buttons[_ngcontent-%COMP%]   .select1[_ngcontent-%COMP%]{width:50%}.messageWrapper[_ngcontent-%COMP%]   .select-buttons[_ngcontent-%COMP%]   .select2[_ngcontent-%COMP%]{width:80%}.messageWrapper[_ngcontent-%COMP%]   .select-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;height:30px;border-radius:4px;border:1px solid #000;background-color:transparent;cursor:pointer;font-family:Muli;font-size:1rem}.messageWrapper[_ngcontent-%COMP%]   .quick-replies[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;margin:0}.messageWrapper[_ngcontent-%COMP%]   .quick-replies[_ngcontent-%COMP%]   .quick-replies-item[_ngcontent-%COMP%]{font-size:.9em;padding:5px 10px;margin:2.5px;border-radius:20px;border:1px solid #596cf0;color:#596cf0;background:transparent;cursor:pointer}.messageWrapper[_ngcontent-%COMP%]   .quick-replies[_ngcontent-%COMP%]   .quick-replies-item[_ngcontent-%COMP%]:hover{background:#596cf0;color:#fff;text-shadow:0 0 1px #fff}.messageWrapper[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:.6em;color:grey;margin:0 5px;padding:0 10px;float:left;display:none}.messageWrapper.visitorMessage[_ngcontent-%COMP%]{float:right;flex-direction:row-reverse}.messageWrapper.visitorMessage[_ngcontent-%COMP%]   .messageContent[_ngcontent-%COMP%]{max-width:none;display:flex;flex-direction:column;align-items:flex-end}.messageWrapper.visitorMessage[_ngcontent-%COMP%]   .messageContent[_ngcontent-%COMP%]   .sent-status[_ngcontent-%COMP%]{margin:-3px 0 0;padding:0 3px 0 0}.messageWrapper.visitorMessage[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{background-color:#3047ec;color:#fff;border-radius:10px 10px 5px 10px}.messageWrapper.visitorMessage[_ngcontent-%COMP%]   .message.precededBySameAuthor[_ngcontent-%COMP%]{border-top-right-radius:2px}.messageWrapper.visitorMessage[_ngcontent-%COMP%]   .message.followedBySameAuthor[_ngcontent-%COMP%]{border-bottom-right-radius:2px}.messageWrapper.visitorMessage[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{float:right}"]}),t})();class vM{constructor(t,e="/assets/i18n/",n=".json"){this.http=t,this.prefix=e,this.suffix=n}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}let bM=(()=>{class t{constructor(t,e){this.element=t,this._zone=e,this.onlyGrow=!1,this.useImportant=!1,this.resized=new s.o,this.retries=0,this._destroyed=!1,"TEXTAREA"!==this.element.nativeElement.tagName?this._findNestedTextArea():(this.textAreaEl=this.element.nativeElement,this.textAreaEl.style.overflow="hidden",this._onTextAreaFound())}set minRows(t){this._minRows=t,this.textAreaEl&&(this.textAreaEl.rows=t)}onInput(t){this.adjust()}ngOnDestroy(){this._destroyed=!0,this._windowResizeHandler&&window.removeEventListener("resize",this._windowResizeHandler,!1)}ngAfterContentChecked(){this.adjust()}ngOnChanges(t){this.adjust(!0)}_findNestedTextArea(){this.textAreaEl=this.element.nativeElement.querySelector("TEXTAREA"),!this.textAreaEl&&this.element.nativeElement.shadowRoot&&(this.textAreaEl=this.element.nativeElement.shadowRoot.querySelector("TEXTAREA")),this.textAreaEl?(this.textAreaEl.style.overflow="hidden",this._onTextAreaFound()):this.retries>=3?console.warn("ngx-autosize: textarea not found"):(this.retries++,setTimeout(()=>{this._findNestedTextArea()},100))}_onTextAreaFound(){this._addWindowResizeHandler(),setTimeout(()=>{this.adjust()})}_addWindowResizeHandler(){this._windowResizeHandler=function(t,e,n=!1){let r;return function(){const i=this,s=arguments,o=function(){r=null,n||t.apply(i,s)},a=n&&!r;clearTimeout(r),r=setTimeout(o,e),a&&t.apply(i,s)}}(()=>{this._zone.run(()=>{this.adjust()})},200),this._zone.runOutsideAngular(()=>{window.addEventListener("resize",this._windowResizeHandler,!1)})}adjust(t=!1){if(!this._destroyed&&this.textAreaEl){const e=this.textAreaEl.value;if(!1===t&&e===this._oldContent&&this.textAreaEl.offsetWidth===this._oldWidth)return;this._oldContent=e,this._oldWidth=this.textAreaEl.offsetWidth;const n=this.textAreaEl.cloneNode(!0),r=this.textAreaEl.parentNode;n.style.width=this.textAreaEl.offsetWidth+"px",n.style.visibility="hidden",n.style.position="absolute",n.textContent=e,r.appendChild(n),n.style.overflow="hidden",n.style.height="auto";let i=n.scrollHeight,s=window.getComputedStyle(n,null);i+=parseInt(s.getPropertyValue("border-top-width")),i+=parseInt(s.getPropertyValue("border-bottom-width"));const o=this.textAreaEl.offsetHeight,a=i>o;if(!1===this.onlyGrow||a){const t=this._getLineHeight(),e=i/t;if(this._minRows&&this._minRows>=e)i=this._minRows*t;else if(this.maxRows&&this.maxRows<=e){const e=this.maxRows*t;i=this.onlyGrow?Math.max(e,o):e,this.textAreaEl.style.overflow="auto"}else this.textAreaEl.style.overflow="hidden";this.textAreaEl.style.setProperty("height",i+"px",this.useImportant?"important":""),this.resized.emit(i)}r.removeChild(n)}}_getLineHeight(){let t=parseInt(this.textAreaEl.style.lineHeight,10);if(isNaN(t)&&window.getComputedStyle){const e=window.getComputedStyle(this.textAreaEl);t=parseInt(e.lineHeight,10)}if(isNaN(t)){const e=window.getComputedStyle(this.textAreaEl,null).getPropertyValue("font-size");t=Math.floor(1.5*parseInt(e.replace("px",""),10))}return t}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.m),s.Ob(s.D))},t.\u0275dir=s.Jb({type:t,selectors:[["","autosize",""]],hostBindings:function(t,e){1&t&&s.bc("input",function(t){return e.onInput(t.target)})},inputs:{onlyGrow:"onlyGrow",useImportant:"useImportant",minRows:"minRows",maxRows:"maxRows"},outputs:{resized:"resized"},features:[s.Bb]}),t})(),_M=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[]]}),t})();var wM=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},OM=function(){function t(t,e,n){this._el=t,this._ngZone=e,this.platformId=n,this.clickOutsideEnabled=!0,this.attachOutsideOnClick=!1,this.delayClickOutsideInit=!1,this.emitOnBlur=!1,this.exclude="",this.excludeBeforeClick=!1,this.clickOutsideEvents="",this.clickOutside=new s.o,this._nodesExcluded=[],this._events=["click"],this._initOnClickBody=this._initOnClickBody.bind(this),this._onClickBody=this._onClickBody.bind(this),this._onWindowBlur=this._onWindowBlur.bind(this)}return t.prototype.ngOnInit=function(){q(this.platformId)&&this._init()},t.prototype.ngOnDestroy=function(){q(this.platformId)&&(this._removeClickOutsideListener(),this._removeAttachOutsideOnClickListener(),this._removeWindowBlurListener())},t.prototype.ngOnChanges=function(t){q(this.platformId)&&(t.attachOutsideOnClick||t.exclude||t.emitOnBlur)&&this._init()},t.prototype._init=function(){""!==this.clickOutsideEvents&&(this._events=this.clickOutsideEvents.split(",").map(function(t){return t.trim()})),this._excludeCheck(),this.attachOutsideOnClick?this._initAttachOutsideOnClickListener():this._initOnClickBody(),this.emitOnBlur&&this._initWindowBlurListener()},t.prototype._initOnClickBody=function(){this.delayClickOutsideInit?setTimeout(this._initClickOutsideListener.bind(this)):this._initClickOutsideListener()},t.prototype._excludeCheck=function(){if(this.exclude)try{var t=Array.from(document.querySelectorAll(this.exclude));t&&(this._nodesExcluded=t)}catch(e){console.error("[ng-click-outside] Check your exclude selector syntax.",e)}},t.prototype._onClickBody=function(t){this.clickOutsideEnabled&&(this.excludeBeforeClick&&this._excludeCheck(),this._el.nativeElement.contains(t.target)||this._shouldExclude(t.target)||(this._emit(t),this.attachOutsideOnClick&&this._removeClickOutsideListener()))},t.prototype._onWindowBlur=function(t){var e=this;setTimeout(function(){document.hidden||e._emit(t)})},t.prototype._emit=function(t){var e=this;this.clickOutsideEnabled&&this._ngZone.run(function(){return e.clickOutside.emit(t)})},t.prototype._shouldExclude=function(t){for(var e=0,n=this._nodesExcluded;e<n.length;e++)if(n[e].contains(t))return!0;return!1},t.prototype._initClickOutsideListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._events.forEach(function(e){return document.addEventListener(e,t._onClickBody)})})},t.prototype._removeClickOutsideListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._events.forEach(function(e){return document.removeEventListener(e,t._onClickBody)})})},t.prototype._initAttachOutsideOnClickListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._events.forEach(function(e){return t._el.nativeElement.addEventListener(e,t._initOnClickBody)})})},t.prototype._removeAttachOutsideOnClickListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._events.forEach(function(e){return t._el.nativeElement.removeEventListener(e,t._initOnClickBody)})})},t.prototype._initWindowBlurListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){window.addEventListener("blur",t._onWindowBlur)})},t.prototype._removeWindowBlurListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){window.removeEventListener("blur",t._onWindowBlur)})},(t=function(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([(2,e=Object(s.q)(s.F),function(t,n){e(t,n,2)}),wM("design:paramtypes",[s.m,s.D,Object])],t)).\u0275fac=function(e){return new(e||t)(s.Ob(s.m),s.Ob(s.D),s.Ob(s.F))},t.\u0275dir=s.Jb({type:t,selectors:[["","clickOutside",""]],inputs:{clickOutsideEnabled:"clickOutsideEnabled",attachOutsideOnClick:"attachOutsideOnClick",delayClickOutsideInit:"delayClickOutsideInit",emitOnBlur:"emitOnBlur",exclude:"exclude",excludeBeforeClick:"excludeBeforeClick",clickOutsideEvents:"clickOutsideEvents"},outputs:{clickOutside:"clickOutside"},features:[s.Bb]}),t.\u0275prov=s.Kb({token:t,factory:function(e){return t.\u0275fac(e)}}),t;var e}(),SM=function(){function t(){}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)}}),t}();let EM=(()=>{class t{constructor(){this.fileDrop=new s.o,this.preventBodyDrop=!0,this.active=!1,this.checkFiles=t=>!0}getAsFiles(t){if(t.items){const e=[];for(let n=0;n<t.items.length;n+=1)"file"===t.items[n].kind&&e.push(t.items[n].getAsFile());return t.items.clear(),e}const e=t.files;return t.clearData(),Array.from(e)}getAsItems(t){const e=[];for(let n=0;n<t.items.length;n+=1)"file"===t.items[n].kind&&e.push(t.items[n]);return e}onDrop(t){t.preventDefault(),this.active=!1;const{dataTransfer:e}=t,n=this.getAsFiles(e);this.fileDrop.emit(n)}onDragEnter(t){const{dataTransfer:e}=t,n=this.getAsItems(e);t.dataTransfer.dropEffect=this.checkFiles(n)?"copy":"none",t.stopPropagation(),t.preventDefault(),this.active=!0}onDragOver(t){const{dataTransfer:e}=t,n=this.getAsItems(e);t.dataTransfer.dropEffect=this.checkFiles(n)?"copy":"none",t.stopPropagation(),t.preventDefault(),this.active=!0}onDragLeave(t){this.active=!1}onBodyDragOver(t){this.preventBodyDrop&&(t.preventDefault(),t.stopPropagation())}onBodyDrop(t){this.preventBodyDrop&&t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Jb({type:t,selectors:[["","appDropZone",""]],hostVars:2,hostBindings:function(t,e){1&t&&s.bc("drop",function(t){return e.onDrop(t)})("dragenter",function(t){return e.onDragEnter(t)})("dragover",function(t){return e.onDragOver(t)})("dragleave",function(t){return e.onDragLeave(t)})("dragover",function(t){return e.onBodyDragOver(t)},!1,s.tc)("drop",function(t){return e.onBodyDrop(t)},!1,s.tc),2&t&&s.Gb("drop-zone-active",e.active)},inputs:{preventBodyDrop:"preventBodyDrop",checkFiles:"checkFiles"},outputs:{fileDrop:"appDropZone"}}),t})();const CM={apiKey:"AIzaSyDQ91YqXPmjbH4g-Ei5CMJvjWwqhSmEeSM",authDomain:"botmind-io.firebaseapp.com",databaseURL:"https://botmind-io.firebaseio.com",projectId:"botmind-io",storageBucket:"botmind-io.appspot.com",messagingSenderId:"877271272845",appId:"1:877271272845:web:fa18ab0bac46ae96d981c4",measurementId:"G-8W88FGHGJN"},TM=["*"];let xM=(()=>{class t{constructor(t,e){this.modalService=t,this.el=e,this.additionalStyle={},this.sticky=!1,this.isOpen=!1,this.element=e.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",t=>{this.sticky||"jw-modal"!==t.target.className||this.close()}),this.modalService.add(this)):console.error("modal must have an id")}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.isOpen=!0,this.element.style.display="block",document.body.classList.add("jw-modal-open")}close(){this.isOpen=!1,this.element.style.display="none",document.body.classList.remove("jw-modal-open")}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(Gk),s.Ob(s.m))},t.\u0275cmp=s.Ib({type:t,selectors:[["jw-modal"]],inputs:{id:"id",additionalStyle:"additionalStyle",sticky:"sticky"},ngContentSelectors:TM,decls:4,vars:1,consts:[[1,"jw-modal"],[1,"jw-modal-body",3,"ngStyle"],[1,"jw-modal-background"]],template:function(t,e){1&t&&(s.jc(),s.Ub(0,"div",0),s.Ub(1,"div",1),s.ic(2),s.Tb(),s.Tb(),s.Pb(3,"div",2)),2&t&&(s.Db(1),s.kc("ngStyle",e.additionalStyle))},directives:[B],styles:["jw-modal{display:none}jw-modal .jw-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;overflow:auto}jw-modal .jw-modal .jw-modal-body{padding:20px;background:#fff;margin:40px}jw-modal .jw-modal-background{position:fixed;top:0;right:0;bottom:0;left:0;background:hsla(0,0%,50.2%,.5);z-index:900}body.jw-modal-open{overflow:hidden}"],encapsulation:2}),t})();const kM={suppressScrollX:!0};function IM(t){return new vM(t,"assets/i18n/")}let PM=(()=>{class t{constructor(t){this.injector=t}}var e;return t.\u0275mod=s.Mb({type:t,bootstrap:[wP]}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)(s.Yb(s.u))},providers:[{provide:s.n,useValue:(e={showDialog:!1},new CS(e))},{provide:Lo,deps:[qs],useValue:void 0},{provide:s.d,useFactory:()=>()=>{},deps:[Lo],multi:!0},ES,{provide:Hx,useValue:kM}],imports:[[Ct,eo.forRoot([],{relativeLinkResolution:"legacy"}),DE,Fj,ZC,Kx,$k,_M,dc,SM,ST.forRoot({loader:{provide:eT,useFactory:IM,deps:[Qa]},defaultLanguage:"en"}),ek,Sc.a.initializeApp(CM),SS]]}),t})();var AM;s.xc(zI,[B,EM,A,N,JC,Xx,M,OM,yM,DS,jE,ZS,PE,bM,xM],[OT]),(AM={dsn:"https://da6be50cd2e14a889343197ed5d885c2@o299718.ingest.sentry.io/5547389",integrations:[new Sa.BrowserTracing({tracingOrigins:["localhost","https://api.widget.botmind.io","https://bridge.botmind.io"],routingInstrumentation:function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),Ao=!0,jo=t,Mo=n,e&&t({name:window.location.pathname,op:"pageload"})}})],tracesSampleRate:1e-4})._metadata=AM._metadata||{},AM._metadata.sdk={name:"sentry.javascript.angular",packages:[{name:"npm:@sentry/angular",version:"6.2.1"}],version:"6.2.1"},function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=fn),void 0===t.release){var e=Object(Dt.e)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),function(t,e){!0===e.debug&&Ft.a.enable();var n=Wt(),r=new t(e);n.bindClient(r)}(on,t),t.autoSessionTracking&&function(){if(void 0!==Object(Dt.e)().document){var t=Wt();t.startSession(),t.captureSession(),ce({callback:function(){t.startSession(),t.captureSession()},type:"history"})}else Ft.a.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}(AM),Object(s.W)(),St().bootstrapModule(PM).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[1,0]]]);
//# sourceMappingURL=main-es2015.2f6b82123c8de08e6f36.js.map